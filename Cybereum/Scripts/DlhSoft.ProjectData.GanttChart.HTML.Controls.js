var DlhSoft;"undefined"===typeof DlhSoft&&(DlhSoft={assemblies:[],buildReleaseDate:new Date(1,0,1)});DlhSoft.assemblies.push({assembly:"DlhSoft.ProjectData.GanttChart.HTML.Controls",company:"DlhSoft",product:"Project Data Modern Library",version:"5.3.19.1",copyright:"Copyright \u00a9 2012-2022 DlhSoft",title:"Project Data Gantt Chart HTML Controls",description:"Project Data Gantt Chart related HTML client components"});
DlhSoft.buildReleaseDate=function(c,U,R){c=new Date(c,U-1,R);return c>DlhSoft.buildReleaseDate?c:DlhSoft.buildReleaseDate}(2022,12,16);var _0x5c25="Licensing{undefined{string{DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.{.{length{license{push{type{content{:{lastIndexOf{substr{buildReleaseDate{charCodeAt{pow{toUpperCase{DlhSoft Component Licensing Warning{http://DlhSoft.com/Purchase.aspx{?Assemblies={,{http://www.componentsource.com/features/dlhsoft{ (version {){This component is currently licensed to be used for testing purposes only{The component is part of this assembly{To purchase a standard license for a product that includes this assembly you can use the Purchase page{ownerDocument{div{createElement{style{position: absolute; left: 24px; top: 24px; width: 480px; display: block; z-index: 1; color: Black; background-color: #ffffc0; border: solid 1px Blue; overflow: auto{setAttribute{padding: 6px; padding-top: 8px; font-family: Arial; font-size: small{font-weight: bold; margin-bottom: 4px{appendChild{createTextNode{color: Red; margin-top: 2px; margin-bottom: 2px{margin-top: 4px{a{color: Blue; text-decoration: underline{href{target{_blank{Purchase license{margin-left: 4px; color: Blue; text-decoration: underline{javascript://{Continue trial{click{removeChild{addEventListener{\n\n{: {:\n".split("{");
void 0==DlhSoft[_0x5c25[0]]&&(DlhSoft[_0x5c25[0]]=function(){var c=_0x5c25[1],U=_0x5c25[2],R=[],Y=[],O=_0x5c25[3],ka=function(u,L){if(typeof u!==U||typeof L!==U)return!1;if(L==O)return!0;var W=L[_0x5c25[11]](_0x5c25[10]);if(0<=W){var Z=L[_0x5c25[12]](0,W),H,K=Z[_0x5c25[11]](_0x5c25[10]);if(0<=K)try{H=new Date(parseInt(Z[_0x5c25[12]](K+1)))}catch(J){}typeof H===c&&(H=new Date(2013,11,31));if(DlhSoft[_0x5c25[13]]>H)return!1;Z=Z+_0x5c25[10]+u;for(i=H=0;i<Z[_0x5c25[5]];i++)K=Z[_0x5c25[14]](i),H=(H<<5)-
H+K,H&=H;0>H&&(H=Math[_0x5c25[15]](2,32)-H);Z=H.toString(16)[_0x5c25[16]]();W=L[_0x5c25[12]](W+1);if(Z==W)return!0}return!1},u=function(u,L,W,Z,H){var K=_0x5c25[17],J=_0x5c25[18],T=typeof ComponentSource===c||!ComponentSource?J+_0x5c25[19]+Z+_0x5c25[20]+H:_0x5c25[21],R=Z+_0x5c25[22]+H+_0x5c25[23],U=_0x5c25[24],O=_0x5c25[25],x=_0x5c25[26];setTimeout(function(){var c=u[_0x5c25[27]],k=c[_0x5c25[29]](_0x5c25[28]);k[_0x5c25[32]](_0x5c25[30],_0x5c25[31]);var n=c[_0x5c25[29]](_0x5c25[28]);n[_0x5c25[32]](_0x5c25[30],
_0x5c25[33]);var p=c[_0x5c25[29]](_0x5c25[28]);p[_0x5c25[32]](_0x5c25[30],_0x5c25[34]);n[_0x5c25[35]](p);p[_0x5c25[35]](c[_0x5c25[36]](K));n[_0x5c25[35]](c[_0x5c25[36]](U+_0x5c25[10]));p=c[_0x5c25[29]](_0x5c25[28]);p[_0x5c25[32]](_0x5c25[30],_0x5c25[37]);p[_0x5c25[35]](c[_0x5c25[36]](L));n[_0x5c25[35]](p);n[_0x5c25[35]](c[_0x5c25[36]](O+_0x5c25[10]));p=c[_0x5c25[29]](_0x5c25[28]);p[_0x5c25[32]](_0x5c25[30],_0x5c25[37]);p[_0x5c25[35]](c[_0x5c25[36]](R));n[_0x5c25[35]](p);n[_0x5c25[35]](c[_0x5c25[36]](x+
_0x5c25[10]));p=c[_0x5c25[29]](_0x5c25[28]);p[_0x5c25[32]](_0x5c25[30],_0x5c25[38]);var s=c[_0x5c25[29]](_0x5c25[39]);s[_0x5c25[32]](_0x5c25[30],_0x5c25[40]);s[_0x5c25[32]](_0x5c25[41],T);s[_0x5c25[32]](_0x5c25[42],_0x5c25[43]);s[_0x5c25[35]](c[_0x5c25[36]](_0x5c25[44]));p[_0x5c25[35]](s);s=c[_0x5c25[29]](_0x5c25[39]);s[_0x5c25[32]](_0x5c25[30],_0x5c25[45]);s[_0x5c25[32]](_0x5c25[41],_0x5c25[46]);s[_0x5c25[35]](c[_0x5c25[36]](_0x5c25[47]));s[_0x5c25[50]](_0x5c25[48],function(){u[_0x5c25[49]](k);Y[_0x5c25[7]](W)},
!1);p[_0x5c25[35]](s);n[_0x5c25[35]](p);k[_0x5c25[35]](n);u[_0x5c25[35]](k)},0);setTimeout(function(){alert(K+_0x5c25[51]+U+_0x5c25[52]+L+_0x5c25[51]+O+_0x5c25[53]+R+_0x5c25[51]+x+_0x5c25[4])},600000)};return{setLicense:function(c,u){R[_0x5c25[7]]({type:c,content:u})},validate:function(O,L,W,Z,H,K,J){for(var L=L+_0x5c25[4]+W,T=0;T<Y[_0x5c25[5]];T++)if(Y[T]==L)return;a:if(typeof K!==U&&typeof J!==c&&(J[_0x5c25[6]]!==c&&(K=J[_0x5c25[6]]),typeof J===U&&(K=J)),typeof K!==U)for(J=0;J<R[_0x5c25[5]];J++)if(T=
R[J],T[_0x5c25[8]]==L&&typeof T[_0x5c25[9]]===U){K=T[_0x5c25[9]];break a}ka(L,K)?O[_0x5c25[6]]=K:u(O,W,L,Z,H)}}}());void 0==DlhSoft.Controls&&(DlhSoft.Controls={});
void 0==DlhSoft.Controls.GanttChartView&&(DlhSoft.Controls.GanttChartView=function(){var c="undefined",U=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],R=["January","February","March","April","May","June","July","August","September","October","November","December"],Y=[31,28,31,30,31,30,31,31,30,31,30,31],O=new Date(259200000),ka=new Date(315576259200000),u=function(a,e,d,b,c){a.internalEventListeners&&a.internalEventListeners.push({object:e,event:d,handler:b,useCapture:c});
return b},ba=function(a,e,d,b){function g(b){if(typeof q.x!==c&&!(a.offsetWidth<=0)){var b=q.gridWidth+(b.clientX-q.x),e=a.offsetWidth-b-3,g=Math.max(1,d.minGridWidth),m=Math.max(1,d.minChartWidth);if(b<g){e=e-(g-b);b=g}else if(e<m){b=b-(m-e);e=m}b<1&&(b=1);e<1&&(e=1);typeof y.percent!==c&&delete y.percent;b=Math.ceil(b*1000000/a.offsetWidth)/10000;y.style.width=b+"%";M.style.width=100-b+"%";d.gridWidth=y.offsetWidth+"px";d.chartWidth=M.offsetWidth+"px";Ha(q,y,d);typeof d.splitterPositionChangeHandler!==
c&&setTimeout(function(){d.splitterPositionChangeHandler(y.offsetWidth,M.offsetWidth)},0)}}if(typeof a.ownerDocument.createElementNS===c||typeof a.ownerDocument.addEventListener===c)alert("The required HTML5 features are not supported by the application host. Some features will be unavailable. Consider upgrading.");else{var f=["DlhSoft.Controls","GanttChartView","DlhSoft.ProjectData.GanttChart.HTML.Controls","5","validate","Licensing"];DlhSoft[f[5]][f[4]](a,f[0],f[1],f[2],f[3],b,d);a.isInitializing=
true;if(typeof a.initializedItems!==c){a.initializedItems.forEach(function(a){a.gridItemContainer&&a.gridItemContainer.parentNode&&a.gridItemContainer.parentNode.removeChild(a.gridItemContainer);a.chartItemArea&&a.chartItemArea.parentNode&&a.chartItemArea.parentNode.removeChild(a.chartItemArea);delete a.ganttChartView;delete a.chartItem;delete a.chartItemArea;delete a.gridItem;delete a.gridItemContent;delete a.gridItemSelectionContainer;delete a.gridItemContainer;delete a.alternativeContentContainer;
delete a.toggleButton;delete a.parent;delete a.children;delete a.selectionInput;delete a.contentInput;delete a.startInput;delete a.finishInput;delete a.milestoneInput;delete a.assignmentsContentInput;delete a.completedInput;delete a.dependsOf;delete a.touchMoveHandler;delete a.touchEndHandler});typeof a.draggableItems!==c&&delete a.draggableItems;typeof a.draggableDependencyItems!==c&&delete a.draggableDependencyItems;typeof a.draggableOrderingItems!==c&&delete a.draggableOrderingItems}a.initializedItems=
e.slice();a.internalEventListeners&&a.internalEventListeners.forEach(function(a){a.object.removeEventListener(a.event,a.handler,a.useCapture)});a.internalEventListeners=[];typeof a.settings!==c&&typeof a.settings.toggleButtonAreaWidth!==c&&delete a.settings.toggleButtonAreaWidth;if(typeof a.items!==c)for(b=0;b<a.items.length;b++)delete a.items[b].successors;typeof d!=="object"&&(d={});H(e,d);Z(d,e,a);Dc(a,e,d);b=d.columns;f=d.scales;Ec(b,a,d);ea(e,a);Na(e,d,a);if(typeof d.visibilityFilter!==c){Fc(e,
d.visibilityFilter);for(var h=0,m=0;m<e.length;m++){var l=e[m];if(typeof l.ganttChartItems!==c){if(!l.isHidden)l.scheduleChartVisibilityIndex=h++;for(var j=0;j<l.ganttChartItems.length;j++){var o=l.ganttChartItems[j];if(l.isHidden)o.isHidden=true;o.displayRowIndex=l.scheduleChartVisibilityIndex}}}}var w=K(a,e,d),t=a.ownerDocument,h=t.createElement("div");h.setAttribute("style","font-family: Arial; font-size: small; overflow: auto");m=t.createElement("div");typeof d.containerClass!==c&&m.setAttribute("class",
d.containerClass);typeof d.containerStyle!==c&&m.setAttribute("style",d.containerStyle);h.appendChild(m);l=t.createElement("div");l.setAttribute("style","border: solid 1px "+d.border+"; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; overflow: auto");m.appendChild(l);var y=t.createElement("div");y.setAttribute("style","overflow: auto; float: left; border-right: solid 1px "+
d.border+"; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; width: "+d.gridWidth);d.isGridVisible&&l.appendChild(y);var M=t.createElement("div");M.setAttribute("style","overflow: auto; float: right; width: "+d.chartWidth);l.appendChild(M);var q=t.createElement("div");q.setAttribute("style","position: relative; opacity: 0; left: 0px; width: "+d.splitterWidth*2+"px; height: 0px; border-left: solid "+d.splitterWidth+"px "+d.splitterBackground+"; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: ew-resize; -ms-touch-action: pinch-zoom; touch-action: auto");
q.addEventListener("mouseover",u(a,q,"mouseover",function(){q.style.opacity=1;q.isWaiting!==c&&delete q.isWaiting},true),true);q.addEventListener("mouseout",u(a,q,"mouseout",function(){if(typeof q.isWaiting===c){q.isWaiting=true;setTimeout(function(){if(typeof q.isWaiting!==c){delete q.isWaiting;if(typeof q.x===c)q.style.opacity=0}},250)}},true),true);q.addEventListener("mousedown",u(a,q,"mousedown",function(a){if(a.button==0){q.style.opacity=1;q.x=a.clientX;q.gridWidth=y.offsetWidth}},true),true);
q.addEventListener("touchstart",u(a,q,"touchstart",function(a){a=a.touches[0];q.style.opacity=1;q.x=a.clientX;q.gridWidth=y.offsetWidth},true),true);t.addEventListener("mousemove",u(a,t,"mousemove",function(a){g(a)},true),true);t.addEventListener("touchmove",u(a,t,"touchmove",function(a){g(a.touches[0])},true),true);t.addEventListener("mouseup",u(a,t,"mouseup",function(){if(typeof q.x!==c){delete q.x;q.style.opacity=0}if(DlhSoft.Controls.ToolTip&&d.useUpdatingToolTips)(toolTip=a.toolTip)&&toolTip.hide()},
true),true);t.addEventListener("touchend",u(a,t,"touchend",function(){if(typeof q.x!==c){delete q.x;q.style.opacity=0}},true),true);d.isGridVisible&&d.isSplitterEnabled&&l.appendChild(q);m=t.createElement("div");m.setAttribute("style","float: right; background: "+d.headerBackground+"; width: 0px; height: "+d.headerHeight+"px");y.appendChild(m);l=t.createElement("div");l.setAttribute("style","overflow: hidden; background: "+d.headerBackground+"; border-bottom: solid 1px "+d.border+"; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; height: "+
d.headerHeight+"px");y.appendChild(l);j=t.createElement("div");j.setAttribute("style","float: right; background: "+d.headerBackground+"; width: 0px; height: "+d.headerHeight+"px");M.appendChild(j);o=t.createElement("div");o.setAttribute("style","overflow: hidden; background: "+d.headerBackground+"; border-bottom: solid 1px "+d.border+"; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; height: "+d.headerHeight+"px");M.appendChild(o);var ca=t.createElement("div");
ca.setAttribute("style","overflow-x: "+(typeof d.isExport===c||!d.isExport?"scroll":"hidden")+"; overflow-y: "+(typeof d.isExport===c||!d.isExport?"auto":"hidden")+"; height: "+w);y.appendChild(ca);var k=t.createElement("div");k.setAttribute("style","overflow-x: "+(typeof d.isExport===c||!d.isExport?"scroll":"hidden")+"; overflow-y: "+(typeof d.isExport===c||!d.isExport?"auto":"hidden")+"; height: "+w);M.appendChild(k);var w=lb(b),r=t.createElement("div");r.setAttribute("style","background: "+d.headerBackground+
"; border-bottom: solid 1px "+d.border+"; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; width: "+w+"px; overflow: hidden; height: "+d.headerHeight+"px");l.appendChild(r);var n=t.createElement("div");n.setAttribute("style","float: left; width: "+w+"px; overflow: auto"+(d.horizontalGridLines?"; border-bottom: 1px solid "+d.horizontalGridLines+"; margin-bottom: -1px; ; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box":""));ca.appendChild(n);
if(typeof d.extraSpaceHeight!==c){var p=t.createElement("div");p.setAttribute("style","overflow: hidden; width: "+w+"px; height: "+d.extraSpaceHeight+"px");ca.appendChild(p)}var s=I(d.timelineFinish,d),v=t.createElement("div");v.setAttribute("style","background: "+d.headerBackground+"; border-bottom: solid 1px "+d.border+"; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; width: "+s+"px; height: "+d.headerHeight+"px");o.appendChild(v);var x=t.createElement("div");
x.setAttribute("style","float: left; overflow: hidden; width: "+s+"px; height: 0px");k.appendChild(x);var F=t.createElementNS("http://www.w3.org/2000/svg","svg");F.setAttribute("style","width: "+s+"px; height: 0px");w=d.styleDefinitionTemplate(a);F.appendChild(w);F.chartAreaDefinitions=w;w=t.createElementNS("http://www.w3.org/2000/svg","g");F.appendChild(w);x.chartAreaAlternativeRows=w;w=function(){setTimeout(function(){try{var a=x.chartArea,b=a.chartAreaDefinitions;a.removeChild(b);a.childNodes.length>
0?a.insertBefore(b,a.childNodes[0]):a.appendChild(b)}catch(d){}},0)};F.addEventListener("mousedown",u(a,F,"mousedown",w,true),true);t.addEventListener("mouseup",u(a,t,"mouseup",w,true),true);a.resetChartAreaDefinitions=w;x.appendChild(F);x.chartArea=F;if(typeof d.extraSpaceHeight!==c){w=t.createElement("div");w.setAttribute("style","overflow: hidden; width: "+s+"px; height: "+d.extraSpaceHeight+"px");k.appendChild(w);k.chartExtraSpace=w}var z,A,E,B;setTimeout(function(){A=screen.deviceXDPI;z=a.isInitialized?
-1:a.offsetWidth;E=a.isInitialized?-1:a.offsetHeight;B=M.offsetHeight},0);typeof a.splitterUpdateTimer!==c&&clearInterval(a.splitterUpdateTimer);a.splitterUpdateTimer=setInterval(function(){try{if(typeof q.x===c&&!(a.offsetWidth<=0)){var b=a.offsetWidth,e=M.offsetHeight,g=screen.deviceXDPI;if(b!=z||g!=A){var m=typeof y.percent!==c?y.percent*b:y.offsetWidth,f=M.offsetWidth,j=Math.max(1,d.minGridWidth),l=Math.max(1,d.minChartWidth);if(m<j){f=f-(j-m);m=j}else if(f<l){m=m-(l-f);f=l}m<1&&(m=1);f<1&&(f=
1);var o=Math.ceil(m*100/b);y.percent=o/100;y.style.width=o+"%";M.style.width=100-o+"%";d.gridWidth=y.offsetWidth+"px";d.chartWidth=M.offsetWidth+"px";Ha(q,y,d);if(typeof d.splitterPositionChangeHandler!==c){var h=y.offsetWidth,t=M.offsetWidth;h>0&&t>0&&setTimeout(function(){d.splitterPositionChangeHandler(h,t)},0)}z=b;E=e;A=g}else if(e!=B){Ha(q,y,d);B=e}}}catch(w){try{clearInterval(a.splitterUpdateTimer)}catch(k){}}},100);typeof a.heightUpdateTimer!==c&&clearInterval(a.heightUpdateTimer);a.heightUpdateTimer=
setInterval(function(){try{if(!(a.clientHeight<=0)){var b=a.clientHeight;if(b!=E){var c=K(a,e,d);ca.style.height=c;k.style.height=c;Ha(q,y,d);if(k.style.height!="auto")x.availableHeight=k.clientHeight;ua(x,va(e,d));wa(e,k,d);E=b=a.clientHeight}}}catch(g){try{clearInterval(a.heightUpdateTimer)}catch(m){}}},100);typeof a.scaleUpdateTimer!==c&&clearInterval(a.scaleUpdateTimer);a.chartScale=1;a.scaleUpdateTimer=setInterval(function(){try{var b=a.getItemsHeight(),d=a.gridContent.clientHeight/b;a.chartScale=
d;a.chartContent.style.transform="scaleY("+d+") translateY(-"+(b-a.gridContent.clientHeight)/2+"px)"}catch(e){}},1000);var D=function(b,g,m,f,j,l){var o;if(d.mouseHandler||d.mouseMoveHandler&&l=="mousemove"||d.mouseDownHandler&&l=="mousedown"||(d.clickHandler||d.itemClickHandler||d.chartClickHandler||d.chartItemClickHandler)&&l=="click"||(d.doubleClickHandler||d.itemDoubleClickHandler||d.chartDoubleClickHandler||d.chartItemDoubleClickHandler)&&l=="dblclick"){var h=b.which;!h&&b.button&&(b.button&
1?h=1:b.button&4?h=2:b.button&2&&(h=3));o=j.getBoundingClientRect();var w=t.body,q=t.documentElement,j=o.left+(window.pageXOffset||q.scrollLeft||w.scrollLeft)-(q.clientLeft||w.clientLeft||0);o=Math.round(o.top+(window.pageYOffset||q.scrollTop||w.scrollTop)-(q.clientTop||w.clientTop||0));var j=Math.round(j),j=b.pageX-j,q=(b.pageY-o)/a.chartScale,y=o=0,M,k;if(m)for(w=0;w<e.length;w++){y=e[w];if(y.isVisible&&!(typeof y.isHidden!==c&&y.isHidden)){y=y.itemTop+d.itemHeight;if(q<=y){M=e[w];break}}}else if(g){for(var ca=
d.scales,r=0,n,w=0;w<ca.length;w++){n=ca[w];(typeof n.isHeaderVisible===c||n.isHeaderVisible)&&r++}var v=d.headerHeight;r>0&&(v=d.headerHeight/r);for(w=0;w<ca.length;w++){n=ca[w];if(typeof n.isHeaderVisible===c||n.isHeaderVisible){r=v;if(typeof n.headerHeight!==c)r=n.headerHeight;y=y+r;if(q<=y){M=n;break}}}}if(g)k=Ia(j,d);else{q=d.columns;for(w=0;w<q.length;w++){y=q[w];o=o+(y.width?y.width:0);if(j<=o){k=y;break}}}d.mouseHandler&&d.mouseHandler(l,m,g,M,k,h,f,b);d.mouseMoveHandler&&l=="mousemove"&&
d.mouseMoveHandler(m,g,M,k);d.mouseDownHandler&&l=="mousedown"&&d.mouseDownHandler(m,g,M,k,h);d.clickHandler&&l=="click"&&d.clickHandler(m,g,M,k);d.doubleClickHandler&&l=="dblclick"&&d.doubleClickHandler(m,g,M,k);d.itemClickHandler&&(l=="click"&&m&&M)&&d.itemClickHandler(g,M,k);d.itemDoubleClickHandler&&(l=="dblclick"&&m&&M)&&d.itemDoubleClickHandler(g,M,k);d.chartClickHandler&&(l=="click"&&g)&&d.chartClickHandler(m,M,k);d.chartDoubleClickHandler&&(l=="dblclick"&&g)&&d.chartDoubleClickHandler(m,M,
k);d.chartItemClickHandler&&(l=="click"&&m&&g)&&d.chartItemClickHandler(M,k);d.chartItemDoubleClickHandler&&(l=="dblclick"&&m&&g)&&d.chartItemDoubleClickHandler(M,k)}};r.addEventListener("mousemove",u(a,r,"mousemove",function(a){D(a,false,false,0,r,"mousemove")}));r.addEventListener("mousedown",u(a,r,"mousedown",function(a){D(a,false,false,1,r,"mousedown")}));r.addEventListener("click",u(a,r,"click",function(a){D(a,false,false,1,r,"click")}));r.addEventListener("dblclick",u(a,r,"dblclick",function(a){D(a,
false,false,2,r,"dblclick")}));n.addEventListener("mousemove",u(a,n,"mousemove",function(a){D(a,false,true,0,n,"mousemove")}));n.addEventListener("mousedown",u(a,n,"mousedown",function(a){D(a,false,true,1,n,"mousedown")}));n.addEventListener("click",u(a,n,"click",function(a){D(a,false,true,1,n,"click")}));n.addEventListener("dblclick",u(a,n,"dblclick",function(a){D(a,false,true,2,n,"dblclick")}));v.addEventListener("mousemove",u(a,v,"mousemove",function(a){D(a,true,false,0,v,"mousemove")}));v.addEventListener("mousedown",
u(a,v,"mousedown",function(a){D(a,true,false,1,v,"mousedown")}));v.addEventListener("click",u(a,v,"click",function(a){D(a,true,false,1,v,"click")}));v.addEventListener("dblclick",u(a,v,"dblclick",function(a){D(a,true,false,2,v,"dblclick")}));x.addEventListener("mousemove",u(a,x,"mousemove",function(a){D(a,true,true,0,x,"mousemove")}));x.addEventListener("mousedown",u(a,x,"mousedown",function(a){D(a,true,true,1,x,"mousedown")}));x.addEventListener("click",u(a,x,"click",function(a){D(a,true,true,1,
x,"click")}));x.addEventListener("dblclick",u(a,x,"dblclick",function(a){D(a,true,true,2,x,"dblclick")}));x.addEventListener("touchmove",u(a,x,"touchmove",function(b){a.draggingItem&&b.preventDefault()},true),true);n.container=ca;x.container=k;r.container=l;v.container=o;a.gridContainer=y;a.chartContainer=M;a.gridContent=n;a.chartContent=x;a.gridContentContainer=ca;a.chartContentContainer=k;a.gridHeader=r;a.chartHeader=v;a.gridHeaderContainer=l;a.chartHeaderContainer=o;a.splitter=q;k.isInitializing=
true;w=J(e,d);Gc(a,h);if(k.style.height!="auto")x.availableHeight=k.clientHeight;Hc(r,b,d,a);mb(v,F,f,d);Ic(n,x,F,e,b,w,d,a);Ha(q,y,d);k.isInitializing=false;wa(e,k,d);k.scrollLeft=I(d.displayedTime,d);if(o.scrollLeft!=k.scrollLeft)o.scrollLeft=k.scrollLeft;Jc(a,ca,y,l,m,n,k,o,M,j,x,q,e,d);var C=false,G=function(a,b){typeof b===c&&(b=0);if(d.hourWidth!=a){C=true;var g=k.scrollLeft,m=b,f=d.hourWidth;d.hourWidth=a;typeof d.hourWidthChangeHandler!==c&&setTimeout(function(){d.hourWidthChangeHandler(d.hourWidth)},
0);s=I(d.timelineFinish,d);v.style.width=s+"px";x.style.width=s+"px";F.style.width=s+"px";if(typeof k.chartExtraSpace!==c)k.chartExtraSpace.style.width=s+"px";var j;for(j=v.childNodes.length;j-- >0;)v.removeChild(v.childNodes[j]);var l=[];for(j=F.childNodes.length;j-- >1;){var o=F.childNodes[j];if(o!=x.chartAreaAlternativeRows){o.tag!="Scale-Highlighting"&&(o.tag!="Scale-Highlighting-CurrentTime"&&o.tag!="Scale-Separator"&&o.tag!="Scale-Separator-CurrentTime")&&l.push(o);F.removeChild(o)}}mb(v,F,
d.scales,d);for(j=0;j<e.length;j++){o=e[j];(!d.isVirtualizing||typeof o.isVirtuallyVisible!==c&&o.isVirtuallyVisible)&&fa(o.chartItem,o,d)}for(j=l.length;j-- >0;)F.appendChild(l[j]);ua(x,va(e,d));k.scrollLeft=m*(a/f)-(m-g);setTimeout(function(){C=false},200)}};a.setHourWidth=G;if(typeof d.isMouseWheelZoomEnabled===c||d.isMouseWheelZoomEnabled){b=function(b){b.preventDefault();b.stopPropagation();if(!C){var d=typeof b.wheelDelta!==c?b.wheelDelta>=0?1:-1:typeof b.detail!==c?-b.detail>=0?1:-1:0,e=a.settings,
g=e.hourWidth,m=typeof e.isMouseWheelZoomEnabledMinHourWidth!==c?e.isMouseWheelZoomEnabledMinHourWidth:1;if(d<0)g=g/(1.2*-d);else if(d>0){g=g*1.2*d;d=typeof e.isMouseWheelZoomEnabledMaxHourWidth!==c?e.isMouseWheelZoomEnabledMaxHourWidth:20;g>d&&(g=d)}g<m&&(g=m);G(g,b.offsetX)}};F.addEventListener("mousewheel",u(a,F,"mousewheel",b));F.addEventListener("DOMMouseScroll",u(a,F,"DOMMouseScroll",b))}a.isInitializing=false;a.isInitialized=true;return a}},L=function(a){ba(a,a.items,a.settings,a.license)},
W=function(a){if(typeof a.dateTimePickerType===c)a.dateTimePickerType="text";if(typeof a.useDatePicker===c)a.useDatePicker=true;if(typeof a.useTimePicker===c)a.useTimePicker=true;if(typeof a.useResourceSelector===c)a.useResourceSelector=true;if(typeof a.useUpdatingToolTips===c)a.useUpdatingToolTips=true;if(typeof a.dateFormatter===c)a.dateFormatter=da;if(typeof a.dateTimeFormatter===c)a.dateTimeFormatter=ta;if(typeof a.dateTimeParser===c)a.dateTimeParser=r;if(typeof a.itemPropertyChangeHandler===
c)a.itemPropertyChangeHandler=function(){};if(typeof a.target===c)a.target="Standard";if(typeof a.theme===c)a.theme="Modern";if(typeof a.isGridVisible===c)switch(a.target){default:a.isGridVisible=true;break;case "Phone":a.isGridVisible=false}if(typeof a.interaction===c)a.interaction=a.target!="Phone"?"Standard":"TouchEnabled";if(typeof a.isSplitterEnabled===c)a.isSplitterEnabled=true;if(typeof a.isReadOnly===c)a.isReadOnly=false;if(typeof a.isGridReadOnly===c)a.isGridReadOnly=false;if(typeof a.isChartReadOnly===
c)a.isChartReadOnly=false;if(typeof a.isContentReadOnly===c)a.isContentReadOnly=false;if(typeof a.isAssignmentsContentReadOnly===c)a.isAssignmentsContentReadOnly=false;if(typeof a.isIndividualItemNonworkingTimeHighlighted===c)a.isIndividualItemNonworkingTimeHighlighted=false;if(typeof a.areTaskInterruptionsHighlighted===c)a.areTaskInterruptionsHighlighted=false;if(typeof a.areTaskDependencyConstraintsEnabled===c)a.areTaskDependencyConstraintsEnabled=false;if(typeof a.alwaysHandleInvalidDependencies===
c)a.alwaysHandleInvalidDependencies=false;if(typeof a.selectionMode===c)a.selectionMode="Focus";if(typeof a.isVirtualizing===c)a.isVirtualizing=true},Z=function(a,e,d){W(a);if(typeof a.gridWidth===c)a.gridWidth="35%";if(typeof a.chartWidth===c)a.chartWidth=a.isGridVisible?"65%":"100%";if(typeof a.minGridWidth===c)a.minGridWidth=32;if(typeof a.minColumnWidth===c)a.minColumnWidth=32;if(typeof a.minChartWidth===c)a.minChartWidth=36;if(typeof a.border===c)switch(a.theme){default:a.border="#e0e0e0";break;
case "ModernBordered":case "Aero":a.border="#9a9a9a"}if(typeof a.splitterWidth===c)a.splitterWidth=4;if(typeof a.splitterBackground===c)a.splitterBackground=a.border;if(typeof a.indentationLevelWidth===c)a.indentationLevelWidth=16;if(typeof a.itemHeight===c)a.itemHeight=21;if(typeof a.headerBackground===c)a.headerBackground="#f4f4f4";if(typeof a.headerHeight===c)a.headerHeight=42;if(typeof a.columns===c)a.columns=p(e,a);if(typeof a.toggleButtonStyle===c&&a.toggleButtonClass==null)a.toggleButtonStyle=
"fill: Gray";if(typeof a.toggleButtonHoveringStyle===c&&a.toggleButtonHoveringClass==null)a.toggleButtonHoveringStyle="fill: Black";if(typeof a.collapsedToggleButtonTemplate===c)a.collapsedToggleButtonTemplate=Hb(d,a);if(typeof a.expandedToggleButtonTemplate===c)a.expandedToggleButtonTemplate=Ib(d,a);if(typeof a.gridLines!==c){if(typeof a.horizontalGridLines===c)a.horizontalGridLines=a.gridLines;if(typeof a.verticalGridLines===c)a.verticalGridLines=a.gridLines;if(typeof a.horizontalChartLines===c)a.horizontalChartLines=
a.gridLines}if(typeof a.itemStyle===c&&typeof a.horizontalGridLines!==c){a.itemStyle="border-top: solid 1px "+a.horizontalGridLines+"; margin-top: -1px; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box";if(typeof a.cellStyle===c)a.cellStyle=typeof a.verticalGridLines!==c?"border-right: solid 1px "+a.verticalGridLines+"; height: "+a.itemHeight+"px; padding-top: 2px; padding-left: 2px":"height: "+a.itemHeight+"px; padding-top: 2px"}if(typeof a.cellStyle===c&&typeof a.verticalGridLines!==
c)a.cellStyle="border-right: solid 1px "+a.verticalGridLines+"; height: "+a.itemHeight+"px; padding-top: 3px; padding-left: 2px";if(typeof a.selectedItemStyle===c&&a.selectedItemClass==null)switch(a.theme){default:a.selectedItemStyle=typeof a.horizontalGridLines!==c||typeof a.verticalGridLines===c?"background-color: #f4f4f4; border-top: solid 1px "+(typeof a.horizontalGridLines!==c?a.horizontalGridLines:"White")+"; margin-top: -1px; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box":
"background-color: #f4f4f4";break;case "Aero":a.selectedItemStyle=typeof a.horizontalGridLines!==c||typeof a.verticalGridLines===c?"background-color: LightBlue; border-top: solid 1px "+(typeof a.horizontalGridLines!==c?a.horizontalGridLines:"White")+"; margin-top: -1px; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box":"background-color: LightBlue"}if(typeof a.summaryItemStyle===c&&a.summaryItemClass==null)a.summaryItemStyle="font-weight: bold";if(typeof a.daysOfWeek===
c)a.daysOfWeek=U;if(typeof a.months===c)a.months=R;if(typeof a.weekStartDay===c)a.weekStartDay=0;if(typeof a.currentTime===c)a.currentTime=new Date;else if(typeof a.currentTime==="string")try{a.currentTime=new Date(a.currentTime)}catch(b){a.currentTime=new Date(parseInt(a.currentTime))}if(typeof a.displayedTime==="string")try{a.displayedTime=new Date(a.displayedTime)}catch(g){a.displayedTime=new Date(parseInt(a.displayedTime))}if(typeof a.timelineStart==="string")try{a.timelineStart=new Date(a.timelineStart)}catch(f){a.timelineStart=
new Date(parseInt(a.timelineStart))}if(typeof a.timelineFinish==="string")try{a.timelineFinish=new Date(a.timelineFinish)}catch(h){a.timelineFinish=new Date(parseInt(a.timelineFinish))}if(typeof a.isRelativeToTimezone===c||a.isRelativeToTimezone){a.currentTime=new Date(a.currentTime.valueOf()-a.currentTime.getTimezoneOffset()*60000);if(typeof a.displayedTime!==c)a.displayedTime=new Date(a.displayedTime.valueOf()-a.displayedTime.getTimezoneOffset()*60000);if(typeof a.timelineStart!==c)a.timelineStart=
new Date(a.timelineStart.valueOf()-a.timelineStart.getTimezoneOffset()*60000);if(typeof a.timelineFinish!==c)a.timelineFinish=new Date(a.timelineFinish.valueOf()-a.timelineFinish.getTimezoneOffset()*60000);if(typeof a.scales!==c)for(e=0;e<a.scales.length;e++){var m=a.scales[e];if(typeof m.intervals!==c)for(var l=0;l<m.intervals.length;l++){var j=m.intervals[l];if(typeof j.start!==c)j.start=new Date(j.start.valueOf()-j.start.getTimezoneOffset()*60000);if(typeof j.finish!==c)j.finish=new Date(j.finish.valueOf()-
j.finish.getTimezoneOffset()*60000)}}a.isRelativeToTimezone=false}if(typeof a.schedule!==c&&a.schedule!=null){if(a.schedule!=a.previousSchedule||a.schedule.workingWeekStart!=a.previousSchedule.workingWeekStart)a.workingWeekStart=a.schedule.workingWeekStart;if(a.schedule!=a.previousSchedule||a.schedule.workingWeekFinish!=a.previousSchedule.workingWeekFinish)a.workingWeekFinish=a.schedule.workingWeekFinish;if(a.schedule!=a.previousSchedule||a.schedule.workingDayStart!=a.previousSchedule.workingDayStart)a.visibleDayStart=
a.schedule.workingDayStart;if(a.schedule!=a.previousSchedule||a.schedule.workingDayFinish!=a.previousSchedule.workingDayFinish)a.visibleDayFinish=a.schedule.workingDayFinish;if(a.schedule!=a.previousSchedule||a.schedule.specialNonworkingDays!=a.previousSchedule.specialNonworkingDays)a.specialNonworkingDays=a.schedule.specialNonworkingDays}a.timelineStart=typeof a.timelineStart===c?new Date(xa(a.currentTime,a.weekStartDay).valueOf()-604800000):xa(a.timelineStart,a.weekStartDay);a.timelineFinish=typeof a.timelineFinish===
c?new Date(xa(a.currentTime,a.weekStartDay).valueOf()+32054400000):nb(a.timelineFinish,a.weekStartDay);if(!a.isExport&&typeof a.specialNonworkingDays!==c&&typeof a.specialNonworkingDays!=="function")for(e=0;e<a.specialNonworkingDays.length;e++)a.specialNonworkingDays[e]=X(new Date(a.specialNonworkingDays[e].valueOf()-(a.specialNonworkingDays[e].getTimezoneOffset()<0?a.specialNonworkingDays[e].getTimezoneOffset():0)*60000));if(!a.isExport&&typeof a.resourceSchedules!==c)for(m=0;m<a.resourceSchedules.length;m++){l=
a.resourceSchedules[m].value;if(typeof l.specialNonworkingDays!==c)for(e=0;e<l.specialNonworkingDays.length;e++)l.specialNonworkingDays[e]=X(new Date(l.specialNonworkingDays[e].valueOf()-(l.specialNonworkingDays[e].getTimezoneOffset()<0?l.specialNonworkingDays[e].getTimezoneOffset():0)*60000))}if(typeof a.scales===c)a.scales=Jb(a);if(typeof a.updateScale===c)a.updateScale=900000;if(typeof a.hourWidth===c)a.hourWidth=2.5;if(typeof a.displayedTime===c){a.displayedTime=a.currentTime;setTimeout(function(){var b=
d.chartContentContainer.scrollLeft-a.hourWidth*12;if(d.chartContentContainer.scrollLeft-b<d.chartContentContainer.clientWidth/3)d.chartContentContainer.scrollLeft=Math.max(0,b)},0)}a.previousSchedule=a.schedule;if(typeof a.visibleDayStart===c)a.visibleDayStart=28800000;if(typeof a.visibleDayFinish===c)a.visibleDayFinish=57600000;if(a.visibleDayStart>=a.visibleDayFinish){a.visibleWeekStart=0;a.visibleWeekFinish=86400000}if(typeof a.visibleWeekStart===c)a.visibleWeekStart=0;if(typeof a.visibleWeekFinish===
c)a.visibleWeekFinish=6;if(a.visibleWeekStart>a.visibleWeekFinish)if(a.visibleWeekStart==a.visibleWeekFinish+1){a.visibleWeekStart=0;a.visibleWeekFinish=6}else a.visibleWeekFinish=a.visibleWeekStart;if(typeof a.workingWeekStart===c)a.workingWeekStart=1;if(typeof a.workingWeekFinish===c)a.workingWeekFinish=5;if(a.workingWeekStart>a.workingWeekFinish)if(a.workingWeekStart==a.workingWeekFinish+1){a.workingWeekStart=0;a.workingWeekFinish=6}else a.workingWeekFinish=a.workingWeekStart;a.workingDayStart=
a.visibleDayStart;a.workingDayFinish=a.visibleDayFinish;if(typeof a.barHeight===c)a.barHeight=typeof a.barMargin===c?a.itemHeight/2:a.itemHeight-2*a.barMargin;if(typeof a.barMargin===c)a.barMargin=(a.itemHeight-a.barHeight)/2;if(typeof a.barCornerRadius===c)switch(a.theme){default:a.barCornerRadius=0;break;case "Aero":a.barCornerRadius=3}if(typeof a.completedBarMargin===c)a.completedBarMargin=a.barHeight/2.5;if(typeof a.completedBarHeight===c)a.completedBarHeight=a.barHeight-a.completedBarMargin*
2;if(typeof a.completedBarCornerRadius===c)a.completedBarCornerRadius=0;a.completedBarCornerRadius=Math.min(a.completedBarCornerRadius,Math.max(0,a.barCornerRadius-1));if(typeof a.styleDefinitionTemplate===c)a.styleDefinitionTemplate=Kb(d,a);if(typeof a.standardBarStyle===c&&a.standardBarClass==null)switch(a.theme){default:a.standardBarStyle="fill: #8abbed; fill-opacity: 0.8; stroke: #8abbed; stroke-width: 0.65px";break;case "ModernBordered":a.standardBarStyle="fill: #8abbed; fill-opacity: 0.8; stroke: Blue; stroke-width: 0.65px";
break;case "Aero":a.standardBarStyle="fill: url(#BlueGradient); fill-opacity: 0.8; stroke: Blue"}if(typeof a.standardCompletedBarStyle===c&&a.standardCompletedBarClass==null)switch(a.theme){default:a.standardCompletedBarStyle="fill: #3b87d9; stroke: #3b87d9; stroke-width: 0.65px";break;case "Aero":a.standardCompletedBarStyle="fill: #808080; stroke: #202020; stroke-width: 0.65px"}if(typeof a.summaryBarStyle===c&&a.summaryBarClass==null)switch(a.theme){default:a.summaryBarStyle="fill: #607080; stroke: #607080; stroke-width: 0.65px";
break;case "ModernBordered":a.summaryBarStyle="fill: #607080; stroke: #202020; stroke-width: 0.65px";break;case "Aero":a.summaryBarStyle="fill: url(#BlackGradient); stroke: Black"}if(typeof a.summaryCompletedBarStyle===c&&a.summaryCompletedBarClass==null)switch(a.theme){default:a.summaryCompletedBarStyle="fill: #404040; stroke: #404040; stroke-width: 0.65px";break;case "Aero":a.summaryCompletedBarStyle="fill: #a0a0a0; stroke: #303030; stroke-width: 0.65px"}if(typeof a.collapsedSummaryLineStyle===
c&&a.collapsedSummaryLineClass==null)a.collapsedSummaryLineStyle="stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2 2";if(typeof a.milestoneBarStyle===c&&a.milestoneBarClass==null)switch(a.theme){default:a.milestoneBarStyle="fill: #607080; stroke: #607080; stroke-width: 0.65px";break;case "ModernBordered":a.milestoneBarStyle="fill: #607080; stroke: #202020; stroke-width: 0.65px";break;case "Aero":a.milestoneBarStyle="fill: url(#BlackGradient); stroke: Black"}if(typeof a.baselineBarStyle===
c&&a.baselineBarClass==null)switch(a.theme){default:a.baselineBarStyle="fill: none; stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2, 2";break;case "Aero":a.baselineBarStyle="fill: none; stroke: Blue; stroke-dasharray: 2, 2"}if(typeof a.dependencyPointerStyle===c&&a.dependencyPointerClass==null)switch(a.theme){default:a.dependencyPointerStyle="fill: #3b87d9; stroke: #3b87d9; stroke-width: 0.65px";break;case "Aero":a.dependencyPointerStyle="fill: Blue; stroke: Blue"}if(typeof a.dependencyLineStyle===
c&&a.dependencyLineClass==null)switch(a.theme){default:a.dependencyLineStyle="stroke: #3b87d9; stroke-width: 0.65px; fill: none; marker-end: url(#ArrowMarker)";break;case "Aero":a.dependencyLineStyle="stroke: Blue; stroke-width: 0.65px; fill: none; marker-end: url(#ArrowMarker)"}if(typeof a.dependencyLineZoneStyle===c&&a.dependencyLineZoneClass==null)a.dependencyLineZoneStyle="stroke: White; stroke-opacity: 0; stroke-width: 4px; fill: none";if(typeof a.temporaryDependencyLineStyle===c&&a.temporaryDependencyLineClass==
null)switch(a.theme){default:a.temporaryDependencyLineStyle="stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2, 2; fill: none; marker-end: url(#ArrowMarker)";break;case "Aero":a.temporaryDependencyLineStyle="stroke: Blue; stroke-width: 0.65px; stroke-dasharray: 2, 2; fill: none; marker-end: url(#ArrowMarker)"}if(typeof a.assignmentsStyle===c&&a.assignmentsClass==null)a.assignmentsStyle="stroke-width: 0.25px; font-size: x-small";if(typeof a.standardTaskTemplate===c)a.standardTaskTemplate=
Lb();if(typeof a.summaryTaskTemplate===c)a.summaryTaskTemplate=Mb();if(typeof a.milestoneTaskTemplate===c)a.milestoneTaskTemplate=Nb();if(typeof a.horizontalChartLines!==c){var o=a.internalPreTaskTemplate;a.internalPreTaskTemplate=function(b){if(typeof b.scheduleChartItem!==c)return typeof o!==c?o(b):null;var d=b.ganttChartView.ownerDocument,e=d.createElementNS("http://www.w3.org/2000/svg","g");typeof o!==c&&e.appendChild(o(b));var g=d.createElementNS("http://www.w3.org/2000/svg","line");g.setAttribute("x1",
0);g.setAttribute("y1",-0.5);g.setAttribute("x2",I(a.timelineFinish,a));g.setAttribute("y2",-0.5);g.setAttribute("style","stroke: "+a.horizontalChartLines+"; stroke-width: 0.5px");e.appendChild(g);if(b.index==b.ganttChartView.items.length-1){g=d.createElementNS("http://www.w3.org/2000/svg","line");g.setAttribute("x1",0);g.setAttribute("y1",a.itemHeight+0.5);g.setAttribute("x2",I(a.timelineFinish,a));g.setAttribute("y2",a.itemHeight+0.5);g.setAttribute("style","stroke: "+a.horizontalChartLines+"; stroke-width: 0.5px");
e.appendChild(g)}return e}}if(typeof a.isTaskToolTipVisible===c)switch(a.target){default:a.isTaskToolTipVisible=true;break;case "Phone":a.isTaskToolTipVisible=false}if(typeof a.itemTemplate===c)a.itemTemplate=Ob(a);if(typeof a.areTaskAssignmentsVisible===c)a.areTaskAssignmentsVisible=true;if(typeof a.assignmentsTemplate===c)a.assignmentsTemplate=Pb();if(typeof a.isTaskCompletedEffortVisible===c)a.isTaskCompletedEffortVisible=true;if(typeof a.areTaskDependenciesVisible===c)a.areTaskDependenciesVisible=
true;if(typeof a.dependencyLineTemplate===c)a.dependencyLineTemplate=Qb();if(typeof a.isDependencyToolTipVisible===c)a.isDependencyToolTipVisible=a.isTaskToolTipVisible;if(typeof a.predecessorItemTemplate===c)a.predecessorItemTemplate=Rb(a);if(typeof a.isDraggingTaskStartEndsEnabled===c)a.isDraggingTaskStartEndsEnabled=true;if(typeof a.areTaskDependencyConstraintsEnabledWhileDragging===c)a.areTaskDependencyConstraintsEnabledWhileDragging=false;if(typeof a.isTaskStartReadOnly===c)a.isTaskStartReadOnly=
false;if(typeof a.isTaskEffortReadOnly===c)a.isTaskEffortReadOnly=false;if(typeof a.isTaskCompletionReadOnly===c)a.isTaskCompletionReadOnly=false;if(typeof a.areTaskPredecessorsReadOnly===c)a.areTaskPredecessorsReadOnly=false;if(typeof a.isBaselineVisible===c)a.isBaselineVisible=true;if(typeof a.areStandardTaskLabelsVisible===void 0)a.areStandardTaskLabelsVisible=false;if(typeof a.areSummaryTaskLabelsVisible===void 0)a.areSummaryTaskLabelsVisible=false;if(typeof a.areMilestoneTaskLabelsVisible===
void 0)a.areMilestoneTaskLabelsVisible=false;if(typeof a.isSummaryTaskCompletedEffortVisible===c)a.isSummaryTaskCompletedEffortVisible=false;var w=null;if(a.isIndividualItemNonworkingTimeHighlighted||a.areTaskInterruptionsHighlighted)for(e=0;e<a.scales.length;e++)if(a.scales[e].scaleType=="NonworkingTime"){w=a.scales[e];break}if(w!=null&&a.isIndividualItemNonworkingTimeHighlighted){var t=a.internalPreTaskTemplate;a.internalPreTaskTemplate=function(b){if(typeof b.scheduleChartItem!==c)return typeof t!==
c?t(b):null;var d;d=D(b);if(typeof d===c)d=null;else{var e=[],g,m;g=Ja(a.timelineStart,typeof d.workingWeekFinish!==c?d.workingWeekFinish:a.workingWeekFinish);for(m=ob(g,typeof d.workingWeekStart!==c?d.workingWeekStart:a.workingWeekStart);g<a.timelineFinish;g=ya(g),m=ya(m))e.push({start:g,finish:m});if(typeof d.specialNonworkingDays!==c)if(typeof d.specialNonworkingDays==="function"){g=Ja(a.timelineStart,a.workingWeekFinish);for(m=V(g);g<a.timelineFinish;g=V(g),m=V(m))d.specialNonworkingDays(g)&&
e.push({start:g,finish:m})}else for(var f=0;f<d.specialNonworkingDays.length;f++){g=d.specialNonworkingDays[f];m=V(g);e.push({start:g,finish:m})}d=e}if(d==null||d.length==0)return typeof t!==c?t(b):null;e=b.ganttChartView.ownerDocument;g=e.createElementNS("http://www.w3.org/2000/svg","g");for(m=0;m<d.length;m++){var f=d[m],j=f.finish,f=I(f.start,a),j=I(j,a)-f;if(!(j<=0)){var l=e.createElementNS("http://www.w3.org/2000/svg","rect");l.setAttribute("x",f-1);l.setAttribute("y",0);l.setAttribute("width",
j);l.setAttribute("height",a.itemHeight);l.setAttribute("class",w.highlightingClass);l.setAttribute("style",w.highlightingStyle);g.appendChild(l)}}typeof t!==c&&g.appendChild(t(b));return g}}if(w!=null&&a.areTaskInterruptionsHighlighted){var y=a.internalExtraTaskTemplate;a.internalExtraTaskTemplate=function(b){if(typeof b.scheduleChartItem!==c)return typeof y!==c?y(b):null;var d;if(b.hasChildren&&(typeof b.isSummaryEnabled===c||b.isSummaryEnabled)||b.isMilestone)d=null;else{var e=D(b);d=[];var g,
m;g=Ja(X(b.start),typeof e!==c&&typeof e.workingWeekFinish!==c?e.workingWeekFinish:a.workingWeekFinish);for(m=ob(g,typeof e!==c&&typeof e.workingWeekStart!==c?e.workingWeekStart:a.workingWeekStart);g<b.finish;g=ya(g),m=ya(m))d.push({start:g>=b.start?g:b.start,finish:m<=b.finish?m:b.finish});var f=typeof e!==c&&typeof e.specialNonworkingDays!==c?e.specialNonworkingDays:a.specialNonworkingDays;if(typeof f!==c)if(typeof f==="function"){g=Ja(X(b.start),typeof e!==c&&typeof e.workingWeekFinish!==c?e.workingWeekFinish:
a.workingWeekFinish);for(m=V(g);g<X(b.finish);g=V(g),m=V(m))e.specialNonworkingDays(g)&&d.push({start:g,finish:m})}else for(e=0;e<f.length;e++){g=f[e];m=V(g);g>=b.start&&m<=b.finish&&d.push({start:g,finish:m})}}if(d==null||d.length==0)return typeof y!==c?y(b):null;g=b.ganttChartView.ownerDocument;m=g.createElementNS("http://www.w3.org/2000/svg","g");for(f=0;f<d.length;f++){var e=d[f],j=e.finish,e=I(e.start,a),j=I(j,a)-e;if(!(j<=0)){var l=g.createElementNS("http://www.w3.org/2000/svg","rect");l.setAttribute("x",
e-1);l.setAttribute("y",a.barMargin);l.setAttribute("width",j);l.setAttribute("height",a.barHeight);l.setAttribute("class",w.highlightingClass);l.setAttribute("style",w.highlightingStyle);m.appendChild(l)}}typeof y!==c&&m.appendChild(y(b));return m}}},H=function(a,e){for(var d=0;d<a.length;d++){var b=a[d];if(typeof b==="string"){b={content:b};a[d]=b}if(typeof b.indentation==="string")b.indentation=parseInt(b.indentation);if(typeof b.isExpanded==="string")b.isExpanded=b.isExpanded.toLowerCase()=="true";
if(typeof b.start==="string"){try{b.start=new Date(b.start)}catch(g){b.start=new Date(parseInt(b.start))}if(typeof e.isRelativeToTimezone===c||e.isRelativeToTimezone)b.start=new Date(b.start.valueOf()+b.start.getTimezoneOffset()*60000);b.preferredStart=b.start}if(typeof b.finish==="string"){try{b.finish=new Date(b.finish)}catch(f){b.finish=new Date(parseInt(b.finish))}if(typeof e.isRelativeToTimezone===c||e.isRelativeToTimezone)b.finish=new Date(b.finish.valueOf()+b.finish.getTimezoneOffset()*60000)}if(typeof b.completedFinish===
"string"){try{b.completedFinish=new Date(b.completedFinish)}catch(h){b.completedFinish=new Date(parseInt(b.completedFinish))}if(typeof e.isRelativeToTimezone===c||e.isRelativeToTimezone)b.completedFinish=new Date(b.completedFinish.valueOf()+b.completedFinish.getTimezoneOffset()*60000)}if(typeof b.isMilestone==="string")b.isMilestone=b.isMilestone.toLowerCase()=="true";if(typeof b.baselineStart==="string"){try{b.baselineStart=new Date(b.baselineStart)}catch(m){b.baselineStart=new Date(parseInt(b.baselineStart))}if(typeof e.isRelativeToTimezone===
c||e.isRelativeToTimezone)b.baselineStart=new Date(b.baselineStart.valueOf()+b.baselineStart.getTimezoneOffset()*60000)}if(typeof b.baselineFinish==="string"){try{b.baselineFinish=new Date(b.baselineFinish)}catch(l){b.baselineFinish=new Date(parseInt(b.baselineFinish))}if(typeof e.isRelativeToTimezone===c||e.isRelativeToTimezone)b.baselineFinish=new Date(b.baselineFinish.valueOf()+b.baselineFinish.getTimezoneOffset()*60000)}if(typeof b.minStart==="string"){try{b.minStart=new Date(b.minStart)}catch(j){b.minStart=
new Date(parseInt(b.minStart))}if(typeof e.isRelativeToTimezone===c||e.isRelativeToTimezone)b.minStart=new Date(b.minStart.valueOf()+b.minStart.getTimezoneOffset()*60000)}if(typeof b.maxStart==="string"){try{b.maxStart=new Date(b.maxStart)}catch(o){b.maxStart=new Date(parseInt(b.maxStart))}if(typeof e.isRelativeToTimezone===c||e.isRelativeToTimezone)b.maxStart=new Date(b.maxStart.valueOf()+b.maxStart.getTimezoneOffset()*60000)}if(typeof b.minFinish==="string"){try{b.minFinish=new Date(b.minFinish)}catch(w){b.minFinish=
new Date(parseInt(b.minFinish))}if(typeof e.isRelativeToTimezone===c||e.isRelativeToTimezone)b.minFinish=new Date(b.minFinish.valueOf()+b.minFinish.getTimezoneOffset()*60000)}if(typeof b.maxFinish==="string"){try{b.maxFinish=new Date(b.maxFinish)}catch(t){b.maxFinish=new Date(parseInt(b.maxFinish))}if(typeof e.isRelativeToTimezone===c||e.isRelativeToTimezone)b.maxFinish=new Date(b.maxFinish.valueOf()+b.maxFinish.getTimezoneOffset()*60000)}if(typeof b.predecessors!==c){if(typeof b.predecessors==="string")b.predecessors=
b.predecessors.split(",");for(var y=0;y<b.predecessors.length;y++){var k=b.predecessors[y];if(typeof k==="string"){k={item:k};b.predecessors[y]=k}if(typeof k.item==="string"){var q=parseInt(k.item)-1;k.item=q>=0&&q<a.length?a[q]:null}if(typeof k.lag==="string")k.lag=parseFloat(k.lag)}}if(typeof b.schedule!==c&&typeof b.schedule.specialNonworkingDays!==c&&typeof e.specialNonworkingDays!=="function")for(y=0;y<b.schedule.specialNonworkingDays.length;y++)b.schedule.specialNonworkingDays[y]=X(new Date(b.schedule.specialNonworkingDays[y].valueOf()-
b.schedule.specialNonworkingDays[y].getTimezoneOffset()*60000));typeof b.wasGridItemContentLoaded!==c&&delete b.wasGridItemContentLoaded}},K=function(a,e,d){var b;if(a.isContentHeightInitialized&&a.isContentHeightAuto)b=e.length>0?"auto":d.itemHeight+"px";else{var c=a.clientHeight-d.headerHeight-2;c<0&&(c=0);b=c+"px";if(c<d.itemHeight){if(!a.isContentHeightInitialized)a.isContentHeightAuto=true;b=e.length>0?"auto":d.itemHeight+"px"}a.isContentHeightInitialized=true}return b},J=function(a,e){if(typeof e.toggleButtonAreaWidth!==
c)return e.toggleButtonAreaWidth;var d=0;if(e.isGridVisible)for(var b=0;b<a.length;b++)if((typeof a[b].scheduleChartItem===c||a[b].scheduleChartItem==a[b])&&a[b].indentation>0){d=16;break}return e.toggleButtonAreaWidth=d},T=function(a,e){var d=a.createElement("span");d.innerHTML=e;return d},ia=function(a,e){return e==true?a.createTextNode("\u2713"):a.createTextNode("")},da=function(a){var e=a.getFullYear(),d=a.getMonth()+1;d<10&&(d="0"+d);a=a.getDate();a<10&&(a="0"+a);return d+"/"+a+"/"+e},ta=function(a){var e=
da(a),d=a.getHours();d<10&&(d="0"+d.toString());a=a.getMinutes();a<10&&(a="0"+a.toString());return e+" "+d+":"+a},x=function(a){return new Date(a.valueOf()+a.getTimezoneOffset()*60000)},r=function(a){var e=new Date;if(a==null||a=="")return e;var d,b,c,f;c=a.indexOf(" ");if(c>=0){d=a.substr(0,c);f=a.substr(c+1)}else{d=a;f="0"}c=d.indexOf("/");if(c>=0){for(a=d.substr(0,c);a.length>0&&a.substr(0,1)=="0";)a=a.substr(1);a=parseInt(a)-1;d=d.substr(c+1);c=d.indexOf("/");if(c>=0){b=d.substr(0,c);for(c=d.substr(c+
1);c.length>0&&c.substr(0,1)=="0";)c=c.substr(1);d=parseInt(c)}else{b=d;d=e.getFullYear()}for(;b.length>0&&b.substr(0,1)=="0";)b=b.substr(1);b=parseInt(b)}else{for(;d.length>0&&d.substr(0,1)=="0";)d=d.substr(1);b=parseInt(d);a=e.getMonth();d=e.getFullYear()}var h;c=f.indexOf(":");if(c>=0){h=f.substr(0,c);f=f.substr(c+1)}else{h=f;f="0"}for(;h.length>1&&h.substr(0,1)=="0";)h=h.substr(1);for(c=parseInt(h);f.length>1&&f.substr(0,1)=="0";)f=f.substr(1);f=parseInt(f);return isNaN(d)||isNaN(a)||isNaN(b)||
d<=0||a<0||a>=12||b<1||b>Y[a]+(a!=1||!(d%400==0||(d%100==0?0:d%4==0))?0:1)?isNaN(c)||isNaN(f)||c<0||c>=24||f<0||f>=60?e:new Date(e.getFullYear(),e.getMonth(),e.getDate(),c,f,0,0):isNaN(c)||isNaN(f)||c<0||c>=24||f<0||f>=60?new Date(d,a,b,0,0,0,0):new Date(d,a,b,c,f,0,0)},k=function(a){return new Date(a.valueOf()-a.getTimezoneOffset()*60000)},n=function(a,e){var d=a.ownerDocument,b=d.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("style","width: 12px; height: 12px; vertical-align: initial");
b.setAttribute("focusable","false");d=d.createElementNS("http://www.w3.org/2000/svg","rect");d.setAttribute("id","PART_Border");d.setAttribute("width","12");d.setAttribute("height","12");d.setAttribute("style","fill: White; fill-opacity: 0");b.appendChild(d);a.setAttribute("id","PART_Button");typeof e.toggleButtonClass!==c&&a.setAttribute("class",e.toggleButtonClass);typeof e.toggleButtonStyle!==c&&a.setAttribute("style",e.toggleButtonStyle);b.appendChild(a);return b},p=function(a,e){typeof e!=="object"&&
(e={});W(e);var d=[{header:"",width:32,isSelection:true},{header:"Task",width:140,isTreeView:true},{header:"Start",width:140},{header:"Finish",width:140},{header:"Milestone",width:80},{header:"Completed",width:80},{header:"Assignments",width:200}];d[0].cellTemplate=s(e,d[0],a);d[1].cellTemplate=E(e,d[1],a);d[1].exportCellTemplate=E(e,d[1],a,false);d[2].cellTemplate=Sb(e,d[2]);d[2].exportCellTemplate=Sb(e,d[2],false);d[3].cellTemplate=Tb(e,d[3]);d[3].exportCellTemplate=Tb(e,d[3],false);d[4].cellTemplate=
G(e,d[4]);d[4].exportCellTemplate=G(e,d[4],false);d[5].cellTemplate=Ub(e,d[5]);d[5].exportCellTemplate=Ub(e,d[5],false);d[6].cellTemplate=Vb(e,d[6]);d[6].exportCellTemplate=Vb(e,d[6],false);e.selectionMode!="Single"&&(e.selectionMode!="Extended"&&e.selectionMode!="ExtendedFocus")&&d.splice(0,1);return d},s=function(a,e,d){return function(b){return!e.isReadOnly?F(b,a,d):ia(b.ganttChartView.ownerDocument,b.isSelected)}},F=function(a,e){var d=a.ganttChartView.ownerDocument,b;if(typeof a.selectionInput===
c){b=d.createElement("input");a.selectionInput=b;b.type="checkbox";b.setAttribute("style","margin: 0px")}else b=a.selectionInput;if(a.isSelected){b.setAttribute("checked","checked");if(!b.checked)b.checked=true}else if(b.checked)b.checked=false;var g=function(){b.checked?v(a,true,e.selectionMode):v(a,false,e.selectionMode)};typeof b.changeEventListener!==c&&b.removeEventListener("change",b.changeEventListener,true);b.addEventListener("change",g,true);b.changeEventListener=g;d=function(a){if(a.keyCode==
13){a.preventDefault();a.stopPropagation();g(a)}};typeof b.keyPressEventListener!==c&&b.removeEventListener("keypress",b.keyPressEventListener,true);b.addEventListener("keypress",d,true);b.keyPressEventListener=d;return b},v=function(a,e,d){a.isSelected=e;A(a,"isSelected",true,true);Wb(a);if(typeof a.ganttChartView!==c){a.ganttChartView.selectedItem=a;if(d!="Extended"&&d!="ExtendedFocus")a.ganttChartView.selectedItems=[a];var b;if(d!="Extended"&&d!="ExtendedFocus")for(b=0;b<a.ganttChartView.items.length;b++){e=
a.ganttChartView.items[b];if(e!=a&&e.isSelected){e.isSelected=false;A(e,"isSelected",false,true);Wb(e)}}}if(typeof a.ganttChartView!==c&&(d=="Extended"||d=="ExtendedFocus")){d=[];for(b=0;b<a.ganttChartView.items.length;b++){e=a.ganttChartView.items[b];e.isSelected&&d.push(e)}a.ganttChartView.selectedItems=d}},z=function(a,e){if(typeof a.ganttChartView!==c)a.ganttChartView.currentItem=a;if(e.selectionMode=="Focus"||e.selectionMode=="ExtendedFocus"){if(typeof a.scheduleChartItem!==c)a=a.scheduleChartItem;
a.isSelected||v(a,true,e.selectionMode)}},E=function(a,e,d,b){var g=function(a){return T(a.ganttChartView.ownerDocument,a.content)};return(typeof b===c||b)&&!a.isReadOnly&&!a.isGridReadOnly&&!a.isContentReadOnly?function(b){return!e.isReadOnly&&(typeof b.isReadOnly===c||!b.isReadOnly)?B(b,Math.max(0,e.width-b.indentation*b.ganttChartView.settings.indentationLevelWidth-b.ganttChartView.settings.toggleButtonAreaWidth-16),a):g(b)}:g},B=function(a,e,d){var b=a.ganttChartView.ownerDocument,g;if(typeof a.contentInput===
c){g=b.createElement("input");a.contentInput=g;g.type="text";g.addEventListener("focus",function(){z(a,d)},false);var f=function(){a.content=g.value;A(a,"content",true,true);na(a)};typeof g.changeEventListener!==c&&g.removeEventListener("change",g.changeEventListener,true);g.addEventListener("change",f,true);g.changeEventListener=f;b=function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();f(a)}};typeof g.keyPressEventListener!==c&&g.removeEventListener("keypress",g.keyPressEventListener,
true);g.addEventListener("keypress",b,true);g.keyPressEventListener=b;g.addEventListener("focus",function(){g.style.backgroundColor="White"},false);g.addEventListener("blur",function(){g.style.backgroundColor="Transparent"},false)}else g=a.contentInput;g.value=a.content;b="";if(a.hasChildren&&(typeof a.isSummaryEnabled===c||a.isSummaryEnabled))b="; font-weight: bold";g.setAttribute("style","background-color: Transparent; width: "+e+"px; border-width: 0px; padding: 0px"+b);return g},Sb=function(a,
e,d){var b=function(b){return typeof b.start===c||typeof b.isSummaryEnabled!==c&&!b.isSummaryEnabled&&typeof b.isBarVisible!==c&&!b.isBarVisible?b.ganttChartView.ownerDocument.createTextNode(""):b.ganttChartView.ownerDocument.createTextNode(a.dateTimeFormatter(x(b.start)))};return(typeof d===c||d)&&!a.isReadOnly&&!a.isGridReadOnly?function(d){return!e.isReadOnly&&(typeof d.isReadOnly===c||!d.isReadOnly)&&!(typeof d.isSummaryEnabled!==c&&!d.isSummaryEnabled&&typeof d.isBarVisible!==c&&!d.isBarVisible)?
Kc(d,Math.max(0,e.width-16),a):b(d)}:b},Kc=function(a,e,d){var b=a.ganttChartView.ownerDocument,g=b.createElement("input");a.startInput=g;try{g.type=d.dateTimePickerType}catch(f){g.type="text"}g.addEventListener("focus",function(){z(a,d)},false);g.addEventListener("focus",function(){g.style.backgroundColor="White"},false);g.addEventListener("blur",function(){g.style.backgroundColor="Transparent"},false);if(typeof a.start!==c)g.value=d.dateTimeFormatter(x(a.start));DlhSoft.Controls.DatePicker&&(d.dateTimePickerType==
"text"&&d.useDatePicker)&&g.addEventListener("focus",function(){if(!a.isWaitingToRefreshGridItem){var e=(d.useTimePicker&&DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).get(g);if(!e||!e.isOpen){var c=0,m=0;try{c=g.selectionStart;m=g.selectionEnd}catch(f){}e=(d.useTimePicker&&DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).initialize(g,void 0,{inputStyle:null,isDropDownButtonVisible:false,defaultTimeOfDay:d.workingDayStart,
dateTimeFormatter:d.dateTimeFormatter,dateTimeParser:d.dateTimeParser,popupStyle:"margin-top: 1px; background-color: White; border: 1px solid "+d.border,disabledDateSelector:Xb(d),disabledTimeSelector:C(d),calendarSelectorLevels:d.calendarSelectorLevels,months:d.months,daysOfWeek:$a(d.daysOfWeek),weekStart:d.weekStartDay},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");e.openDropDown();setTimeout(function(){try{g.selectionStart=
c;g.selectionEnd=m}catch(a){}},100);navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)==null?setTimeout(function(){try{g.focus()}catch(a){}},100):b.createEvent&&setTimeout(function(){var a=b.createEvent("MouseEvents");a.initEvent("blur",true,false);g.dispatchEvent(a)})}}},true);var h="";if(a.hasChildren&&(typeof a.isSummaryEnabled===c||a.isSummaryEnabled))h="; font-weight: bold";g.setAttribute("style","background-color: Transparent; width: "+e+"px; border-width: 0px; padding: 0px"+h);a.hasChildren&&
(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)?g.setAttribute("disabled","true"):g.removeAttribute("disabled");var m=function(){if(!a.hasChildren||!(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)){var b=a.completedFinish>a.start,e,m;if(d.isTaskEffortPreservedWhenStartChangesInGrid){e=ga(a,d);m=za(a,d)}var f=a.start.valueOf(),h=a.finish.valueOf(),y=a.completedFinish.valueOf(),r=d.dateTimeParser(g.value);if(r==null||isNaN(r))r=new Date;a.start=P(k(r),d,true,a.isMilestone,D(a));a.preferredStart=
a.start;if(a.isMilestone)a.finish=a.start;a.start.valueOf()!=f&&A(a,"start",true,true);if(a.finish<a.start){a.finish=a.start;a.finish.valueOf()!=h&&A(a,"finish",false,true)}if(a.completedFinish<a.start||!b){a.completedFinish=a.start;a.completedFinish.valueOf()!=y&&A(a,"completedFinish",false,true)}else if(a.completedFinish>a.finish){a.completedFinish=a.finish;a.completedFinish.valueOf()!=y&&A(a,"completedFinish",false,true)}if(typeof a.completedInput!==c){b=a.completedInput;typeof b.changeEventListener!==
c&&b.removeEventListener("change",b.changeEventListener,true);delete a.completedInput}if(d.isTaskEffortPreservedWhenStartChangesInGrid){ab(a,e,d);bb(a,m,d)}}$(a)};typeof g.changeEventListener!==c&&g.removeEventListener("change",g.changeEventListener,true);g.addEventListener("change",m,true);g.changeEventListener=m;e=function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();m(a)}};typeof g.keyPressEventListener!==c&&g.removeEventListener("keypress",g.keyPressEventListener,true);g.addEventListener("keypress",
e,true);g.keyPressEventListener=e;return g},Tb=function(a,e,d){var b=function(b){return typeof b.finish===c||typeof b.isMilestone!==c&&b.isMilestone==true&&typeof b.start!==c&&b.finish.valueOf()==b.start.valueOf()||typeof b.isSummaryEnabled!==c&&!b.isSummaryEnabled&&typeof b.isBarVisible!==c&&!b.isBarVisible?b.ganttChartView.ownerDocument.createTextNode(""):b.ganttChartView.ownerDocument.createTextNode(a.dateTimeFormatter(x(b.finish)))};return(typeof d===c||d)&&!a.isReadOnly&&!a.isGridReadOnly?function(d){return!e.isReadOnly&&
(typeof d.isReadOnly===c||!d.isReadOnly)&&!(typeof d.isSummaryEnabled!==c&&!d.isSummaryEnabled&&typeof d.isBarVisible!==c&&!d.isBarVisible)?Lc(d,Math.max(0,e.width-16),a):b(d)}:b},Lc=function(a,e,d){var b=a.ganttChartView.ownerDocument,g=b.createElement("input");a.finishInput=g;try{g.type=d.dateTimePickerType}catch(f){g.type="text"}g.addEventListener("focus",function(){z(a,d)},false);g.addEventListener("focus",function(){g.style.backgroundColor="White"},false);g.addEventListener("blur",function(){g.style.backgroundColor=
"Transparent"},false);if(typeof a.finish!==c)g.value=d.dateTimeFormatter(x(a.finish));DlhSoft.Controls.DatePicker&&(d.dateTimePickerType=="text"&&d.useDatePicker)&&g.addEventListener("focus",function(){if(!a.isWaitingToRefreshGridItem){var e=(d.useTimePicker&&DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).get(g);if(!e||!e.isOpen){var c=0,m=0;try{c=g.selectionStart;m=g.selectionEnd}catch(f){}e=(d.useTimePicker&&DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:
DlhSoft.Controls.DatePicker).initialize(g,void 0,{inputStyle:null,isDropDownButtonVisible:false,defaultTimeOfDay:d.workingDayFinish,dateTimeFormatter:d.dateTimeFormatter,dateTimeParser:d.dateTimeParser,popupStyle:"margin-top: 1px; background-color: White; border: 1px solid "+d.border,disabledDateSelector:Xb(d),disabledTimeSelector:S(d,a),calendarSelectorLevels:d.calendarSelectorLevels,months:d.months,daysOfWeek:$a(d.daysOfWeek),weekStart:d.weekStartDay},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");
e.openDropDown();setTimeout(function(){try{g.selectionStart=c;g.selectionEnd=m}catch(a){}},100);navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)==null?setTimeout(function(){try{g.focus()}catch(a){}},100):b.createEvent&&setTimeout(function(){var a=b.createEvent("MouseEvents");a.initEvent("blur",true,false);g.dispatchEvent(a)})}}},true);var h="";typeof a.isMilestone!==c&&a.isMilestone==true&&(h="; visibility: hidden");var m="";if(a.hasChildren&&(typeof a.isSummaryEnabled===c||a.isSummaryEnabled))m=
"; font-weight: bold";g.setAttribute("style","background-color: Transparent; width: "+e+"px; border-width: 0px; padding: 0px"+h+m);a.hasChildren&&(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)?g.setAttribute("disabled","true"):g.removeAttribute("disabled");var l=function(){if(!a.hasChildren||!(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)){var b=a.finish.valueOf(),e=a.completedFinish.valueOf(),m=d.dateTimeParser(g.value);if(m==null||isNaN(m))m=new Date;m=k(m);g.value.length>0&&(g.value.indexOf(" ")<
0&&la(m)==0)&&(m=V(m));a.finish=P(m,d,a.isMilestone,true,D(a));if(a.finish<a.start)a.finish=a.start;a.finish.valueOf()!=b&&A(a,"finish",true,true);if(a.completedFinish<a.start){a.completedFinish=a.start;a.completedFinish.valueOf()!=e&&A(a,"completedFinish",false,true)}else if(a.completedFinish>a.finish){a.completedFinish=a.finish;a.completedFinish.valueOf()!=e&&A(a,"completedFinish",false,true)}if(typeof a.completedInput!==c){b=a.completedInput;typeof b.changeEventListener!==c&&b.removeEventListener("change",
b.changeEventListener,true);delete a.completedInput}}$(a)};typeof g.changeEventListener!==c&&g.removeEventListener("change",g.changeEventListener,true);g.addEventListener("change",l,true);g.changeEventListener=l;e=function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();l(a)}};typeof g.keyPressEventListener!==c&&g.removeEventListener("keypress",g.keyPressEventListener,true);g.addEventListener("keypress",e,true);g.keyPressEventListener=e;return g},Xb=function(a){return function(e){if(e.getDay()<
a.workingWeekStart||e.getDay()>a.workingWeekFinish)return true;if(a.specialNonworkingDays){if(typeof a.specialNonworkingDays==="function")return a.specialNonworkingDays(k(e));for(var e=k(e).valueOf(),d=0;d<a.specialNonworkingDays.length;d++)if(e==a.specialNonworkingDays[d].valueOf())return true}return false}},C=function(a){return function(e){return e<a.visibleDayStart||e>=a.visibleDayFinish}},S=function(a,e){return function(d){return(X(e.start)<X(e.finish)?d<=a.visibleDayStart:d<a.visibleDayStart)||
d>a.visibleDayFinish}},$a=function(a){if(a){for(var e=[],d=0;d<a.length;d++){var b=a[d],b=b.length>0?b[0].toUpperCase()+(b.length>1?b[1]:""):"";e.push(b)}return e}},G=function(a,e,d){var b=function(a){return typeof a.isMilestone===c||typeof a.isSummaryEnabled!==c&&!a.isSummaryEnabled&&typeof a.isBarVisible!==c&&!a.isBarVisible?a.ganttChartView.ownerDocument.createTextNode(""):ia(a.ganttChartView.ownerDocument,a.isMilestone)};return(typeof d===c||d)&&!a.isReadOnly&&!a.isGridReadOnly?function(d){return!e.isReadOnly&&
(typeof d.isReadOnly===c||!d.isReadOnly)&&!(typeof d.isSummaryEnabled!==c&&!d.isSummaryEnabled&&typeof d.isBarVisible!==c&&!d.isBarVisible)?Mc(d,a):b(d)}:b},Mc=function(a,e){var d=a.ganttChartView.ownerDocument,b;if(typeof a.milestoneInput===c){b=d.createElement("input");a.milestoneInput=b;b.type="checkbox";b.setAttribute("style","margin: 0px; margin-left: 2px; margin-right: 2px");b.addEventListener("focus",function(){z(a,e)},false)}else b=a.milestoneInput;(!a.hasChildren||!(typeof a.isSummaryEnabled===
c||a.isSummaryEnabled))&&typeof a.isMilestone!==c&&a.isMilestone?b.setAttribute("checked","checked"):b.removeAttribute("checked");if(!a.hasChildren||!(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)){var g=function(){if(b.checked){a.isMilestone=true;A(a,"isMilestone",true,true);if(a.finish>a.start){a.finish=a.start;A(a,"finish",false,true)}if(a.completedFinish>a.start){a.completedFinish=a.start;A(a,"completedFinish",false,true)}}else{a.isMilestone=false;A(a,"isMilestone",true,true)}$(a)};typeof b.changeEventListener!==
c&&b.removeEventListener("change",b.changeEventListener,true);b.addEventListener("change",g,true);b.changeEventListener=g;d=function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();g(a)}};typeof b.keyPressEventListener!==c&&b.removeEventListener("keypress",b.keyPressEventListener,true);b.addEventListener("keypress",d,true);b.keyPressEventListener=d}else b.setAttribute("style","visibility: hidden");return b},Vb=function(a,e,d){var b=function(a){return typeof a.assignmentsContent===c||typeof a.isSummaryEnabled!==
c&&!a.isSummaryEnabled&&typeof a.isBarVisible!==c&&!a.isBarVisible?a.ganttChartView.ownerDocument.createTextNode(""):T(a.ganttChartView.ownerDocument,a.assignmentsContent)};return(typeof d===c||d)&&!a.isReadOnly&&!a.isGridReadOnly&&!a.isAssignmentsContentReadOnly?function(d){return!e.isReadOnly&&(typeof d.isReadOnly===c||!d.isReadOnly)&&!(typeof d.isSummaryEnabled!==c&&!d.isSummaryEnabled&&typeof d.isBarVisible!==c&&!d.isBarVisible)?Nc(d,Math.max(0,e.width-16),a):b(d)}:b},Nc=function(a,e,d){var b=
a.ganttChartView,g=b.ownerDocument,f;if(typeof a.assignmentsContentInput===c){f=g.createElement("input");a.assignmentsContentInput=f;f.type="text";f.addEventListener("focus",function(){z(a,d)},false);var h=function(){a.assignmentsContent=f.value;A(a,"assignmentsContent",true,true);if(!a.hasChildren&&a.hasFixedEffort){a.fixedEffort=ga(a,d);a.fixedEffortAssignments=ha(a)}oa(a);var b=null;DlhSoft.Controls.MultiSelectorComboBox&&(b=DlhSoft.Controls.MultiSelectorComboBox.get(f));if(b!=null&&b.availableChoices.length>
0)var e=setInterval(function(){if(!b.isOpen&&g.activeElement!=a.assignmentsContentInput){clearInterval(e);$(a)}},100);else $(a)};typeof f.changeEventListener!==c&&f.removeEventListener("change",f.changeEventListener,true);f.addEventListener("change",function(a){f.dontAutoFocus=true;h(a)},true);f.changeEventListener=h;var m=function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();typeof f.dontAutoFocus!==c&&delete f.dontAutoFocus;h(a)}};typeof f.keyPressEventListener!==c&&f.removeEventListener("keypress",
f.keyPressEventListener,true);f.addEventListener("keypress",m,true);f.keyPressEventListener=m;f.addEventListener("focus",function(){f.style.backgroundColor="White"},false);f.addEventListener("blur",function(){f.style.backgroundColor="Transparent"},false)}else f=a.assignmentsContentInput;if(typeof a.assignmentsContent!==c)f.value=a.assignmentsContent;DlhSoft.Controls.MultiSelectorComboBox&&d.useResourceSelector&&f.addEventListener("focus",function(){if(!a.isWaitingToRefreshGridItem){var e=DlhSoft.Controls.MultiSelectorComboBox.get(f);
if(!e||!e.isOpen&&e.availableChoices.length>0){e=d.assignableResources;if(typeof e===c){e=Oa(b.items);d.assignableResources=e}var m=0,o=0;try{m=f.selectionStart;o=f.selectionEnd}catch(h){}e=DlhSoft.Controls.MultiSelectorComboBox.initialize(f,e,void 0,{inputStyle:null,autoAppendAvailableChoices:d.autoAppendAssignableResources,isDropDownButtonVisible:false,popupStyle:"margin-top: 1px; background-color: White; color: Black; border: 1px solid "+d.border+"; font-size: small; max-height: 188px; overflow-y: auto"},
"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");e.openDropDown();setTimeout(function(){try{f.selectionStart=m;f.selectionEnd=o}catch(a){}},100);navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)==null?setTimeout(function(){try{f.focus()}catch(a){}},100):g.createEvent&&setTimeout(function(){var a=g.createEvent("MouseEvents");a.initEvent("blur",true,false);f.dispatchEvent(a)})}}},true);m="";if(a.hasChildren&&
(typeof a.isSummaryEnabled===c||a.isSummaryEnabled))m="; font-weight: bold";f.setAttribute("style","background-color: Transparent; width: "+e+"px; border-width: 0px; padding: 0px"+m);return f},Ub=function(a,e,d){var b=function(a){return typeof a.start===c||typeof a.finish===c||a.finish.valueOf()==a.start.valueOf()||typeof a.isSummaryEnabled!==c&&!a.isSummaryEnabled&&typeof a.isBarVisible!==c&&!a.isBarVisible?a.ganttChartView.ownerDocument.createTextNode(""):ia(a.ganttChartView.ownerDocument,a.ganttChartView.isItemCompleted(a))};
return(typeof d===c||d)&&!a.isReadOnly&&!a.isGridReadOnly?function(d){return!e.isReadOnly&&(typeof d.isReadOnly===c||!d.isReadOnly)&&(!d.hasChildren||!(typeof d.isSummaryEnabled===c||d.isSummaryEnabled))&&!(typeof d.isSummaryEnabled!==c&&!d.isSummaryEnabled&&typeof d.isBarVisible!==c&&!d.isBarVisible)?Oc(d,a):b(d)}:b},Oc=function(a,e){var d=a.ganttChartView.ownerDocument,b;if(typeof a.completedInput===c){b=d.createElement("input");a.completedInput=b;b.type="checkbox";b.setAttribute("style","margin: 0px; margin-left: 2px; margin-right: 2px");
b.addEventListener("focus",function(){z(a,e)},false)}else b=a.completedInput;a.isSetAsCompleted||(!a.hasChildren||!(typeof a.isSummaryEnabled===c||a.isSummaryEnabled))&&a.completedFinish>=a.finish&&a.finish>a.start&&(typeof a.isMilestone===c||!a.isMilestone)?b.setAttribute("checked","checked"):b.removeAttribute("checked");a.hasChildren&&(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)&&b.setAttribute("style","visibility: hidden");var g=function(){if(b.checked){if(a.completedFinish<a.finish){a.completedFinish=
a.finish;A(a,"completedFinish",true,true)}if(a.isMilestone||a.finish.valueOf()<=a.start.valueOf()){a.isSetAsCompleted=true;A(a,"isSetAsCompleted",true,true)}}else{if(a.completedFinish>a.start){a.completedFinish=a.start;A(a,"completedFinish",true,true)}if(a.isMilestone||a.finish.valueOf()<=a.start.valueOf()){a.isSetAsCompleted=false;A(a,"isSetAsCompleted",true,true)}}$(a)};typeof b.changeEventListener!==c&&b.removeEventListener("change",b.changeEventListener,true);b.addEventListener("change",g,true);
b.changeEventListener=g;d=function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();g(a)}};typeof b.keyPressEventListener!==c&&b.removeEventListener("keypress",b.keyPressEventListener,true);b.addEventListener("keypress",d,true);b.keyPressEventListener=d;return b},lb=function(a){for(var e=0,d=0;d<a.length;d++)e=e+a[d].width;return e},Ec=function(a,e,d){for(var b=J(e.items,d),g=0;g<a.length;g++){var f=a[g];f.ganttChartView=e;if(typeof f.width===c)f.width=100;if(typeof f.minWidth===c)f.minWidth=
Math.min(f.width,d.minColumnWidth+(f.isTreeView?b:0));if(typeof f.maxWidth===c)f.maxWidth=d.maxColumnWidth;if(typeof f.cellTemplate===c)f.cellTemplate=function(a){return T(a.ganttChartView.ownerDocument,a.content)};if(d.verticalGridLines){if(f.minWidth<4)f.minWidth=4;if(f.width<f.minWidth)f.width=f.minWidth}}},Hc=function(a,e,d,b){var g=a.ownerDocument,f=g.createElement("div");typeof d.columnHeaderClass!==c&&f.setAttribute("class",d.columnHeaderClass);typeof d.columnHeaderStyle!==c&&f.setAttribute("style",
d.columnHeaderStyle);for(var h=0;h<e.length;h++)f.appendChild(Pa(g,e[h],d,b));a.appendChild(f)},Pa=function(a,e,d,b){var g=a.createElement("div");g.setAttribute("style","overflow-y: hidden; vertical-align: middle; display: table-cell; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; height: "+d.headerHeight+"px");var f=a.createElement("div"),h=e.width>=4?2:e.width/2;f.setAttribute("style","padding-left: "+h+"px; padding-right: "+h+"px; overflow-x: hidden; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; width: "+
e.width+"px");h=a.createElement("div");typeof e.headerClass!==c&&h.setAttribute("class",e.headerClass);typeof e.headerStyle!==c&&h.setAttribute("style",e.headerStyle);h.appendChild(T(a,e.header));f.appendChild(h);g.appendChild(f);if(d.verticalGridLines||e.width>=1&&(typeof d.allowUserToResizeColumns===c||d.allowUserToResizeColumns)&&(typeof e.allowUserToResize===c||e.allowUserToResize)){g.isGripperVisible=false;var b=e.ganttChartView,m=function(a){g.isGripperVisible=a;g.style.cursor=a?"e-resize":
"default";g.style.borderRight=a?"solid 1px "+d.border:d.verticalGridLines?"solid 1px "+d.verticalGridLines:"";f.style.width=e.width-(g.style.borderRight?1:0)+"px"};d.verticalGridLines&&m();if(e.width>=1&&(typeof d.allowUserToResizeColumns===c||d.allowUserToResizeColumns)&&(typeof e.allowUserToResize===c||e.allowUserToResize)){var l=d.splitterWidth;g.addEventListener("mouseover",function(a){if(!DlhSoft.Controls.GanttChartView.isGripperDragging&&!(g.isGripperDragging||typeof a.offsetX===c&&a.currentTarget!=
g))m((typeof a.offsetX!==c?a.offsetX:a.layerX-a.currentTarget.offsetLeft)>=e.width-l)},true);g.addEventListener("mousemove",function(a){if(!DlhSoft.Controls.GanttChartView.isGripperDragging&&!(g.isGripperDragging||typeof a.offsetX===c&&a.currentTarget!=g))m((typeof a.offsetX!==c?a.offsetX:a.layerX-a.currentTarget.offsetLeft)>=e.width-l)},true);f.addEventListener("mouseover",function(a){!DlhSoft.Controls.GanttChartView.isGripperDragging&&(!g.isGripperDragging&&!(typeof a.offsetX!==c||a.currentTarget!=
f))&&m(a.layerX-a.currentTarget.offsetLeft>=e.width-l)},false);f.addEventListener("mousemove",u(b,f,"mousemove",function(a){!DlhSoft.Controls.GanttChartView.isGripperDragging&&(!g.isGripperDragging&&!(typeof a.offsetX!==c||a.currentTarget!=f))&&m(a.layerX-a.currentTarget.offsetLeft>=e.width-l)}));g.addEventListener("mousedown",u(b,g,"mousedown",function(a){if(!(a.button!=0||!g.isGripperVisible||DlhSoft.Controls.GanttChartView.isGripperDragging)){DlhSoft.Controls.GanttChartView.isGripperDragging=true;
g.isGripperDragging=true;g.initialGripperDraggingX=a.clientX;g.initialColumnWidth=e.width}},true),true);a.addEventListener("mousemove",u(b,a,"mousemove",function(a){if(g.isGripperDragging){e.width=Math.max(e.minWidth,g.initialColumnWidth+(a.clientX-g.initialGripperDraggingX));if(typeof e.maxWidth!==c&&e.width>e.maxWidth)e.width=e.maxWidth;f.style.width=e.width-1+"px";typeof d.columnWidthChangeHandler!==c&&setTimeout(function(){d.columnWidthChangeHandler(e,e.width)},0);if(!b.isWaitingToRefreshColumns){b.isWaitingToRefreshColumns=
true;setTimeout(function(){var a=lb(d.columns);b.gridHeader.style.width=a+"px";b.gridContent.style.width=a+"px";delete b.isWaitingToRefreshColumns;b.refreshGridItems()},0)}}},true),true);a.addEventListener("mouseup",u(b,a,"mouseup",function(){if(g.isGripperDragging){delete g.isGripperDragging;delete g.initialGripperDraggingX;delete g.initialColumnWidth;m(false);delete DlhSoft.Controls.GanttChartView.isGripperDragging}},true),true);g.addEventListener("mouseout",u(b,g,"mouseout",function(){g.isGripperDragging||
m(false)}))}}return g},ea=function(a,e){for(var d=-1,b=null,g=null,f=[],h=0;h<a.length;h++){var m=a[h];if(typeof m.scheduleChartItem===c){if(typeof m.isSelected===c)m.isSelected=false;if(m.isSelected){g==null&&(g=m);f.push(m)}if(typeof m.indentation===c)m.indentation=0;if(h==0&&m.indentation!=0){m.indentation=0;A(m,"indentation",false,true)}if(typeof m.isExpanded===c)m.isExpanded=true;if(b!=null){var l=b.indentation+1;if(m.indentation>l){m.indentation=l;A(m,"indentation",false,true)}b.hasChildren=
m.indentation>b.indentation;if(b.hasChildren&&typeof b.isMilestone!==c&&b.isMilestone){b.isMilestone=false;A(b,"isMilestone",false,true)}}}m.isVisible=d<0||m.indentation<=d;if(typeof m.scheduleChartItem===c){if(m.isVisible&&!m.isExpanded)d=m.indentation;m.isExpanded&&m.indentation==d&&(d=-1);b=m}}if(b!=null)b.hasChildren=false;e.selectedItem=g;e.selectedItems=f},Na=function(a,e,d){d.isTimingInformationInitialized=false;d.isBasicTimingInformationInitialized=false;var b=X(e.currentTime),g=[],f,h,m;
for(h=0;h<a.length;h++){f=a[h];f.index=h;var l=null;for(g.length>0&&(l=g[g.length-1]);l!=null&&f.indentation<=l.indentation;){g.pop();l=g[g.length-1]}f.parent=l;f.children=[];l!=null&&l.children.push(f);if(!f.hasChildren||!(typeof f.isSummaryEnabled===c||f.isSummaryEnabled)){m=f.start;var j=f.finish,o=f.completedFinish;if(typeof f.start===c){f.start=b;f.preferredStart=f.start}if(typeof f.finish===c)f.finish=typeof f.isMilestone===c||!f.isMilestone?V(b):f.start;if(typeof f.isSetAsCompleted===c)f.isSetAsCompleted=
typeof f.completedFinish!==c&&f.completedFinish.valueOf()==f.finish.valueOf();if(typeof f.completedFinish===c)f.completedFinish=f.start;if(typeof f.isRelativeToTimezone===c||f.isRelativeToTimezone){f.start=new Date(f.start.valueOf()-f.start.getTimezoneOffset()*60000);f.preferredStart=f.start;f.finish=new Date(f.finish.valueOf()-f.finish.getTimezoneOffset()*60000);f.completedFinish=typeof f.completedFinish==="number"?Q(f.start,f.completedFinish*N(f.start,f.finish,e,D(f)),e,D(f)):new Date(f.completedFinish.valueOf()-
f.completedFinish.getTimezoneOffset()*60000);if(typeof f.baselineStart!==c)f.baselineStart=new Date(f.baselineStart.valueOf()-f.baselineStart.getTimezoneOffset()*60000);if(typeof f.baselineFinish!==c)f.baselineFinish=new Date(f.baselineFinish.valueOf()-f.baselineFinish.getTimezoneOffset()*60000);if(typeof f.minStart!==c)f.minStart=new Date(f.minStart.valueOf()-f.minStart.getTimezoneOffset()*60000);if(typeof f.maxStart!==c)f.maxStart=new Date(f.maxStart.valueOf()-f.maxStart.getTimezoneOffset()*60000);
if(typeof f.minFinish!==c)f.minFinish=new Date(f.minFinish.valueOf()-f.minFinish.getTimezoneOffset()*60000);if(typeof f.maxFinish!==c)f.maxFinish=new Date(f.maxFinish.valueOf()-f.maxFinish.getTimezoneOffset()*60000);f.isRelativeToTimezone=false}else if(typeof f.completedFinish==="number")f.completedFinish=Q(f.start,f.completedFinish*N(f.start,f.finish,e,D(f)),e,D(f));if(typeof f.minStart!==c&&f.start<f.minStart)f.start=f.minStart;else if(typeof f.maxStart!==c&&f.start>f.maxStart)f.start=f.maxStart;
if(typeof f.maxFinish!==c&&f.finish>f.maxFinish)f.finish=f.maxFinish;else if(typeof f.minFinish!==c&&f.finish<f.minFinish)f.finish=f.minFinish;if(f.finish<f.start)f.finish=f.start;if(f.completedFinish<f.start)f.completedFinish=f.start;else if(f.completedFinish>f.finish)f.completedFinish=f.finish;if(typeof f.loadChartItem===c)f.start=P(f.start,e,true,typeof f.isMilestone!==c&&f.isMilestone,D(f));typeof f.dependsOf!==c&&delete f.dependsOf;f.preferredStart=f.start;if(typeof f.loadChartItem===c){f.finish=
P(f.finish,e,typeof f.isMilestone!==c&&f.isMilestone,true,D(f));f.completedFinish=P(f.completedFinish,e,typeof f.isMilestone!==c&&f.isMilestone,true,D(f))}if(f.finish<f.start)f.finish=f.start;if(f.completedFinish<f.start)f.completedFinish=f.start;if(f.completedFinish>f.finish)f.completedFinish=f.finish;(typeof m===c||f.start.valueOf()!=m.valueOf())&&A(f,"start",false,true);(typeof j===c||f.finish.valueOf()!=j.valueOf())&&A(f,"finish",false,true);(typeof o===c||f.completedFinish.valueOf()!=o.valueOf())&&
A(f,"completedFinish",false,true)}for(m=0;m<g.length;m++){j=g[m];if(typeof j.isSummaryEnabled===c||j.isSummaryEnabled){if(typeof j.start===c||j.start>f.start){j.start=f.start;A(j,"start",false,true)}if(typeof j.finish===c||j.finish<f.finish){j.finish=f.finish;A(j,"finish",false,true)}if(typeof j.completedFinish===c||j.completedFinish.valueOf()!=j.start.valueOf()){j.completedFinish=j.start;A(j,"completedFinish",false,true)}}}(l==null||f.indentation>l.indentation)&&g.push(f)}d.isBasicTimingInformationInitialized=
true;for(h=a.length;h-- >0;){f=a[h];f.hasChildren&&(typeof f.isSummaryEnabled===c||f.isSummaryEnabled)&&cb(f)}if(e.areTaskDependencyConstraintsEnabled)for(h=0;h<a.length;h++){f=a[h];typeof f.predecessors!==c&&(f.predecessors!=null&&f.predecessors.length>0)&&Aa(f,a,e,d)}else if(e.alwaysHandleInvalidDependencies)for(h=0;h<a.length;h++){f=a[h];typeof f.predecessors!==c&&(f.predecessors!=null&&f.predecessors.length>0)&&Aa(f,a,e,d,true)}for(h=0;h<a.length;h++){f=a[h];if(!f.hasChildren&&f.hasFixedEffort){f.fixedEffort=
ga(f,e);f.fixedEffortAssignments=ha(f)}}d.isTimingInformationInitialized=true},cb=function(a,e){if(!(a.children.length<=0||typeof a.isSummaryEnabled!==c&&!a.isSummaryEnabled)){typeof e===c&&(e=true);var d=a.start,b=a.finish,g=a.completedFinish;delete a.start;delete a.finish;delete a.completedFinish;for(var f=0;f<=1;f++){for(var h=0;h<a.children.length;h++){var m=a.children[h];if(!(typeof m.isParentSummarizationEnabled!==c&&!m.isParentSummarizationEnabled&&f<1)){if(typeof a.start===c||a.start>m.start)a.start=
m.start;if(typeof a.finish===c||a.finish<m.finish)a.finish=m.finish}}if(typeof a.start!==c&&typeof a.finish!==c)break}a.completedFinish=a.start;(typeof d===c||a.start.valueOf()!=d.valueOf())&&A(a,"start",false,e);(typeof b===c||a.finish.valueOf()!=b.valueOf())&&A(a,"finish",false,e);(typeof g===c||a.completedFinish.valueOf()!=g.valueOf())&&A(a,"completedFinish",false,e)}},qb=function(a,e){return a==e||pb(a,e)||pb(e,a)},pb=function(a,e){var d=a.parent;return d==null?false:(typeof d.isSummaryEnabled===
c||d.isSummaryEnabled)&&d==e?true:pb(d,e)},Ba=function(a,e){if(typeof a.predecessors===c)return false;for(var d=0;d<a.predecessors.length;d++)if(a.predecessors[d].item==e)return true;return false},X=function(a){return new Date(Math.floor(a.valueOf()/86400000)*86400000)},la=function(a){return a.valueOf()-X(a).valueOf()},ma=function(a){a=Math.floor((a.valueOf()-259200000)/86400000)%7;a<0&&(a=a+7);return a},xa=function(a,e){X(a);return new Date(Math.floor((a.valueOf()-259200000)/604800000)*604800000+
259200000+e*86400000)},nb=function(a,e){var d=xa(a,e);return Math.abs(d.valueOf()-a.valueOf())<=3600000?d:new Date(d.valueOf()+604800000)},db=function(a){return a.hourWidth*(a.visibleDayFinish-a.visibleDayStart)/3600000},I=function(a,e){var d=db(e),b=db(e)*(e.visibleWeekFinish-e.visibleWeekStart+1),c=xa(a,e.weekStartDay),c=Math.floor((c-e.timelineStart)/604800000)*b-Math.max(0,e.weekStartDay-e.visibleWeekStart)*d,b=ma(a),c=b<=e.visibleWeekStart?c+0:b>e.visibleWeekFinish?c+(e.visibleWeekFinish-e.visibleWeekStart+
1)*d:c+(b-e.visibleWeekStart)*d,d=la(a);b>=e.visibleWeekStart&&b<=e.visibleWeekFinish&&(c=d<=e.visibleDayStart?c+0:d>=e.visibleDayFinish?c+(e.visibleDayFinish-e.visibleDayStart)/3600000*e.hourWidth:c+(d-e.visibleDayStart)/3600000*e.hourWidth);return c},Ia=function(a,e){for(var d=e.timelineStart.valueOf(),b=db(e),c=db(e)*(e.visibleWeekFinish-e.visibleWeekStart+1);a>c;){d=d+604800000;a=a-c}for(d=d+Math.max(0,e.visibleWeekStart-e.weekStartDay)*86400000;a>b;){d=d+86400000;a=a-b}d=d+e.visibleDayStart;
d=d+a/e.hourWidth*3600000;return new Date(d)},Jb=function(a){switch(a.theme){default:return[{scaleType:"NonworkingTime",isHeaderVisible:false,isHighlightingVisible:true,highlightingStyle:"stroke-width: 0; fill: #f4f4f4; fill-opacity: 0.65"},{scaleType:"Weeks",headerTextFormat:"Date",headerStyle:"padding: 2.25px"},{scaleType:"Days",headerTextFormat:"DayOfWeekAbbreviation",headerStyle:"padding: 2.25px"},{scaleType:"CurrentTime",isHeaderVisible:false,isSeparatorVisible:true,separatorStyle:"stroke: #8bbf8a; stroke-width: 0.5px"}];
case "ModernBordered":return[{scaleType:"NonworkingTime",isHeaderVisible:false,isHighlightingVisible:true,highlightingStyle:"stroke-width: 0; fill: #f4f4f4; fill-opacity: 0.65"},{scaleType:"Weeks",headerTextFormat:"Date",headerStyle:"padding: 2.25px; border-right: solid 1px White; border-bottom: solid 1px White",isSeparatorVisible:true,separatorStyle:"stroke: #c8bfe7; stroke-width: 0.5px"},{scaleType:"Days",headerTextFormat:"DayOfWeekAbbreviation",headerStyle:"padding: 2.25px; border-right: solid 1px White"},
{scaleType:"CurrentTime",isHeaderVisible:false,isSeparatorVisible:true,separatorStyle:"stroke: #8bbf8a; stroke-width: 1px"}];case "Aero":return[{scaleType:"NonworkingTime",isHeaderVisible:false,isHighlightingVisible:true,highlightingStyle:"stroke-width: 0; fill: #f4f4f4; fill-opacity: 0.65"},{scaleType:"Weeks",headerTextFormat:"Date",headerStyle:"padding: 2.25px; border-right: solid 1px #c8bfe7; border-bottom: solid 1px #c8bfe7",isSeparatorVisible:true,separatorStyle:"stroke: #c8bfe7; stroke-width: 0.5px"},
{scaleType:"Days",headerTextFormat:"DayOfWeekAbbreviation",headerStyle:"padding: 2.25px; border-right: solid 1px #c8bfe7"},{scaleType:"CurrentTime",isHeaderVisible:false,isSeparatorVisible:true,separatorStyle:"stroke: Black; stroke-width: 1px"}]}},pa=function(a,e){return new Date(Math.floor((a-259200000).valueOf()/e.updateScale)*e.updateScale+259200000)},mb=function(a,e,d,b,g){typeof g===c&&(g=false);var f=a.ownerDocument,h=0,m,l;for(m=0;m<d.length;m++){l=d[m];(typeof l.isHeaderVisible===c||l.isHeaderVisible)&&
h++}var j=b.headerHeight;h>0&&(j=b.headerHeight/h);for(m=0;m<d.length;m++){l=d[m];if(!g||!(l.scaleType!="CurrentTime"&&l.scaleType!="FutureTime")){h=Pc(l,b);if(typeof h!==c){h.length==0&&h.push({start:b.timelineStart,finish:b.timelineFinish});var o=j;if(typeof l.headerHeight!==c)o=l.headerHeight;for(var w=b.timelineStart,t=0;t<h.length;t++){var y=h[t],k=y.start,q=y.finish;if(l.scaleType!="CurrentTime"&&l.scaleType!="FutureTime"&&l.scaleType!="NonworkingTime"){if(k>w&&(typeof l.isHeaderVisible===c||
l.isHeaderVisible))k=w;k<w&&(k=w);if(k<b.timelineStart)k=b.timelineStart;if(q>b.timelineFinish)q=b.timelineFinish;q<k&&(q=k);if(t==h.length-1&&q<b.timelineFinish&&(typeof l.isHeaderVisible===c||l.isHeaderVisible))q=b.timelineFinish;w=q}var r=I(k,b),n=I(q,b),v=n-r;if(!(v<=0)){if(typeof l.isHeaderVisible===c||l.isHeaderVisible){var s=Qc(l,y,b),p=f.createElement("div");p.setAttribute("style","float: left; overflow: hidden; width: "+v+"px; height: "+o+"px");var x=f.createElement("div");x.setAttribute("class",
l.headerClass);x.setAttribute("style",l.headerStyle);x.appendChild(T(f,s));p.appendChild(x);a.appendChild(p)}y.start=k;y.finish=q;y=false;if(typeof l.isHighlightingVisible!==c)y=l.isHighlightingVisible;if(y){y=f.createElementNS("http://www.w3.org/2000/svg","rect");y.setAttribute("x",r-1);y.setAttribute("y",0);y.setAttribute("width",v);y.setAttribute("height",0);y.setAttribute("class",l.highlightingClass);y.setAttribute("style",l.highlightingStyle);y.tag="Scale-Highlighting"+(l.scaleType!="CurrentTime"&&
l.scaleType!="FutureTime"?"":"-CurrentTime");e.appendChild(y)}r=false;if(typeof l.isSeparatorVisible!==c)r=l.isSeparatorVisible;if(r){r=f.createElementNS("http://www.w3.org/2000/svg","line");r.setAttribute("x1",n-0.75);r.setAttribute("y1",0);r.setAttribute("x2",n-0.75);r.setAttribute("y2",0);r.setAttribute("class",l.separatorClass);r.setAttribute("style",l.separatorStyle);r.tag="Scale-Separator"+(l.scaleType!="CurrentTime"&&l.scaleType!="FutureTime"?"":"-CurrentTime");e.appendChild(r)}}}}}}},Pc=function(a,
e){var d="Custom",b,g;if(typeof a.scaleType!==c)d=a.scaleType;switch(d){case "CurrentTime":return[{start:e.timelineStart,finish:e.currentTime}];case "FutureTime":return[{start:e.currentTime,finish:e.timelineFinish}];case "Years":d=[];b=new Date(e.timelineStart.valueOf());g=b.getTimezoneOffset();b.setMonth(0,1);var f=b.getTimezoneOffset();for(b=new Date(b.valueOf()-(f-g)*60000-(f>0?86400000:0));g=Rc(b),b<e.timelineFinish;b=g)d.push({start:b,finish:g});return d;case "Months":d=[];b=new Date(e.timelineStart.valueOf());
g=b.getTimezoneOffset();b.setDate(1);f=b.getTimezoneOffset();for(b=new Date(b.valueOf()-(f-g)*60000-(f>0?86400000:0));g=Sc(b),b<e.timelineFinish;b=g)d.push({start:b,finish:g});return d;case "Weeks":d=[];b=e.timelineStart;g=e.weekStartDay;for(f=e.visibleWeekStart;ma(b)!=g;)b=Qa(b);for(;ma(b)<f;)b=V(b);for(b=new Date(b.valueOf());g=ya(b),b<e.timelineFinish;b=g)d.push({start:b,finish:g});return d;case "Days":d=[];for(b=e.timelineStart;g=V(b),b<e.timelineFinish;b=g)d.push({start:b,finish:g});return d;
case "Hours":d=[];for(b=new Date(X(e.timelineStart).valueOf()+e.visibleDayStart);g=Tc(new Date(b.valueOf()+3600000),e.visibleDayFinish,e.visibleDayStart),b<e.timelineFinish;b=g)d.push({start:b,finish:g});return d;case "NonworkingTime":d=[];b=Ja(e.timelineStart,e.workingWeekFinish);for(g=ob(b,e.workingWeekStart);b<e.timelineFinish;b=ya(b),g=ya(g))d.push({start:b,finish:g});if(typeof e.specialNonworkingDays!==c)if(typeof e.specialNonworkingDays==="function"){b=Ja(e.timelineStart,e.workingWeekFinish);
for(g=V(b);b<e.timelineFinish;b=V(b),g=V(g))e.specialNonworkingDays(b)&&d.push({start:b,finish:g})}else for(f=0;f<e.specialNonworkingDays.length;f++){b=e.specialNonworkingDays[f];g=V(b);d.push({start:b,finish:g})}return d;default:return a.intervals}},Tc=function(a,e,d){if(la(a)>e){a=V(a);return new Date(X(a).valueOf()+d)}return new Date(a.valueOf())},V=function(a){return new Date(a.valueOf()+86400000)},Qa=function(a){return new Date(a.valueOf()-86400000)},ya=function(a){return new Date(a.valueOf()+
604800000)},Sc=function(a){var e=a.getTimezoneOffset(),a=new Date(a.valueOf()+(e>0?86400000:0)),d=a.getMonth()+1;if(d>=12){d=0;a.setFullYear(a.getFullYear()+1)}a.setMonth(d,1);d=a.getTimezoneOffset();return new Date(a.valueOf()-(d-e)*60000-(d>0?86400000:0))},Rc=function(a){var e=a.getTimezoneOffset(),a=new Date(a.valueOf()+(e>0?86400000:0));a.setFullYear(a.getFullYear()+1);a.setMonth(0,1);var d=a.getTimezoneOffset();return new Date(a.valueOf()-(d-e)*60000-(d>0?86400000:0))},Yb=function(a,e){if(typeof e===
c)return false;if(typeof e==="function")return e(a);for(var d=a.valueOf(),b=0;b<e.length;b++)if(e[b].valueOf()==d)return true;return false},Ja=function(a,e){for(;ma(a)!=e;)a=Qa(a);return V(a)},ob=function(a,e){for(;ma(a)!=e;)a=V(a);return new Date(a.valueOf())},Qc=function(a,e,d){var b="Date";if(typeof a.headerTextFormat!==c)b=a.headerTextFormat;a=e.start;if(a<d.timelineStart)a=d.timelineStart;if(typeof b==="function")return b(a);switch(b){case "Localized":return a.toLocaleString();case "DateTime":return d.dateTimeFormatter(x(a));
case "Date":return d.dateFormatter(x(a));case "Hour":a=new Date(a.valueOf()+a.getTimezoneOffset()*60000);return(a.getHours()<10?"0":"")+a.getHours();case "DayOfWeek":return d.daysOfWeek[ma(a)];case "DayOfWeekAbbreviation":e=d.daysOfWeek[ma(a)];return e.length>0?e[0].toUpperCase():"";case "Day":a=new Date(a.valueOf()+a.getTimezoneOffset()*60000);return(a.getDate()<10?"0":"")+a.getDate();case "Month":return d.months[(new Date(a.valueOf()+(a.getTimezoneOffset()+720)*60000)).getMonth()];case "MonthAbbreviation":e=
d.months[(new Date(a.valueOf()+(a.getTimezoneOffset()+720)*60000)).getMonth()];return e.length<=0?"":e[0].toUpperCase()+(e.length>1?e.substr(1,Math.min(3,e.length)-1):"");case "Year":return(new Date(a.valueOf()+(a.getTimezoneOffset()+720)*60000)).getFullYear();case "MonthYear":return d.months[(new Date(a.valueOf()+(a.getTimezoneOffset()+720)*60000)).getMonth()]+" "+(new Date(a.valueOf()+(a.getTimezoneOffset()+720)*60000)).getFullYear();default:return typeof e.headerText!==c?e.headerText:a.toString()}},
Ic=function(a,e,d,b,g,f,h,m){for(var l=0,j=0;j<b.length;j++){var o=b[j];h.isGridVisible&&typeof o.displayRowIndex===c&&a.appendChild(Zb(o,b,g,e,f,h,m));var w=l;typeof o.displayRowIndex!==c&&(w=o.displayRowIndex*h.itemHeight);d.appendChild(rb(o,w,h));o.isVisible&&!(typeof o.isHidden!==c&&o.isHidden)&&(l=Math.max(l,w+h.itemHeight));o.itemTop=w}ua(e,l);setTimeout(function(){Ra(b,e,h)},0)},va=function(a,e){for(var d=0,b=0,g=-1,f=0;f<a.length;f++){var h=a[f];if((typeof h.scheduleChartItem===c||h.scheduleChartItem==
h)&&h.isVisible&&!(typeof h.isHidden!==c&&h.isHidden))if(typeof h.displayRowIndex===c&&b>g){d=d+e.itemHeight;g=b++}else{d=Math.max(d,h.itemTop+e.itemHeight);g=h.displayRowIndex}}return d},Ca=function(a,e,d){if(a.isPart)return Ca(a.ganttChartItem,e,d);var b;if(typeof a.displayRowIndex!==c){b=a.displayRowIndex*d.itemHeight;return a.itemTop=b}for(var g=b=0;g<e.length;g++){var f=e[g];if(f==a)break;f.isVisible&&(!(typeof f.isHidden!==c&&f.isHidden)&&typeof f.displayRowIndex===c)&&(b=b+d.itemHeight)}return a.itemTop=
b},Ra=function(a,e,d){if(!(typeof d.alternativeItemClass===c&&typeof d.alternativeItemStyle===c&&typeof d.alternativeChartItemClass===c&&typeof d.alternativeChartItemStyle===c)){var b=e.chartAreaAlternativeRows,g,f=0,h=false;b.count=f;for(g=0;g<a.length;g++){var m=a[g];if(m.isVisible&&typeof m.alternativeContentContainer!==c){var l=m.alternativeContentContainer;if(f%2==1){typeof d.alternativeItemClass!==c&&l.setAttribute("class",d.alternativeItemClass);typeof d.alternativeItemStyle!==c&&l.setAttribute("style",
d.alternativeItemStyle);if(typeof d.alternativeChartItemClass!==c||typeof d.alternativeChartItemStyle!==c)if(!d.isVirtualizing||m.isVirtuallyVisible||!h){h=true;if(typeof b.count===c||f>b.count){m=document.createElementNS("http://www.w3.org/2000/svg","rect");m.setAttribute("x",0);m.setAttribute("y",f*d.itemHeight);m.setAttribute("width",e.clientWidth);m.setAttribute("height",d.itemHeight);typeof d.alternativeChartItemClass!==c&&m.setAttribute("class",d.alternativeChartItemClass);typeof d.alternativeChartItemStyle!==
c&&m.setAttribute("style",d.alternativeChartItemStyle);m.index=f;b.appendChild(m)}}b.count=f}else{l.setAttribute("class","");l.setAttribute("style","")}f++}}for(g=b.childNodes.length;g-- >0;){a=b.childNodes[g];a.index>b.count&&b.removeChild(a)}}},Zb=function(a,e,d,b,g,f,h){var m=a.ganttChartView.ownerDocument,l=m.createElement("div");typeof f.itemClass!==c&&l.setAttribute("class",f.itemClass);typeof f.itemStyle!==c&&l.setAttribute("style",f.itemStyle);var j=m.createElement("div");a.alternativeContentContainer=
j;var o=m.createElement("div");try{o.addEventListener("mousedown",u(h,o,"mousedown",function(b){b.target!=a.selectionInput&&z(a,f)}));o.addEventListener("mouseup",u(h,o,"mouseup",function(b){b.target!=a.selectionInput&&z(a,f)}))}catch(w){}if(a.isSelected){typeof f.selectedItemClass!==c&&o.setAttribute("class",f.selectedItemClass);typeof f.selectedItemStyle!==c&&o.setAttribute("style",f.selectedItemStyle)}var t=m.createElement("div");typeof a["class"]!==c&&t.setAttribute("class",a["class"]);typeof a.style!==
c&&t.setAttribute("style",a.style);var y=m.createElement("div");if(a.hasChildren&&(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)){typeof f.summaryItemClass!==c&&y.setAttribute("class",f.summaryItemClass);typeof f.summaryItemStyle!==c&&y.setAttribute("style",f.summaryItemStyle)}else if(a.isMilestone){typeof f.milestoneItemClass!==c&&y.setAttribute("class",f.milestoneItemClass);typeof f.milestoneItemStyle!==c&&y.setAttribute("style",f.milestoneItemStyle)}else{typeof f.standardItemClass!==c&&y.setAttribute("class",
f.standardItemClass);typeof f.standardItemStyle!==c&&y.setAttribute("style",f.standardItemStyle)}m=m.createElement("div");a.gridItem=m;a.gridItemContent=y;a.gridItemSelectionContainer=o;var k=f.itemHeight;if(!a.isVisible||typeof a.isHidden!==c&&a.isHidden)k=0;m.setAttribute("style","overflow: hidden; height: "+k+"px");Da(m,a,e,d,b,g,f);y.appendChild(m);t.appendChild(y);o.appendChild(t);j.appendChild(o);l.appendChild(j);a.gridItemContainer=l;(typeof f.isGridRowClickTimeScrollingEnabled===c||f.isGridRowClickTimeScrollingEnabled)&&
l.addEventListener("mouseup",u(h,l,"mouseup",function(){var d;if(typeof a.ganttChartItems===c)d=a.start;else{d=null;for(var e=0;e<a.ganttChartItems.length;e++)if(d==null||a.ganttChartItems[e].start<d)d=a.ganttChartItems[e].start;d=d==null?a.start:d}d=I(d,f);e=d-f.hourWidth*8;d-e>=b.container.clientWidth/2.5&&(e=d);b.container.scrollLeft=Math.max(0,e)},true),true);return l},Da=function(a,e,d,b,g,f,h){var m=e.ganttChartView.ownerDocument;if(!h.isVirtualizing||typeof e.isVirtuallyVisible!==c&&e.isVirtuallyVisible){var l=
function(){if(typeof e.gridItemSelectionContainer!==c){var j=e.gridItemSelectionContainer;typeof h.selectedItemClass!==c&&j.setAttribute("class",e.isSelected?h.selectedItemClass:null);typeof h.selectedItemStyle!==c&&j.setAttribute("style",e.isSelected?h.selectedItemStyle:null)}if(typeof e.gridItemContent!==c){j=e.gridItemContent;j.setAttribute("class","");j.setAttribute("style","");if(e.hasChildren&&(typeof e.isSummaryEnabled===c||e.isSummaryEnabled)){typeof h.summaryItemClass!==c&&j.setAttribute("class",
h.summaryItemClass);typeof h.summaryItemStyle!==c&&j.setAttribute("style",h.summaryItemStyle)}else if(e.isMilestone){typeof h.milestoneItemClass!==c&&j.setAttribute("class",h.milestoneItemClass);typeof h.milestoneItemStyle!==c&&j.setAttribute("style",h.milestoneItemStyle)}else{typeof h.standardItemClass!==c&&j.setAttribute("class",h.standardItemClass);typeof h.standardItemStyle!==c&&j.setAttribute("style",h.standardItemStyle)}}var j=[],l=null;try{l=m.activeElement}catch(w){}for(;l!=null&&l!=e.gridItem;){j.push(l);
l=l.parentNode}for(var t=-1,l=a.childNodes.length;l-- >0;)if(j.indexOf(a.childNodes[l])>=0){t=l;break}for(l=a.childNodes.length;l-- >0;)a.removeChild(a.childNodes[l]);for(l=0;l<b.length;l++)a.appendChild($b(e,d,b[l],g,f,h));typeof e.ganttChartView.draggingItem===c&&t>=0&&setTimeout(function(){try{for(var b=a.childNodes[t];b.nodeName!="input"&&b.nodeName!="textarea"&&b.nodeName!="label"&&b.nodeName!="select"&&b.nodeName!="button"&&b.childNodes.length>0;)b=b.childNodes[0];b&&b.dontAutoFocus?delete b.dontAutoFocus:
setTimeout(function(){try{b.focus()}catch(a){}},0)}catch(d){}},0)};if(e.wasGridItemContentLoaded)setTimeout(l,0);else{l();e.wasGridItemContentLoaded=true}}},Sa=function(a){if(typeof a.isWaitingToRefreshGridItem===c){a.isWaitingToRefreshGridItem=true;setTimeout(function(){typeof a.gridItem!==c&&Da(a.gridItem,a,a.ganttChartView.items,a.ganttChartView.settings.columns,a.ganttChartView.chartContent,a.ganttChartView.settings.toggleButtonAreaWidth,a.ganttChartView.settings);delete a.isWaitingToRefreshGridItem},
0)}},Uc=function(a,e,d,b,g,f,h){var m=e.ganttChartView.ownerDocument;(!h.isVirtualizing||typeof e.isVirtuallyVisible!==c&&e.isVirtuallyVisible)&&setTimeout(function(){if(typeof e.gridItemSelectionContainer!==c){var l=e.gridItemSelectionContainer;typeof h.selectedItemClass!==c&&l.setAttribute("class",e.isSelected?h.selectedItemClass:null);typeof h.selectedItemStyle!==c&&l.setAttribute("style",e.isSelected?h.selectedItemStyle:null)}var l=[],j=null;try{j=m.activeElement}catch(o){}for(;j!=null&&j!=e.gridItem;){l.push(j);
j=j.parentNode}for(var w=-1,j=a.childNodes.length;j-- >0;)if(a.childNodes[j].isSelection&&l.indexOf(a.childNodes[j])>=0){w=j;break}for(j=a.childNodes.length;j-- >0;)a.childNodes[j].isSelection&&a.removeChild(a.childNodes[j]);for(j=0;j<b.length;j++)b[j].isSelection&&j<a.childNodes.length&&a.insertBefore($b(e,d,b[j],g,f,h),a.childNodes[j]);typeof e.ganttChartView.draggingItem===c&&w>=0&&setTimeout(function(){try{for(var b=a.childNodes[w];b.nodeName!="input"&&b.nodeName!="textarea"&&b.nodeName!="label"&&
b.nodeName!="select"&&b.nodeName!="button"&&b.childNodes.length>0;)b=b.childNodes[0];b&&b.dontAutoFocus?delete b.dontAutoFocus:setTimeout(function(){try{b.focus()}catch(a){}},0)}catch(d){}},0)},0)},Wb=function(a){typeof a.gridItem!==c&&Uc(a.gridItem,a,a.ganttChartView.items,a.ganttChartView.settings.columns,a.ganttChartView.chartContent,a.ganttChartView.settings.toggleButtonAreaWidth,a.ganttChartView.settings)},$b=function(a,e,d,b,g,f){var h=a.ganttChartView.ownerDocument,m=h.createElement("div"),
l=0;d.isTreeView==true&&(l=f.indentationLevelWidth*a.indentation);m.setAttribute("style","overflow: hidden; vertical-align: middle; display: table-cell; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; margin: 0px; padding: 0px; width: "+d.width+"px; height: "+f.itemHeight+"px; padding-left: "+l+"px");var j=h.createElement("div");typeof d.cellClass!==c?j.setAttribute("class",d.cellClass):typeof f.cellClass!==c&&j.setAttribute("class",f.cellClass);typeof d.cellStyle!==
c?j.setAttribute("style",d.cellStyle):typeof f.cellStyle!==c&&j.setAttribute("style",f.cellStyle);var o=h.createElement("div");o.setAttribute("style","white-space: nowrap; overflow: hidden; margin: 0px; padding: 0px; width: "+(d.width-l-16)+"px");if(d.isTreeView==true){l=h.createElement("div");l.setAttribute("style","display: inline-block; width: "+g+"px");if(a.hasChildren){g=h.createElement("div");g.setAttribute("style","cursor: default; padding-left: 1px; font-size: 12px; display: inline-block");
h=f.collapsedToggleButtonTemplate;if(a.isExpanded)h=f.expandedToggleButtonTemplate;h=h();g.appendChild(h);ac(g,a,e,h,b,null,null,f);l.appendChild(g)}o.appendChild(l)}a=d.cellTemplate(a);o.appendChild(a);j.appendChild(o);m.appendChild(j);m.isSelection=d.isSelection;return m},Hb=function(a,e){return function(){var d=a.ownerDocument.createElementNS("http://www.w3.org/2000/svg","polygon");d.setAttribute("points","3.5,2.5 3.5,11.5 10.5,6.5");return n(d,e)}},Ib=function(a,e){return function(){var d=a.ownerDocument.createElementNS("http://www.w3.org/2000/svg",
"polygon");d.setAttribute("points","2.5,3.5 11.5,3.5 6.5,10.5");return n(d,e)}},ac=function(a,e,d,b,g,f,h,m){if(typeof f===c||f==null)f=b.querySelector("#PART_Button");f!=null&&bc(f,f,m,e.ganttChartView);if(typeof h===c||h==null)h=b.querySelector("#PART_Border");h!=null&&bc(h,f,m,e.ganttChartView);d={toggleButton:a,item:e,items:d,content:b,chartContent:g,settings:m};if(f!=null){f.tag=d;(typeof m.isExport===c||!m.isExport)&&f.addEventListener("mouseup",u(e.ganttChartView,f,"mouseup",sb,true),true)}if(h!=
null){h.tag=d;(typeof m.isExport===c||!m.isExport)&&h.addEventListener("mouseup",u(e.ganttChartView,h,"mouseup",sb,true),true)}a.tag=d;f==null&&(h==null&&(typeof m.isExport===c||!m.isExport))&&a.addEventListener("mouseup",u(e.ganttChartView,a,"mouseup",sb,true),true);b.addEventListener("keypress",u(e.ganttChartView,b,"keypress",function(a){if(a.keyCode==32){a.preventDefault();a.stopPropagation();ja(e,!e.isExpanded,true)}},true),true);e.toggleButton=a},bc=function(a,e,d,b){if(!(typeof d.isExport!==
c&&d.isExport)){a.addEventListener("mouseover",u(b,a,"mouseover",function(){typeof d.toggleButtonHoveringClass!==c&&e.setAttribute("class",d.toggleButtonHoveringClass);typeof d.toggleButtonHoveringStyle!==c&&e.setAttribute("style",d.toggleButtonHoveringStyle)},true),true);a.addEventListener("mouseout",u(b,a,"mouseout",function(){e.setAttribute("class",d.toggleButtonClass);e.setAttribute("style",d.toggleButtonStyle)},true),true)}},sb=function(a){a.stopPropagation();a=a.target.tag.item;ja(a,!a.isExpanded,
true)},ja=function(a,e,d,b){if(a.isExpanded!=e){a.isExpanded=e;(typeof b===c||b)&&A(a,"isExpanded",d,true);cc(a)}},cc=function(a,e){if(typeof a.toggleButton===c)(typeof e===c||e)&&setTimeout(function(){cc(a,false)},0);else{var d=a.toggleButton,b=d.tag,g=b.settings,f=g.expandedToggleButtonTemplate,h=g.collapsedToggleButtonTemplate;a.isExpanded&&(h=f);var f=h(),h=f.querySelector("#PART_Button"),m=f.querySelector("#PART_Border");d.replaceChild(f,b.content);b.content=f;var l=b.items,b=b.chartContent;
ac(d,a,l,f,b,h,m,g);a.isVisible&&!(typeof a.isHidden!==c&&a.isHidden)&&Vc(l,a,b,g);oa(a);Ra(l,b,g);d=a.scheduleChartView;if(typeof d!==c)for(g=a.scheduleChartIndex;g<d.scheduleChartItems.length;g++){b=d.scheduleChartItems[g];if(typeof b.ganttChartItems!==c)for(f=0;f<b.ganttChartItems.length;f++){h=b.ganttChartItems[f];h.displayRowIndex=b.itemTop/d.settings.itemHeight;d.refreshChartItem(h)}}}},Vc=function(a,e,d,b){var g=-1,f=false,h=false,m=false,l=0,j,o,w,t=[];for(o=0;o<a.length;o++){w=a[o];if(w==
e){f=w.isExpanded;g=w.indentation}else w.indentation<=g&&(m=true);var y=w.chartItem;if(h&&!m){if(w.scheduleChartItem&&w.scheduleChartItem!=w)j=w.scheduleChartItem.isVisible;else if(f){j=true;for(var k=w.parent;k!=null;){if(!k.isVisible||!k.isExpanded){j=false;break}k=k.parent}}else j=false;if(w.isVisible!=j){w.isVisible=f;A(w,"isVisible",false,true);j=b.itemHeight;if(!w.isVisible||typeof w.isHidden!==c&&w.isHidden)j=0;if(typeof w.gridItem!==c)w.gridItem.style.height=j+"px";j="visible";if(!w.isVisible||
typeof w.isHidden!==c&&w.isHidden)j="hidden";y.setAttribute("style","visibility: "+j)}}if(typeof w.displayRowIndex===c){y.setAttribute("transform","translate(0, "+l+")");Ea(w,l)}w==e&&(h=true);j=b.itemHeight;if(!w.isVisible||typeof w.isHidden!==c&&w.isHidden)j=0;if(w.itemTop!=l)w.itemTop=l;typeof w.displayRowIndex===c&&(l=l+j);if(w.predecessors&&w.predecessors.length>0&&t.indexOf(w)<0){t.push(w);for(y=0;y<w.predecessors.length;y++){j=w.predecessors[y].item;t.indexOf(j)<0&&t.push(j)}}}ua(d,l);qa(a,
e);if(b.areTaskDependenciesVisible)for(o=0;o<t.length;o++)qa(a,t[o]);wa(a,d.container,b)},Ea=function(a,e){typeof a.parts===c||a.parts.length<=0||setTimeout(function(){for(var d=0;d<a.parts.length;d++){var b=a.parts[d];b.itemTop=e;if(typeof b.chartItem!==c){b.chartItem.setAttribute("transform","translate(0, "+e+")");b.chartItem.style.visibility=a.chartItem.style.visibility;if(typeof b.isInternallyHidden!==c){delete b.isInternallyHidden;b.chartItem.style.display="inline"}}}},0)},ua=function(a,e){if(e<
a.availableHeight)e=a.availableHeight;a.style.height=e+"px";var d=a.chartArea;d.style.height=e+"px";for(var b=0;b<d.childNodes.length;b++){var g=d.childNodes[b];if(typeof g.tag!==c)switch(g.tag){case "Scale-Highlighting":case "Scale-Highlighting-CurrentTime":g.setAttribute("height",e);break;case "Scale-Separator":case "Scale-Separator-CurrentTime":g.setAttribute("y2",e)}}},qa=function(a,e){var d=[],b,g,f,h;if(typeof e.successors===c){e.successors=[];for(g=0;g<a.length;g++){b=a[g];if(!(b==e||typeof b.predecessors===
c||b.predecessors.length==0))for(f=0;f<b.predecessors.length;f++)if(b.predecessors[f].item==e){e.successors.push(b);break}}}for(g=0;g<e.successors.length;g++){var m=e.successors[g];if(typeof m.predecessors!==c&&m.predecessors.length>0)for(f=0;f<m.predecessors.length;f++){var l=m.predecessors[f].item;if(typeof l!==c){b=true;for(h=0;h<d;h++)if(l==d[h]){b=false;break}if(b){fa(l.chartItem,l,l.ganttChartView.settings);d.push(l)}}}if(typeof m.predecessors!==c&&m.predecessors.length>0){b=true;for(h=0;h<
d;h++)if(typeof m!==c&&m==d[h]){b=false;break}if(b){fa(m.chartItem,m,m.ganttChartView.settings);d.push(m)}}}},rb=function(a,e,d){var b=a.ganttChartView.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");a.chartItem=b;var g="visible";if(!a.isVisible||typeof a.isHidden!==c&&a.isHidden)g="hidden";b.setAttribute("style","visibility: "+g+"; -ms-touch-action: pinch-zoom; touch-action: pinch-zoom");b.setAttribute("transform","translate(0, "+e+")");if(typeof a.isInternallyHidden!==c&&a.isInternallyHidden)b.style.display=
"none";Ea(a,e);fa(b,a,d);try{b.addEventListener("mousedown",u(a.ganttChartView,b,"mousedown",function(){z(a,d)}));b.addEventListener("mouseup",u(a.ganttChartView,b,"mouseup",function(){z(a,d)}))}catch(f){}return b},fa=function(a,e,d){for(var b=a.childNodes.length;b-- >0;)a.removeChild(a.childNodes[b]);if(!(d.isVirtualizing&&(typeof e.isVirtuallyVisible===c||!e.isVirtuallyVisible)||typeof e.isBarVisible!==c&&!e.isBarVisible)){b=d.standardTaskTemplate;if(typeof e.standardTaskTemplate!==c)b=e.standardTaskTemplate;
if(e.hasChildren&&(typeof e.isSummaryEnabled===c||e.isSummaryEnabled)){b=d.summaryTaskTemplate;if(typeof e.summaryTaskTemplate!==c)b=e.summaryTaskTemplate}else if(e.isMilestone){b=d.milestoneTaskTemplate;if(typeof e.milestoneTaskTemplate!==c)b=e.milestoneTaskTemplate}if(typeof e.taskTemplate!==c)b=e.taskTemplate;if(typeof d.internalPreTaskTemplate!==c){var g=d.internalPreTaskTemplate(e);g!=null&&a.appendChild(g)}b=b(e);b.addEventListener("contextmenu",u(e.ganttChartView,b,"contextmenu",function(a){typeof d.itemContextMenuHandler!==
c?d.itemContextMenuHandler(a,e):a.preventDefault()}));a.appendChild(b);if(typeof d.internalExtraTaskTemplate!==c){g=d.internalExtraTaskTemplate(e);g!=null&&a.appendChild(g)}if(typeof d.extraTaskTemplate!==c){g=d.extraTaskTemplate(e);g!=null&&a.appendChild(g)}if(d.areTaskAssignmentsVisible){g=d.assignmentsTemplate(e);b.appendChild(g)}if(d.isTaskToolTipVisible){g=d.itemTemplate;if(typeof e.template!==c)g=e.template;b.appendChild(g(e))}if(d.areTaskDependenciesVisible&&typeof e.predecessors!==c)for(b=
0;b<e.predecessors.length;b++){g=e.predecessors[b];if(!((typeof e.ganttChartView===c||e.ganttChartView.items.indexOf(g.item))<0||!g.item.isVisible||typeof g.item.isHidden!==c&&g.item.isHidden||typeof g.item.isBarVisible!==c&&!g.item.isBarVisible)){var f=d.dependencyLineTemplate(e,g);f.predecessorIndex=b;(function(){f.addEventListener("click",u(e.ganttChartView,f,"click",function(a){d.dependencyLineClickHandler&&d.dependencyLineClickHandler(e.predecessors[this.predecessorIndex],e,a)}));f.addEventListener("dblclick",
u(e.ganttChartView,f,"dblclick",function(a){d.dependencyLineDoubleClickHandler&&d.dependencyLineDoubleClickHandler(e.predecessors[this.predecessorIndex],e,a)}))})(g);typeof d.predecessorItemContextMenuHandler!==c?f.addEventListener("contextmenu",u(e.ganttChartView,f,"contextmenu",function(a){d.predecessorItemContextMenuHandler(a,e.predecessors[this.predecessorIndex],e)})):!d.isReadOnly&&(!d.isChartReadOnly&&!d.areTaskPredecessorsReadOnly&&(typeof e.isReadOnly===c||!e.isReadOnly))&&f.addEventListener("contextmenu",
u(e.ganttChartView,f,"contextmenu",function(a){if(confirm("Are you sure you want to remove the predecessor?")){for(var b=[],c=0;c<e.predecessors.length;c++)if(c!=this.predecessorIndex){var f=e.predecessors[c];delete f.item.successors;b.push(f)}e.predecessors=b;A(e,"predecessors",true,true);fa(e.chartItem,e,d);qa(e.ganttChartView.items,e)}a.preventDefault()}));a.appendChild(f);if(d.isDependencyToolTipVisible){var h=d.predecessorItemTemplate;if(typeof g.template!==c)h=g.template;f.appendChild(h(e,g))}}}}},
Ta=function(a){for(var e=0;e<a.length;e++)Ka(a[e])},oa=function(a){if((!a.ganttChartView.settings.isVirtualizing||typeof a.isVirtuallyVisible!==c&&a.isVirtuallyVisible)&&typeof a.isWaitingToRefreshChartItem===c){a.isWaitingToRefreshChartItem=true;setTimeout(function(){fa(a.chartItem,a,a.ganttChartView.settings);var e=Ca(a,a.ganttChartView.items,a.ganttChartView.settings);a.chartItem.setAttribute("transform","translate(0, "+e+")");Ea(a,e);delete a.isWaitingToRefreshChartItem},0)}},na=function(a){if(!a.ganttChartView.settings.isVirtualizing||
typeof a.isVirtuallyVisible!==c&&a.isVirtuallyVisible)if(typeof a.isWaitingToRefreshGridItem!==c||typeof a.isWaitingToRefreshChartItem!==c){typeof a.isWaitingToRefreshGridItem===c&&Sa(a);typeof a.isWaitingToRefreshChartItem===c&&oa(a)}else{a.isWaitingToRefreshGridItem=true;a.isWaitingToRefreshChartItem=true;setTimeout(function(){typeof a.gridItem!==c&&Da(a.gridItem,a,a.ganttChartView.items,a.ganttChartView.settings.columns,a.ganttChartView.chartContent,a.ganttChartView.settings.toggleButtonAreaWidth,
a.ganttChartView.settings);fa(a.chartItem,a,a.ganttChartView.settings);var e=Ca(a,a.ganttChartView.items,a.ganttChartView.settings);a.chartItem.setAttribute("transform","translate(0, "+e+")");Ea(a,e);delete a.isWaitingToRefreshGridItem;delete a.isWaitingToRefreshChartItem},0)}},ra=function(a){if((!a.ganttChartView.settings.isVirtualizing||typeof a.isVirtuallyVisible!==c&&a.isVirtuallyVisible)&&typeof a.isWaitingToRefreshPredecessorItems===c){a.isWaitingToRefreshPredecessorItems=true;setTimeout(function(){qa(a.ganttChartView.items,
a);delete a.isWaitingToRefreshPredecessorItems},0)}},Ka=function(a){if(!a.ganttChartView.settings.isVirtualizing||typeof a.isVirtuallyVisible!==c&&a.isVirtuallyVisible)if(typeof a.isWaitingToRefreshGridItem!==c||typeof a.isWaitingToRefreshChartItem!==c||typeof a.isWaitingToRefreshPredecessorItems!==c){typeof a.isWaitingToRefreshGridItem===c&&Sa(a);typeof a.isWaitingToRefreshChartItem===c&&oa(a);typeof a.isWaitingToRefreshPredecessorItems===c&&ra(a)}else{a.isWaitingToRefreshGridItem=true;a.isWaitingToRefreshChartItem=
true;a.isWaitingToRefreshPredecessorItems=true;setTimeout(function(){typeof a.gridItem!==c&&Da(a.gridItem,a,a.ganttChartView.items,a.ganttChartView.settings.columns,a.ganttChartView.chartContent,a.ganttChartView.settings.toggleButtonAreaWidth,a.ganttChartView.settings);fa(a.chartItem,a,a.ganttChartView.settings);var e=Ca(a,a.ganttChartView.items,a.ganttChartView.settings);a.chartItem.setAttribute("transform","translate(0, "+e+")");Ea(a,e);qa(a.ganttChartView.items,a);delete a.isWaitingToRefreshGridItem;
delete a.isWaitingToRefreshChartItem;delete a.isWaitingToRefreshPredecessorItems},0)}},$=function(a){Ka(a);for(a=a.parent;a!=null;){cb(a);Ka(a);a=a.parent}},Ua=function(a,e,d,b){H(e,b);ea(e,d);Na(e,b,d);d=a.index-1;d>=0&&$(e[d]);$(a);d=a.index+1;d<e.length&&$(e[d])},eb=function(a,e){var d=e.toggleButtonAreaWidth;delete e.toggleButtonAreaWidth;J(a,e);return e.toggleButtonAreaWidth!=d},dc=function(a,e,d,b,g){d.initializedItems.push(e);e.ganttChartView=d;for(e.isVirtuallyVisible=true;a>0&&b[a-1].isPart;)a--;
for(var f=0;f<b.length;f++)if(b[f].parts&&b[f].parts.indexOf(e)>=0){e.isPart=true;e.ganttChartItem=b[f];break}var h=a<b.length?b[a]:null;if(h==null||h.isPart){h=a>0?b[a-1]:null;h=h!=null?h.indentation+1:0;if(e.indentation>h)e.indentation=h}else if(typeof e.indentation===c||e.indentation<h.indentation-1||e.indentation>h.indentation)e.indentation=h.indentation;H([e],g);b.splice(a,0,e);ea(b,d);if(typeof e.parts!==c){if(typeof e.isGroup===c){e.isGroup=true;e.isSummaryEnabled=false}H(e.parts,g);if(e.isGroup||
typeof e.isBarVisible===c)e.isBarVisible=false;for(f=0;f<e.parts.length;f++){var m=e.parts[f];m.ganttChartView=e.ganttChartView;m.ganttChartItem=e;m.isPart=true;m.isVirtuallyVisible=true;if(e.isGroup||typeof m.indentation===c)m.indentation=0;if(e.isGroup||typeof m.displayRowIndex===c)m.displayRowIndex=-1;m.isInternallyHidden=true;b.indexOf(m)>=0||b.splice(b.length,0,m)}}Na(b,g,d);var l;if(g.isGridVisible&&!e.isPart&&typeof e.displayRowIndex===c){f=null;if(a<b.length-1){h=b[a+1];if(!h.isPart){l=h.itemTop;
if(typeof h.gridItemContainer!==c)f=h.gridItemContainer}}d.gridContent.insertBefore(Zb(e,b,g.columns,d.chartContent,g.toggleButtonAreaWidth,g,d),f)}typeof l===c&&(l=va(b,g)-g.itemHeight);h=l;typeof e.displayRowIndex!==c&&(h=e.displayRowIndex*g.itemHeight);var j=d.chartContent.chartArea;j.appendChild(rb(e,h,g));e.isVisible&&!(typeof e.isHidden!==c&&e.isHidden)&&(l=Math.max(l,h+g.itemHeight));e.itemTop=h;if(typeof e.parts!==c)for(f=0;f<e.parts.length;f++){m=e.parts[f];j.appendChild(rb(m,h,g))}if(typeof e.displayRowIndex===
c)for(f=a+1;f<b.length;f++){m=b[f];h=l;typeof m.displayRowIndex!==c&&(h=m.displayRowIndex*g.itemHeight);m.isVisible&&!(typeof m.isHidden!==c&&m.isHidden)&&(l=Math.max(l,h+g.itemHeight));m.itemTop=h;oa(m);qa(b,m)}for(f=a+1;f<b.length;f++)Sa(b[f]);if(d.isContentHeightInitialized&&d.isContentHeightAuto){a=K(d,b,g);d.gridContentContainer.style.height=a;d.chartContentContainer.style.height=a}ua(d.chartContent,va(b,g));Ra(b,d.chartContent,g);eb(b,g)&&Ta(b);Ua(e,b,d,g);wa(b,d.chartContentContainer,g)},ec=
function(a,e,d,b){if(typeof a.parts!==c)for(var g=0;g<a.parts.length;g++)ec(a.parts[g],e,d,b);var g=a.index,f=null,h=false;if(g>0){for(f=d[g-1];f.parent!=null;)f=f.parent;h=f.isExpanded;a.hasChildren&&ja(f,a.isExpanded,false,true);f.indentation>=a.indentation&&(f=null)}else d[0].isExpanded||ja(d[0],true,false,true);var m=g+1<d.length?d[g+1]:null;m!=null&&(!m.isExpanded&&m.indentation>a.indentation)&&ja(m,true,false,true);var l=m!=null?m.indentation:null,j,o,w;for(o=0;o<e.items.length;o++){j=e.items[o];
if(j.predecessors!=null)for(w=j.predecessors.length;w-- >0;)if(j.predecessors[w].item==a){j.predecessors.splice(w,1);A(j,"predecessors",false,true);na(j);ra(j)}}var t=a.itemTop;d.splice(g,1);ea(d,e);Na(d,b,e);b.isGridVisible&&typeof a.displayRowIndex===c&&typeof a.gridItemContainer!==c&&e.gridContent.removeChild(a.gridItemContainer);o=e.chartContent.chartArea;typeof a.chartItem!==c&&o.removeChild(a.chartItem);m=g<d.length?d[g]:null;if(m!=null&&m.indentation<l){A(m,"indentation",false,true);m.predecessors=
[];A(m,"predecessors",false,true);for(o=0;o<d.length;o++){j=d[o];if(!(j==m||typeof j.predecessors===c||j.predecessors.length==0))for(w=0;w<j.predecessors.length;w++)if(j.predecessors[w].item==m){j.predecessors.splice(w--,1);A(j,"predecessors",false,true);na(j);ra(j)}}}f!=null&&ja(f,h,false,true);for(o=g;o<d.length;o++){a=d[o];actualItemTop=t;typeof a.displayRowIndex!==c&&(actualItemTop=a.displayRowIndex*b.itemHeight);a.isVisible&&!(typeof a.isHidden!==c&&a.isHidden)&&(t=Math.max(t,actualItemTop+b.itemHeight));
a.itemTop=actualItemTop;na(a)}ua(e.chartContent,va(d,b));Ra(d,e.chartContent,b);eb(d,b)&&Ta(d);g>=d.length&&(g=d.length-1);if(g>=0){for(o=0;o<g;o++)oa(d[o]);Ua(d[g],d,e,b)}wa(d,e.chartContentContainer,b)},Kb=function(a,e){return function(d){typeof d===c&&(d=a);var b=d.ownerDocument,d=b.createElementNS("http://www.w3.org/2000/svg","defs"),g=b.createElementNS("http://www.w3.org/2000/svg","linearGradient");g.setAttribute("id","BlueGradient");g.setAttribute("x1","0%");g.setAttribute("y1","0%");g.setAttribute("x2",
"0%");g.setAttribute("y2","100%");var f=b.createElementNS("http://www.w3.org/2000/svg","stop");f.setAttribute("offset","0%");f.setAttribute("style","stop-color: White");var h=b.createElementNS("http://www.w3.org/2000/svg","stop");h.setAttribute("offset","25%");h.setAttribute("style","stop-color: LightBlue");var m=b.createElementNS("http://www.w3.org/2000/svg","stop");m.setAttribute("offset","100%");m.setAttribute("style","stop-color: Blue");g.appendChild(f);g.appendChild(h);g.appendChild(m);d.appendChild(g);
g=b.createElementNS("http://www.w3.org/2000/svg","linearGradient");g.setAttribute("id","BlackGradient");g.setAttribute("x1","0%");g.setAttribute("y1","0%");g.setAttribute("x2","0%");g.setAttribute("y2","100%");f=b.createElementNS("http://www.w3.org/2000/svg","stop");f.setAttribute("offset","0%");f.setAttribute("style","stop-color: Black");h=b.createElementNS("http://www.w3.org/2000/svg","stop");h.setAttribute("offset","10%");h.setAttribute("style","stop-color: White");m=b.createElementNS("http://www.w3.org/2000/svg",
"stop");m.setAttribute("offset","20%");m.setAttribute("style","stop-color: Gray");var l=b.createElementNS("http://www.w3.org/2000/svg","stop");l.setAttribute("offset","60%");l.setAttribute("style","stop-color: Black");g.appendChild(f);g.appendChild(h);g.appendChild(m);g.appendChild(l);d.appendChild(g);g=b.createElementNS("http://www.w3.org/2000/svg","marker");g.setAttribute("id","ArrowMarker");g.setAttribute("viewBox","0 0 10 10");g.setAttribute("refX","0");g.setAttribute("refY","5");g.setAttribute("markerUnits",
"strokeWidth");g.setAttribute("markerWidth",(4.5*(e.arrowSize?e.arrowSize:1)).toString());g.setAttribute("markerHeight",(3.5*(e.arrowSize?e.arrowSize:1)).toString());g.setAttribute("orient","auto");b=b.createElementNS("http://www.w3.org/2000/svg","path");switch(e.theme){default:b.setAttribute("fill","#3b87d9");break;case "Aero":b.setAttribute("fill","Blue")}b.setAttribute("d","M 0 0 L 10 5 L 0 10 z");b.setAttribute("fill",e.arrowFill?e.arrowFill:e.theme=="Aero"?"Blue":"#3b87d9");g.appendChild(b);
d.appendChild(g);return d}},Ob=function(a){return function(e){var d=e.ganttChartView,b=e.ganttChartView.ownerDocument,g=b.createElementNS("http://www.w3.org/2000/svg","title");g.appendChild(T(b,e.content));if(typeof a.areToolTipsSimplified===c||!a.areToolTipsSimplified)if(typeof e.loadChartView===c){if(typeof e.scheduleChartView===c&&e.parent){g.appendChild(b.createTextNode("\n"));g.appendChild(b.createTextNode("Parent: "+e.parent.content))}if(typeof e.scheduleChartView!==c&&e.scheduleChartItem){g.appendChild(b.createTextNode("\n"));
g.appendChild(b.createTextNode("Row: "+e.scheduleChartItem.content))}if(e.hasChildren){g.appendChild(b.createTextNode("\n"));g.appendChild(b.createTextNode("Children: "+e.children.length))}g.appendChild(b.createTextNode("\n"));g.appendChild(b.createTextNode((!e.isMilestone?"Start: ":"")+a.dateTimeFormatter(x(e.start))));if(!e.isMilestone){g.appendChild(b.createTextNode("\n"));g.appendChild(b.createTextNode("Finish: "+a.dateTimeFormatter(x(e.finish))))}if(a.areTaskAssignmentsVisible&&e.assignmentsContent){g.appendChild(b.createTextNode("\n"));
g.appendChild(b.createTextNode("Assignments: "+e.assignmentsContent))}if(!e.isMilestone){g.appendChild(b.createTextNode("\n"));g.appendChild(b.createTextNode("Effort: "+d.getItemTotalEffort(e)/3600000+"h"));if(a.isTaskCompletedEffortVisible){d=d.getItemCompletion(e);if(!isNaN(d)){g.appendChild(b.createTextNode("\n"));g.appendChild(b.createTextNode("Completed: "+Math.round(d*10000)/100+"%"))}}}if(a.areTaskDependenciesVisible&&e.predecessors&&e.predecessors.length>0){g.appendChild(b.createTextNode("\n"));
for(var d="",f=0;f<e.predecessors.length;f++){var h=e.predecessors[f];if(h.item){d.length>0&&(d=d+", ");d=d+h.item.content;h.dependencyType&&(d=d+(" ("+fc(h.dependencyType)+")"))}}g.appendChild(b.createTextNode("Predecessors: "+d))}}else if(!isNaN(e.units)){g.appendChild(b.createTextNode("\n"));g.appendChild(b.createTextNode("Allocation: "+Math.round(e.units*10000)/100+"%"))}return g}},Pb=function(a){return function(e){var d=e.ganttChartView,b=typeof a!==c?a:d.settings;if(b.areResourceImagesVisibleAsAssignments){var g=
d.chartContent.childNodes[0].childNodes[0];if(!d.chartContent.hasClipPathForResourceImagesBeenInitialized){var f=document.createElementNS("http://www.w3.org/2000/svg","clipPath");f.setAttribute("id","resourceImageClipPath");f.setAttribute("clipPathUnits","objectBoundingBox");var h=document.createElementNS("http://www.w3.org/2000/svg","circle");h.setAttribute("cx",0.5);h.setAttribute("cy",0.5);h.setAttribute("r",0.5);f.appendChild(h);g.appendChild(f);d.chartContent.hasClipPathForResourceImagesBeenInitialized=
true}var m=document.createElementNS("http://www.w3.org/2000/svg","g");m.setAttribute("id","assignmentsGroup");var l=d.getChartPosition(e.finish)+b.barHeight/3+2;if(e.isMilestone||e.hasChildren&&(typeof e.isSummaryEnabled===c||e.isSummaryEnabled))l=l+(b.barHeight/2+(e.isMilestone?b.barHeight/3:0));var j=0;ha(e).forEach(function(a){var d=a.key,f;if(typeof b.resourceImageUrls!==c){var g=aa(b.resourceImageUrls,d);if(g>=0)f=b.resourceImageUrls[g].value}if(f&&b.itemHeight>4){var h=b.itemHeight-4,g=document.createElementNS("http://www.w3.org/2000/svg",
"image");g.setAttribute("x",l+28*j);g.setAttribute("y",2);g.setAttribute("width",h+"px");g.setAttribute("height",h+"px");if(e.isExported&&f.indexOf("://")!=0){h=f.indexOf("/")!=0?window.location.pathname.substr(0,window.location.pathname.lastIndexOf("/")+1):"";f=window.location.protocol+"//"+window.location.host+h+f}g.setAttribute("href",f);g.setAttribute("clip-path","url(#resourceImageClipPath)");m.appendChild(g);a=a.value!=1?" "+Math.round(a.value*10000)/100+"%":"";f=document.createElementNS("http://www.w3.org/2000/svg",
"title");f.appendChild(document.createTextNode(d+a));g.appendChild(f)}j++});return m}d=document.createElementNS("http://www.w3.org/2000/svg","text");l=I(e.finish,b);if(e.isMilestone||e.hasChildren&&(typeof e.isSummaryEnabled===c||e.isSummaryEnabled))l=l+b.barHeight/2;d.setAttribute("x",l+7);d.setAttribute("y",b.barMargin+b.barHeight-b.barHeight/5);g=b.target!="Phone"?e.assignmentsContent:e.content;typeof g===c&&(g="");d.appendChild(document.createTextNode(g));typeof b.assignmentsClass!==c?d.setAttribute("class",
b.assignmentsClass):typeof b.assignmentsStyle!==c&&d.setAttribute("style",b.assignmentsStyle);return d}},tb=function(a){var e=a.ganttChartView.ownerDocument;if(typeof a.chartItemArea===c)a.chartItemArea=e.createElementNS("http://www.w3.org/2000/svg","g");for(e=a.chartItemArea.childNodes.length;e-- >0;)a.chartItemArea.removeChild(a.chartItemArea.childNodes[e]);return a.chartItemArea},ub=function(a,e,d,b,c){var f=a.ganttChartView,h=f.settings,m=f.ownerDocument,f=h.barMargin,l=h.barHeight,h=h.barHeight,
j=m.createElementNS("http://www.w3.org/2000/svg","foreignObject"),o=e.childNodes.length-6,b=b!=null?b-d-4-(a.hasChildren?4:0):200,w=m.createTextNode(a.label),m=m.createElement("span");j.setAttribute("width",b);j.setAttribute("height",h);if(a.isMilestone){j.setAttribute("x",d-200-l);j.setAttribute("y",f+l/4);j.setAttribute("style","text-overflow: ellipsis; white-space: nowrap; text-align: right; font-size: "+(l/2+1)+"px; color: "+c)}else if(a.hasChildren){j.setAttribute("x",d+4);j.setAttribute("y",
f+l/4-2);j.setAttribute("style","text-overflow: ellipsis; white-space: nowrap; font-size: "+l/2+"px; color: "+c)}else{j.setAttribute("x",d+2);j.setAttribute("y",f+l/4);j.setAttribute("style","text-overflow: ellipsis; white-space: nowrap; font-size: "+(l/2+1)+"px; color: "+c)}m.appendChild(w);j.appendChild(m);e.insertBefore(j,e.childNodes[o]);return m},Lb=function(a,e,d){return function(b){var g=typeof e!==c?e:b.ganttChartView,f=typeof d!==c?d:g.settings,h=typeof a!==c?a:g.items,m=g.ownerDocument,
l=tb(b);if(f.isBaselineVisible&&typeof b.baselineStart!==c&&typeof b.baselineFinish!==c){var j=I(b.baselineStart,f),o=Math.max(I(b.baselineFinish,f),j+4),w=m.createElementNS("http://www.w3.org/2000/svg","rect");w.setAttribute("x",j);w.setAttribute("y",f.barMargin/2);w.setAttribute("width",Math.max(0,o-j-1));w.setAttribute("height",f.barHeight);w.setAttribute("rx",f.barCornerRadius);w.setAttribute("ry",f.barCornerRadius);j=f.baselineBarClass;if(typeof b.baselineBarClass!==c)j=b.baselineBarClass;if(typeof j!==
c)w.setAttribute("class",j);else{j=f.baselineBarStyle;if(typeof b.baselineBarStyle!==c)j=b.baselineBarStyle;typeof j!==c&&w.setAttribute("style",j)}l.appendChild(w)}var w=I(b.start,f),j=Math.max(I(b.finish,f),w+4),o=I(b.completedFinish,f),t=m.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("x",w);t.setAttribute("y",f.barMargin);t.setAttribute("width",Math.max(0,j-w-1));t.setAttribute("height",f.barHeight);t.setAttribute("rx",f.barCornerRadius);t.setAttribute("ry",f.barCornerRadius);
var y=f.standardBarClass;if(typeof b.standardBarClass!==c)y=b.standardBarClass;if(typeof b.barClass!==c)y=b.barClass;if(typeof y!==c)t.setAttribute("class",y);else{y=f.standardBarStyle;if(typeof b.standardBarStyle!==c)y=b.standardBarStyle;if(typeof b.barStyle!==c)y=b.barStyle;typeof y!==c&&t.setAttribute("style",y)}l.appendChild(t);if(f.isTaskCompletedEffortVisible){t=m.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("x",w+0.65);t.setAttribute("y",f.barMargin+f.completedBarMargin);
t.setAttribute("width",Math.max(0,o-w-1-1.3));t.setAttribute("height",f.completedBarHeight);t.setAttribute("rx",f.completedBarCornerRadius);t.setAttribute("ry",f.completedBarCornerRadius);y=f.standardCompletedBarClass;if(typeof b.standardCompletedBarClass!==c)y=b.standardCompletedBarClass;if(typeof b.completedBarClass!==c)y=b.completedBarClass;if(typeof y!==c)t.setAttribute("class",y);else{y=f.standardCompletedBarStyle;if(typeof b.standardCompletedBarStyle!==c)y=b.standardCompletedBarStyle;if(typeof b.completedBarStyle!==
c)y=b.completedBarStyle;typeof y!==c&&t.setAttribute("style",y)}l.appendChild(t)}if(f.areStandardTaskLabelsVisible&&b.label){t=ub(b,l,w,j,b.labelColor?b.labelColor:f.standardLabelColor?f.standardLabelColor:"black");y=f.standardLabelClass;if(typeof b.labelClass!==c)y=b.labelClass;if(typeof y!==c)t.setAttribute("class",y);else{y=f.standardLabelStyle;if(typeof b.labelStyle!==c)y=b.labelStyle;typeof y!==c&&t.setAttribute("style",y)}}if(!f.isReadOnly&&!f.isChartReadOnly&&(typeof b.isReadOnly===c||!b.isReadOnly)&&
(typeof b.isBarReadOnly===c||!b.isBarReadOnly)){t=m.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("x",w);t.setAttribute("y",f.barMargin);t.setAttribute("width",Math.max(0,j-w-1));t.setAttribute("height",f.barHeight);t.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer");f.isTaskStartReadOnly||l.appendChild(t);y=m.createElementNS("http://www.w3.org/2000/svg","rect");y.setAttribute("x",w-4);y.setAttribute("y",f.barMargin);y.setAttribute("width",4);y.setAttribute("height",
f.barHeight);y.setAttribute("style","fill: White; fill-opacity: 0; cursor: w-resize");f.isDraggingTaskStartEndsEnabled&&(!f.isTaskStartReadOnly&&f.interaction!="TouchEnabled")&&l.appendChild(y);var k=m.createElementNS("http://www.w3.org/2000/svg","rect");k.setAttribute("x",j-4);k.setAttribute("y",f.barMargin);k.setAttribute("width",8);k.setAttribute("height",f.barHeight);k.setAttribute("style","fill: White; fill-opacity: 0; cursor: e-resize");!f.isTaskEffortReadOnly&&f.interaction!="TouchEnabled"&&
l.appendChild(k);var q=m.createElementNS("http://www.w3.org/2000/svg","rect");q.setAttribute("x",o-2);q.setAttribute("y",f.barMargin);q.setAttribute("width",6);q.setAttribute("height",f.barHeight);q.setAttribute("style","fill: White; fill-opacity: 0; cursor: ew-resize");if(!f.isTaskCompletionReadOnly&&f.isTaskCompletedEffortVisible&&f.interaction!="TouchEnabled"){l.appendChild(q);var r=m.createElementNS("http://www.w3.org/2000/svg","title"),n=typeof f.areToolTipsSimplified===c||!f.areToolTipsSimplified?
g.getItemCompletion(b):NaN;r.appendChild(T(m,!isNaN(n)?Math.round(n*10000)/100+"%":""));q.appendChild(r)}vb(t,y,k,q,b,w,j,o,h,g,f);if(f.areTaskDependenciesVisible&&!f.areTaskPredecessorsReadOnly&&!b.isPart){o=null;if(typeof f.allowCreatingStartDependencies===c||f.allowCreatingStartDependencies){o=m.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",w);o.setAttribute("cy",f.barMargin+f.barHeight/2);o.setAttribute("r",f.barHeight/4);o.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer");
l.appendChild(o)}m=m.createElementNS("http://www.w3.org/2000/svg","circle");m.setAttribute("cx",j-2);m.setAttribute("cy",f.barMargin+f.barHeight/2);m.setAttribute("r",f.barHeight/4);m.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer");l.appendChild(m);fb(m,o,l,b,f.barMargin+f.barHeight/2,j-2,w,h,g,f)}}return l}},Mb=function(a,e,d){return function(b){var g=typeof e!==c?e:b.ganttChartView,f=typeof d!==c?d:g.settings,h=typeof a!==c?a:g.items,m=g.ownerDocument,l=tb(b),j=I(b.start,f),
o=I(b.finish,f),w=f.barHeight*2.15/3,t=m.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("x",j);t.setAttribute("y",f.barMargin);t.setAttribute("width",Math.max(0,o-j-1));t.setAttribute("height",w);var y=f.summaryBarClass;if(typeof b.summaryBarClass!==c)y=b.summaryBarClass;if(typeof b.barClass!==c)y=b.barClass;if(typeof y!==c)t.setAttribute("class",y);else{var k=f.summaryBarStyle;if(typeof b.summaryBarStyle!==c)k=b.summaryBarStyle;if(typeof b.barStyle!==c)k=b.barStyle;typeof k!==
c&&t.setAttribute("style",k)}l.appendChild(t);if(f.isTaskCompletedEffortVisible&&f.isSummaryTaskCompletedEffortVisible){t=m.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("x",j);t.setAttribute("y",f.barMargin+f.completedBarMargin*2.15/3);t.setAttribute("width",Math.max(0,o-j-1)*g.getItemCompletion(b));t.setAttribute("height",f.completedBarHeight*2.15/3);t.setAttribute("rx",f.completedBarCornerRadius);t.setAttribute("ry",f.completedBarCornerRadius);var q=f.summaryCompletedBarClass;
if(typeof b.summaryCompletedBarClass!==c)q=b.summaryCompletedBarClass;if(typeof b.completedBarClass!==c)q=b.completedBarClass;if(typeof q!==c)t.setAttribute("class",q);else{q=f.summaryCompletedBarStyle;if(typeof b.summaryCompletedBarStyle!==c)q=b.summaryCompletedBarStyle;if(typeof b.completedBarStyle!==c)q=b.completedBarStyle;typeof q!==c&&t.setAttribute("style",q)}l.appendChild(t)}if(!b.isExpanded){t=m.createElementNS("http://www.w3.org/2000/svg","line");t.setAttribute("x1",j);t.setAttribute("y1",
f.barMargin+w+2.5);t.setAttribute("x2",o-1);t.setAttribute("y2",f.barMargin+w+2.5);q=f.collapsedSummaryLineClass;if(typeof b.collapsedSummaryLineClass!==c)q=b.collapsedSummaryLineClass;if(typeof q!==c)t.setAttribute("class",q);else{q=f.collapsedSummaryLineStyle;if(typeof b.collapsedSummaryLineStyle!==c)q=b.collapsedSummaryLineStyle;typeof q!==c&&t.setAttribute("style",q)}l.appendChild(t)}var q=m.createElementNS("http://www.w3.org/2000/svg","polygon"),t=f.barMargin-0.25,r=w+1.5,n=f.barHeight*3/4,v=
f.barHeight/4,w=j-1-f.barHeight/3;q.setAttribute("points",w+","+t+" "+w+","+(t+r)+" "+(w+n/2)+","+(t+r+v)+" "+(w+n)+","+(t+r)+" "+(w+n)+","+t);typeof y!==c&&q.setAttribute("class",y);typeof k!==c&&q.setAttribute("style",k);l.appendChild(q);q=m.createElementNS("http://www.w3.org/2000/svg","polygon");w=o+f.barHeight/3;q.setAttribute("points",w+","+t+" "+w+","+(t+r)+" "+(w-n/2)+","+(t+r+v)+" "+(w-n)+","+(t+r)+" "+(w-n)+","+t);typeof y!==c&&q.setAttribute("class",y);typeof k!==c&&q.setAttribute("style",
k);l.appendChild(q);if(f.areSummaryTaskLabelsVisible&&b.label){y=ub(b,l,j,o,b.labelColor?b.labelColor:f.summaryLabelColor?f.summaryLabelColor:"white");k=f.summaryLabelClass;if(typeof b.labelClass!==c)k=b.labelClass;if(typeof k!==c)y.setAttribute("class",k);else{k=f.summaryLabelStyle;if(typeof b.labelStyle!==c)k=b.labelStyle;typeof k!==c&&y.setAttribute("style",k)}}if(!f.isReadOnly&&!f.isChartReadOnly&&(typeof b.isReadOnly===c||!b.isReadOnly)&&(typeof b.isBarReadOnly===c||!b.isBarReadOnly)&&f.areTaskDependenciesVisible&&
!f.areTaskPredecessorsReadOnly&&!b.isPart){y=null;if(typeof f.allowCreatingStartDependencies===c||f.allowCreatingStartDependencies){y=m.createElementNS("http://www.w3.org/2000/svg","circle");y.setAttribute("cx",j-0.5);y.setAttribute("cy",f.barMargin+f.barHeight/2);y.setAttribute("r",f.barHeight/4);y.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer");l.appendChild(y)}m=m.createElementNS("http://www.w3.org/2000/svg","circle");m.setAttribute("cx",o-0.5);m.setAttribute("cy",f.barMargin+
f.barHeight/2);m.setAttribute("r",f.barHeight/4);m.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer");l.appendChild(m);fb(m,y,l,b,f.barMargin+f.barHeight/2,o-1.5,j,h,g,f)}return l}},Nb=function(a,e,d){return function(b){var g=typeof e!==c?e:b.ganttChartView,f=typeof d!==c?d:g.settings,h=typeof a!==c?a:g.items,m=g.ownerDocument,l=tb(b);if(f.isBaselineVisible&&typeof b.baselineStart!==c){var j=I(b.baselineStart,f),o=m.createElementNS("http://www.w3.org/2000/svg","polygon"),w=f.barMargin-
1,t=f.barHeight+1;o.setAttribute("points",j+","+w+" "+(j-t/2)+","+(w+t/2)+" "+j+","+(w+t)+" "+(j+t/2)+","+(w+t/2));j=f.baselineBarClass;if(typeof b.baselineBarClass!==c)j=b.baselineBarClass;if(typeof j!==c)o.setAttribute("class",j);else{var y=f.baselineBarStyle;if(typeof b.baselineBarStyle!==c)y=b.baselineBarStyle}o.setAttribute("style",y);l.appendChild(o)}j=I(b.start,f);w=m.createElementNS("http://www.w3.org/2000/svg","polygon");o=j-1;t=f.barMargin;y=f.barHeight+1;w.setAttribute("points",o+","+t+
" "+(o-y/2)+","+(t+y/2)+" "+o+","+(t+y)+" "+(o+y/2)+","+(t+y/2));t=f.milestoneBarClass;if(typeof b.milestoneBarClass!==c)t=b.milestoneBarClass;if(typeof b.barClass!==c)t=b.barClass;if(typeof t!==c)w.setAttribute("class",t);else{t=f.milestoneBarStyle;if(typeof b.milestoneBarStyle!==c)t=b.milestoneBarStyle;if(typeof b.barStyle!==c)t=b.barStyle;typeof t!==c&&w.setAttribute("style",t)}l.appendChild(w);if(f.areMilestoneTaskLabelsVisible&&b.label){j=ub(b,l,j,null,b.labelColor?b.labelColor:f.milestoneLabelColor?
f.milestoneLabelColor:"black");w=f.milestoneLabelClass;if(typeof b.labelClass!==c)w=b.labelClass;if(typeof w!==c)j.setAttribute("class",w);else{w=f.milestoneLabelStyle;if(typeof b.labelStyle!==c)w=b.labelStyle;typeof w!==c&&j.setAttribute("style",w)}}if(!f.isReadOnly&&!f.isChartReadOnly&&(typeof b.isReadOnly===c||!b.isReadOnly)&&(typeof b.isBarReadOnly===c||!b.isBarReadOnly)){j=m.createElementNS("http://www.w3.org/2000/svg","rect");j.setAttribute("x",o-y/2);j.setAttribute("y",f.barMargin);j.setAttribute("width",
y);j.setAttribute("height",y);j.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer");l.appendChild(j);vb(j,null,null,null,b,o,o,o,h,g,f);if(f.areTaskDependenciesVisible&&!f.areTaskPredecessorsReadOnly&&!b.isPart){m=m.createElementNS("http://www.w3.org/2000/svg","circle");m.setAttribute("cx",o);m.setAttribute("cy",f.barMargin+f.barHeight/2);m.setAttribute("r",f.barHeight/4);m.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer");l.appendChild(m);fb(m,null,l,b,f.barMargin+
f.barHeight/2,o,o,h,g,f)}}return l}},Qb=function(a,e){return function(d,b){var g=d.ganttChartView,f=typeof e!==c?e:g.settings,h=typeof a!==c?a:g.items,m=g.ownerDocument,g=m.createElementNS("http://www.w3.org/2000/svg","g"),l;l=Ca(b.item,h,f);var j=Ca(d,h,f),h="M ",o,w,t=f.itemHeight,y=t/2,k=t/3.5,q=2,r=false,n;if(l==j&&(typeof b.dependencyType===c||b.dependencyType=="FinishStart"||b.dependencyType=="FS"||b.dependencyType=="StartFinish"||b.dependencyType=="SF")){if(typeof b.dependencyType===c||b.dependencyType==
"FinishStart"||b.dependencyType=="FS"){o=I(b.item.finish,f);w=I(d.start,f)}else{o=I(b.item.start,f);w=I(d.finish,f)}l=l-j+0.5;h=h+(o+" "+(l+y)+" L "+(w+(w>o?-1:1)*(t/5-1))+" "+(l+y))}else{if(typeof b.dependencyType!==c&&(b.dependencyType=="StartStart"||b.dependencyType=="SS"||b.dependencyType=="StartFinish"||b.dependencyType=="SF")){o=I(b.item.start,f);b.item.hasChildren&&(typeof b.item.isSummaryEnabled===c||b.item.isSummaryEnabled)?o=o-(f.barHeight/3+0.25):b.item.isMilestone&&(o=o-t/4);w=o-k}else{o=
I(b.item.finish,f)-1;if(b.item.hasChildren&&(typeof b.item.isSummaryEnabled===c||b.item.isSummaryEnabled))o=o+(f.barHeight/3+0.25);else if(b.item.isMilestone)o=o+t/4;else{n=I(b.item.start,f)+4-1;o<n&&(o=n)}w=o+k}l=l-j+0.5;h=h+(o+" "+(l+y)+" L "+w+" "+(l+y));if(typeof b.dependencyType!==c&&(b.dependencyType=="FinishFinish"||b.dependencyType=="FF"||b.dependencyType=="StartFinish"||b.dependencyType=="SF")){o=I(d.finish,f)-1;if(typeof b.dependencyType!==c&&(b.dependencyType=="FinishFinish"||b.dependencyType==
"FF")){r=true;if(d.hasChildren&&(typeof d.isSummaryEnabled===c||d.isSummaryEnabled))o=o+(f.barHeight/3+1);else if(d.isMilestone)o=o+(t/4+1);else{n=I(d.start,f)+4-1;o<n&&(o=n)}j=o+k}else if(d.isMilestone)j=o;else{n=I(d.start,f)+4;o<n&&(o=n);j=o-2.5}}else{o=I(d.start,f);if(typeof b.dependencyType!==c&&(b.dependencyType=="StartStart"||b.dependencyType=="SS")){r=true;d.hasChildren&&(typeof d.isSummaryEnabled===c||d.isSummaryEnabled)?o=o-(f.barHeight/3+1):d.isMilestone&&(o=o-(t/4+1));j=o-k}else if(d.isMilestone)j=
o-1;else{j=o+1.5;n=I(d.finish,f);j<w&&(n-w>k*2&&d.start>=b.item.finish)&&(j=w)}}if(typeof b.dependencyType!==c&&(b.dependencyType=="StartStart"||b.dependencyType=="SS"||b.dependencyType=="StartFinish"||b.dependencyType=="SF")){if(j>w){l=l-k/6;l=l<=0?l+y:l-y;h=h+(" "+w+" "+(l+y))}}else if(j<w){l=l-k/6;l=l<=0?l+y:l-y;h=h+(" "+w+" "+(l+y))}h=h+(" "+j+" "+(l+y));l=r?y+0.5:l<=0?f.barMargin-1-q:t-f.barMargin+1+q;if(r){j>o-q&&(q=-q);o=o-q}h=h+(" "+j+" "+l);r&&(h=h+(" "+o+" "+l))}l=h;h=m.createElementNS("http://www.w3.org/2000/svg",
"path");h.setAttribute("d",l);typeof f.dependencyLineZoneClass!==c&&h.setAttribute("class",f.dependencyLineZoneClass);typeof f.dependencyLineZoneStyle!==c&&h.setAttribute("style",f.dependencyLineZoneStyle);g.appendChild(h);m=m.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("d",l);l=f.dependencyLineClass;if(typeof b.dependencyLineClass!==c)l=b.dependencyLineClass;if(typeof l!==c)m.setAttribute("class",l);else{f=f.dependencyLineStyle;if(typeof b.dependencyLineStyle!==c)f=b.dependencyLineStyle;
typeof f!==c&&m.setAttribute("style",f)}g.appendChild(m);return g}},Rb=function(a){return function(e,d){var b=e.ganttChartView.ownerDocument,g=b.createElementNS("http://www.w3.org/2000/svg","title");g.appendChild(T(b,d.item.content+" - "+e.content));if(typeof a.areToolTipsSimplified===c||!a.areToolTipsSimplified){if(d.dependencyType){g.appendChild(b.createTextNode("\n"));g.appendChild(T(b,"Type: "+fc(d.dependencyType)))}if(d.lag){g.appendChild(b.createTextNode("\n"));g.appendChild(T(b,"Lag: "+d.lag/
3600000+"h"))}}return g}},fc=function(a){switch(a){case "StartStart":case "SS":return"SS";case "FinishFinish":case "FF":return"FF";case "StartFinish":case "SF":return"SF";default:return"FS"}},A=function(a,e,d,b){if(typeof a.ganttChartView!==c){var g=a.ganttChartView,f=g.settings;if(e=="start"||e=="minStart"||e=="maxStart"){if(typeof a.minStart!==c&&a.start<a.minStart){a.start=a.minStart;if(typeof a.loadChartItem===c)a.start=P(a.start,f,true,typeof a.isMilestone!==c&&a.isMilestone,D(a));if(d)a.preferredStart=
a.start}else if(typeof a.maxStart!==c&&a.start>a.maxStart){a.start=a.maxStart;if(typeof a.loadChartItem===c)a.start=P(a.start,f,true,typeof a.isMilestone!==c&&a.isMilestone,D(a));if(d)a.preferredStart=a.start}if(a.finish<a.start){a.finish=a.start;A(a,"finish",false,true)}if(a.completedFinish<a.start){a.completedFinish=a.start;A(a,"completedFinish",false,true)}else if(a.completedFinish>a.finish){a.completedFinish=a.finish;A(a,"completedFinish",false,true)}}else if(e=="finish"||e=="minFinish"||e=="maxFinish"){if(typeof a.maxFinish!==
c&&a.finish>a.maxFinish){a.finish=a.maxFinish;if(typeof a.loadChartItem===c)a.finish=P(a.finish,f,typeof a.isMilestone!==c&&a.isMilestone,true,D(a))}else if(typeof a.minFinish!==c&&a.finish<a.minFinish){a.finish=a.minFinish;if(typeof a.loadChartItem===c)a.finish=P(a.finish,f,typeof a.isMilestone!==c&&a.isMilestone,true,D(a))}if(a.finish<a.start){a.finish=a.start;A(a,"finish",false,true)}if(a.completedFinish<a.start){a.completedFinish=a.start;A(a,"completedFinish",false,true)}else if(a.completedFinish>
a.finish){a.completedFinish=a.finish;A(a,"completedFinish",false,true)}}if(g.isTimingInformationInitialized){var h=g.items,m,l;if(e=="indentation"||e=="predecessors")for(m=0;m<h.length;m++){l=h[m];typeof l.dependsOf!==c&&delete l.dependsOf}if(e=="predecessors"&&f.alwaysHandleInvalidDependencies){l=a;typeof l.predecessors!==c&&l.predecessors.length>0&&Aa(l,h,f,g,true)}else if((e=="predecessors"||e=="start"||e=="finish")&&typeof a.isDuringPropertyChangeTaskDependencyConstraintsEnsuring===c&&f.areTaskDependencyConstraintsEnabled&&
(f.areTaskDependencyConstraintsEnabledWhileDragging||typeof g.isDuringTimeDragOperation===c)){a.isDuringPropertyChangeTaskDependencyConstraintsEnsuring=true;for(l=a.parent;l!=null;){typeof l.predecessors!==c&&l.predecessors.length>0&&Aa(l,h,f,g);l=l.parent}l=a;for(typeof l.predecessors!==c&&l.predecessors.length>0?Aa(l,h,f,g):wb(l,f);l!=null;){if(typeof l.successors===c){l.successors=[];for(m=0;m<h.length;m++){var j=h[m];if(!(j==l||typeof j.predecessors===c||j.predecessors.length==0))for(var o=0;o<
j.predecessors.length;o++)if(j.predecessors[o].item==l){l.successors.push(j);break}}}for(m=0;m<l.successors.length;m++)Aa(l.successors[m],h,f,g);l=l.parent}delete a.isDuringPropertyChangeTaskDependencyConstraintsEnsuring}a.isPart&&a.ganttChartItem&&A(a.ganttChartItem,"parts",false,true)}if((e=="start"||e=="finish")&&!a.hasChildren&&a.hasFixedEffort&&typeof a.fixedEffort!==c){h=g.getItemEffort(a)/a.fixedEffort;l="";for(m=0;m<a.fixedEffortAssignments.length;m++){j=a.fixedEffortAssignments[m];l.length>
0&&(l=l+", ");o=Math.floor(j.value/h*1000000)/1000000;l=l+(j.key+(o!=1?" ["+o*100+"%]":""))}g.setItemAssignmentsContent(a,l)}f.itemPropertyChangeHandler(a,e,d,b);e=="isExpanded"?typeof a.ganttChartView!==c&&typeof a.ganttChartView.settings.itemExpansionChangeHandler!==c&&a.ganttChartView.settings.itemExpansionChangeHandler(a,a.isExpanded):e=="isSelected"&&typeof a.ganttChartView!==c&&typeof a.ganttChartView.settings.itemSelectionChangeHandler!==c&&a.ganttChartView.settings.itemSelectionChangeHandler(a,
a.isSelected,d);typeof a.scheduleChartView!==c&&e=="content"&&a.scheduleChartView.refreshScheduleChartItem(a)}},wb=function(a,e){if(typeof a.isAwaitingPreferredStartUpdates===c)if(a.hasChildren&&(typeof a.isSummaryEnabled===c||a.isSummaryEnabled))for(var d=0;d<a.children.length;d++)wb(a.children[d],e);else if(typeof a.preferredStart!==c&&a.preferredStart<a.start){a.isAwaitingPreferredStartUpdates=true;var b=a.start.valueOf(),g=a.finish.valueOf(),f=a.completedFinish.valueOf();effort=N(a.start,a.finish,
e,D(a));completedEffort=N(a.start,a.completedFinish,e,D(a));a.start=a.preferredStart;a.finish=Q(a.start,effort,e,D(a));a.completedFinish=Q(a.start,completedEffort,e,D(a));a.start.valueOf()!=b&&A(a,"start",false,false);a.finish.valueOf()!=g&&A(a,"finish",false,false);a.completedFinish.valueOf()!=f&&A(a,"completedFinish",false,false);setTimeout(function(){a.start.valueOf()!=b&&A(a,"start",false,true);a.finish.valueOf()!=g&&A(a,"finish",false,true);a.completedFinish.valueOf()!=f&&A(a,"completedFinish",
false,true);(a.start.valueOf()!=b||a.finish.valueOf()!=g||a.completedFinish.valueOf()!=f)&&$(a);delete a.isAwaitingPreferredStartUpdates},1)}},Aa=function(a,e,d,b,g){if(g){if(b.isBasicTimingInformationInitialized){for(var g=[],f,h=false,b=0;b<a.predecessors.length;b++){f=a.predecessors[b];if(typeof f.item===c||e.indexOf(f.item)<0||Fa(f.item,a)){d.invalidPredecessorDetectionHandler&&d.invalidPredecessorDetectionHandler(f,a,f.item);h=true}else g.push(f)}a.predecessors=g;if(h){A(a,"predecessors",false,
true);typeof a.ganttChartView!==c&&Ka(a)}}}else if(b.isBasicTimingInformationInitialized&&(typeof a.areDependencyConstraintsEnabled===c||a.areDependencyConstraintsEnabled)){wb(a,d);g=[];h=false;for(b=0;b<a.predecessors.length;b++){f=a.predecessors[b];if(typeof f.item===c||e.indexOf(f.item)<0||Fa(f.item,a)){d.invalidPredecessorDetectionHandler&&d.invalidPredecessorDetectionHandler(f,a,f.item);h=true}else g.push(f)}a.predecessors=g;if(h){A(a,"predecessors",false,true);typeof a.ganttChartView!==c&&Ka(a)}for(b=
0;b<a.predecessors.length;b++){f=a.predecessors[b];gc(a,f,e,d)}}},gc=function(a,e,d,b){if(a.hasChildren&&(typeof a.isSummaryEnabled===c||a.isSummaryEnabled))for(var g=0;g<a.children.length;g++)gc(a.children[g],e,d,b);else if(!(typeof b.areDependencyConstraintsAppliedOnMilestones!==c&&!b.areDependencyConstraintsAppliedOnMilestones&&a.isMilestone||typeof b.areDependencyConstraintsAppliedOnStartedTasks!==c&&!b.areDependencyConstraintsAppliedOnStartedTasks&&La(a))){var f=e.item,h,d=false;if(typeof e.dependencyType===
c||e.dependencyType==""||e.dependencyType=="FinishStart"||e.dependencyType=="FS"){f=f.finish;typeof e.lag!==c&&e.lag!=0&&(f=Q(f,e.lag,b,D(a)));if(a.start<f){if(!a.isMilestone&&(!a.hasChildren||!(typeof a.isSummaryEnabled===c||a.isSummaryEnabled))){g=N(a.start,a.finish,b,D(a));h=N(a.start,a.completedFinish,b,D(a))}if(!a.hasChildren||!(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)){var m=a.start.valueOf(),e=a.finish.valueOf(),l=a.completedFinish.valueOf();a.start=P(pa(f,b),b,true,a.isMilestone,
D(a));a.start.valueOf()!=m&&A(a,"start",false,true);if(a.isMilestone){a.finish=a.start;a.finish.valueOf()!=e&&A(a,"finish",false,true);a.completedFinish=a.start}else{a.finish=Q(a.start,g,b,D(a));a.finish.valueOf()!=e&&A(a,"finish",false,true);a.completedFinish=Q(a.start,h,b,D(a))}a.completedFinish.valueOf()!=l&&A(a,"completedFinish",false,true);d=true}}}else if(e.dependencyType=="StartStart"||e.dependencyType=="SS"){f=f.start;typeof e.lag!==c&&e.lag!=0&&(f=Q(f,e.lag,b,D(a)));if(a.start<f){if(!a.isMilestone&&
(!a.hasChildren||!(typeof a.isSummaryEnabled===c||a.isSummaryEnabled))){g=N(a.start,a.finish,b,D(a));h=N(a.start,a.completedFinish,b,D(a))}if(!a.hasChildren||!(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)){m=a.start.valueOf();e=a.finish.valueOf();l=a.completedFinish.valueOf();a.start=P(pa(f,b),b,true,a.isMilestone,D(a));a.start.valueOf()!=m&&A(a,"start",false,true);if(a.isMilestone){a.finish=a.start;a.finish.valueOf()!=e&&A(a,"finish",false,true);a.completedFinish=a.start}else{a.finish=Q(a.start,
g,b,D(a));a.finish.valueOf()!=e&&A(a,"finish",false,true);a.completedFinish=Q(a.start,h,b,D(a))}a.completedFinish.valueOf()!=l&&A(a,"completedFinish",false,true);d=true}}}else if(e.dependencyType=="FinishFinish"||e.dependencyType=="FF"){f=f.finish;typeof e.lag!==c&&e.lag!=0&&(f=Q(f,e.lag,b,D(a)));if(a.finish>f&&(!a.hasChildren||!(typeof a.isSummaryEnabled===c||a.isSummaryEnabled))){e=a.finish.valueOf();l=a.completedFinish.valueOf();a.finish=P(pa(f,b),b,a.isMilestone,true,D(a));if(a.finish<a.start)a.finish=
a.start;a.finish.valueOf()!=e&&A(a,"finish",false,true);if(a.isMilestone){if(a.completedFinish!=a.start){a.completedFinish=a.start;a.completedFinish.valueOf()!=l&&A(a,"completedFinish",false,true)}}else if(a.completedFinish>a.finish){a.completedFinish=a.finish;a.completedFinish.valueOf()!=l&&A(a,"completedFinish",false,true)}d=true}}else if(e.dependencyType=="StartFinish"||e.dependencyType=="SF"){f=f.start;typeof e.lag!==c&&e.lag!=0&&(f=Q(f,e.lag,b,D(a)));if(a.finish>f&&(!a.hasChildren||!(typeof a.isSummaryEnabled===
c||a.isSummaryEnabled))){e=a.finish.valueOf();l=a.completedFinish.valueOf();a.finish=P(pa(f,b),b,a.isMilestone,true,D(a));if(a.finish<a.start)a.finish=a.start;a.finish.valueOf()!=e&&A(a,"finish",false,true);if(a.isMilestone){if(a.completedFinish!=a.start){a.completedFinish=a.start;a.completedFinish.valueOf()!=l&&A(a,"completedFinish",false,true)}}else if(a.completedFinish>a.finish){a.completedFinish=a.finish;a.completedFinish.valueOf()!=l&&A(a,"completedFinish",false,true)}if(a.start.valueOf()!=m||
a.finish.valueOf()!=e||a.completedFinish.valueOf()!=l)d=true}}if(d&&!(typeof a.ganttChartView===c||typeof a.isAwaitingEnsureItemDependencyConstraintsUpdates!==c))if(typeof a.ganttChartView!==c&&!a.ganttChartView.isTimingInformationInitialized)$(a);else{a.isAwaitingEnsureItemDependencyConstraintsUpdates=true;setTimeout(function(){$(a);delete a.isAwaitingEnsureItemDependencyConstraintsUpdates},0)}}},Fa=function(a,e){if(typeof a.dependsOf!==c&&typeof a.dependsOf[e.index]!==c)return a.dependsOf[e.index];
if(typeof a.dependsOf===c)a.dependsOf={};if(a==e)return true;var d=hc(a);if(d.indexOf(e)>=0)return a.dependsOf[e.index]=true;var b=hc(e);if(b.indexOf(a)>=0)return a.dependsOf[e.index]=true;var g=xb(a),f,h;for(f=0;f<g.length;f++){h=g[f];if(h==e||h==a||d.indexOf(h)>=0||b.indexOf(h)>=0||Fa(h,e))return a.dependsOf[e.index]=true}for(g=0;g<d.length;g++){var m=xb(d[g]);for(f=0;f<m.length;f++){h=m[f];if(h==e||h==a||d.indexOf(h)>=0||b.indexOf(h)>=0||Fa(h,e))return a.dependsOf[e.index]=true}}d=a.children;for(f=
0;f<d.length;f++){b=d[f];if(typeof b.predecessors!==c&&b.predecessors.length>0&&Fa(b,e))return a.dependsOf[e.index]=true}return a.dependsOf[e.index]=false},hc=function(a){for(var e=[];typeof a.parent!==c&&a.parent!=null;){(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)&&e.push(a.parent);a=a.parent}return e},xb=function(a){var e=[];if(typeof a.predecessors!==c&&a.predecessors!=null)for(var d=0;d<a.predecessors.length;d++)typeof a.predecessors[d].item!==c&&e.push(a.predecessors[d].item);return e},
Fc=function(a,e){for(var d=0;d<a.length;d++){var b=a[d],c=e==null||e(b);b.isHidden=!c;if(c)for(b=b.parent;b!=null;){b.isHidden=false;b=b.parent}}},ic=function(a,e,d){return P(a,e,true,true,d)},sa=function(a,e,d){return P(a,e,true,false,d)},P=function(a,e,d,b,g){var f=typeof g!==c&&typeof g.workingDayStart!==c?g.workingDayStart:e.visibleDayStart,h=typeof g!==c&&typeof g.workingDayFinish!==c?g.workingDayFinish:e.visibleDayFinish,m=typeof g!==c&&typeof g.workingWeekStart!==c?g.workingWeekStart:e.workingWeekStart,
l=typeof g!==c&&typeof g.workingWeekFinish!==c?g.workingWeekFinish:e.workingWeekFinish,e=typeof g!==c&&typeof g.specialNonworkingDays!==c?g.specialNonworkingDays:e.specialNonworkingDays,g=X(a),a=la(a);if(a<f||!d&&a==f)if(d)a=f;else{g=Qa(g);a=h}if(a>h||!b&&a==h)if(b)a=h;else{g=V(g);a=f}for(b=ma(g);b<m||b>l||Yb(g,e);){if(d){b++;g=V(g);a=f}else{b--;g=Qa(g);a=h}for(;b<0;)b=b+7;for(;b>=7;)b=b-7}return new Date(g.valueOf()+a)},N=function(a,e,d,b){if(e.valueOf()<a.valueOf())return-N(e,a,d,b);if(e.valueOf()==
a.valueOf())return 0;var g=typeof b!==c&&typeof b.workingDayStart!==c?b.workingDayStart:d.visibleDayStart,f=typeof b!==c&&typeof b.workingDayFinish!==c?b.workingDayFinish:d.visibleDayFinish,h=typeof b!==c&&typeof b.workingWeekStart!==c?b.workingWeekStart:d.workingWeekStart,m=typeof b!==c&&typeof b.workingWeekFinish!==c?b.workingWeekFinish:d.workingWeekFinish,b=typeof b!==c&&typeof b.specialNonworkingDays!==c?b.specialNonworkingDays:d.specialNonworkingDays,d=0,l=X(a),a=la(a);if(a<g)a=g;else if(a>=
f){l=V(l);a=g}for(var j=X(e);l<j;){var o=ma(l);o>=h&&(o<=m&&!Yb(l,b))&&(d=d+(f-a));l=V(l);a=g}e=la(e);e<g?e=g:e>f&&(e=f);e>a&&(d=d+(e-a));return d},Q=function(a,e,d,b){if(e<0)return Va(-e,a,d,b);a=P(a,d,true,false,b);if(e==0)return a;var g=typeof b!==c&&typeof b.workingDayStart!==c?b.workingDayStart:d.visibleDayStart,f=typeof b!==c&&typeof b.workingDayFinish!==c?b.workingDayFinish:d.visibleDayFinish,h=la(a);if(h+e<f)return new Date(a.valueOf()+e);h=f-h;a=new Date(a.valueOf()+h);for(e=e-h;e>0;){a=
la(a)>0?P(V(X(a)),d,true,false,b):P(X(a),d,true,false,b);if(g+e<f)return new Date(a.valueOf()+e);h=f-g;a=new Date(a.valueOf()+h);e=e-h}return new Date(a.valueOf())},Va=function(a,e,d,b){if(a<0)return Q(e,-a,d,b);e=P(e,d,false,true,b);if(a==0)return e;var g=typeof b!==c&&typeof b.workingDayStart!==c?b.workingDayStart:d.visibleDayStart,f=typeof b!==c&&typeof b.workingDayFinish!==c?b.workingDayFinish:d.visibleDayFinish,h=la(e);if(h-a>g)return new Date(e.valueOf()-a);h=h-g;e=new Date(e.valueOf()-h);for(a=
a-h;a>0;){e=la(e)<86400000?P(X(e),d,false,true,b):P(Qa(X(e)),d,false,true,b);if(f-a>g)return new Date(e.valueOf()-a);h=f-g;e=new Date(e.valueOf()-h);a=a-h}return new Date(e.valueOf())},gb=function(a,e,d,b,c){return N(a,e,b,c)/N(a,d,b,c)},jc=function(a,e,d,b,c){return Q(a,e*N(a,d,b,c),b,c)},Wa=function(a){for(var e=0,a=ha(a),d=0;d<a.length;d++)e=e+a[d].value;e==0&&(e=1);return e},yb=function(a){if(a.hasChildren&&(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)){for(var e=0,a=a.children,d=0;d<a.length;d++)e=
e+yb(a[d]);return e}return a.ganttChartView.getItemEffort(a)*Wa(a)},zb=function(a){if(a.hasChildren&&(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)){for(var e=0,a=a.children,d=0;d<a.length;d++)e=e+zb(a[d]);return e}return a.ganttChartView.getItemCompletedEffort(a)*Wa(a)},D=function(a){if(a.schedule)return a.schedule;if(a.scheduleChartItem)return a.scheduleChartItem.schedule;var e=ha(a);if(e){for(var d=-Infinity,b,c=0;c<e.length;c++){var f=e[c];if(f.value>d){b=f.key;d=f.value}}if((a=a.ganttChartView)&&
a.settings&&a.settings.resourceSchedules){b=aa(a.settings.resourceSchedules,b);return b<0||!a.settings.resourceSchedules[b]?void 0:a.settings.resourceSchedules[b].value}}},vb=function(a,e,d,b,g,f,h,m,l,j,o){function w(b,d){j.isDuringTimeDragOperation=true;j.draggingItem=g;j.dragType="Start";j.style.cursor=a.style.cursor;j.draggingInitialX=b.clientX;j.draggingInitialStartPosition=f;j.draggingInitialFinishPosition=h;j.draggingInitialCompletedFinishPosition=m;if(DlhSoft.Controls.ToolTip&&o.useUpdatingToolTips&&
!d){(t=DlhSoft.Controls.ToolTip.get(a))||(t=DlhSoft.Controls.ToolTip.initialize(void 0,a,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+o.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));
t.setContent(o.dateTimeFormatter(x(g.start))+" \u2013 "+o.dateTimeFormatter(x(g.finish)));t.show();t.originalX=t.x;j.toolTip=t}}var t;a.addEventListener("mousedown",u(j,a,"mousedown",function(a){if(a.button==0){w(a);a.preventDefault()}},true),true);a.addEventListener("touchstart",u(j,a,"touchstart",function(a){w(a.touches[0],true);a.preventDefault();a.target.addEventListener("touchmove",u(j,a.target,"touchmove",g.touchMoveHandler));a.target.addEventListener("touchend",u(j,a.target,"touchend",g.touchEndHandler))},
true),true);if(e!=null){var y=function(b,d){j.isDuringTimeDragOperation=true;j.draggingItem=g;j.dragType="StartOnly";j.style.cursor=a.style.cursor;j.draggingInitialX=b.clientX;j.draggingInitialStartPosition=f;if(DlhSoft.Controls.ToolTip&&o.useUpdatingToolTips&&!d){(t=DlhSoft.Controls.ToolTip.get(e))||(t=DlhSoft.Controls.ToolTip.initialize(void 0,e,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+
o.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));t.setContent(o.dateTimeFormatter(x(g.start))+" \u2013");t.show();t.setHorizontalPosition(t.x+4);t.originalX=t.x;j.toolTip=t}};e.addEventListener("mousedown",u(j,e,"mousedown",function(a){if(a.button==0){y(a);a.preventDefault()}},true),true);
e.addEventListener("touchstart",u(j,e,"touchstart",function(a){y(a.touches[0],true);a.preventDefault();a.target.addEventListener("touchmove",u(j,a.target,"touchmove",g.touchMoveHandler));a.target.addEventListener("touchend",u(j,a.target,"touchend",g.touchEndHandler))},true),true)}if(d!=null){var k=function(a,b){j.isDuringTimeDragOperation=true;j.draggingItem=g;j.dragType="Finish";j.style.cursor=d.style.cursor;j.draggingInitialX=a.clientX;j.draggingInitialFinishPosition=h;if(DlhSoft.Controls.ToolTip&&
o.useUpdatingToolTips&&!b){(t=DlhSoft.Controls.ToolTip.get(d))||(t=DlhSoft.Controls.ToolTip.initialize(void 0,d,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+o.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));
t.setContent("\u2013 "+o.dateTimeFormatter(x(g.finish)));t.show();t.setHorizontalPosition(t.x-t.contentContainer.clientWidth);t.originalX=t.x;j.toolTip=t}};d.addEventListener("mousedown",u(j,d,"mousedown",function(a){if(a.button==0){k(a);a.preventDefault()}},true),true);d.addEventListener("touchstart",u(j,d,"touchstart",function(a){k(a.touches[0],true);a.preventDefault();a.target.addEventListener("touchmove",u(j,a.target,"touchmove",g.touchMoveHandler));a.target.addEventListener("touchend",u(j,a.target,
"touchend",g.touchEndHandler))},true),true)}if(b!=null){var q=function(a,d){j.isDuringTimeDragOperation=true;j.draggingItem=g;j.dragType="CompletedFinish";j.style.cursor=b.style.cursor;j.draggingInitialX=a.clientX;j.draggingInitialCompletedFinishPosition=m;if(DlhSoft.Controls.ToolTip&&o.useUpdatingToolTips&&!d){(t=DlhSoft.Controls.ToolTip.get(b))||(t=DlhSoft.Controls.ToolTip.initialize(void 0,b,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+
o.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));var e=gb(g.start,g.completedFinish,g.finish,o,D(g));if(!isNaN(e)){t.setContent(Math.round(e*10000)/100+"%");t.show();t.setHorizontalPosition(t.x+2);t.originalX=t.x;j.toolTip=t}}};b.addEventListener("mousedown",u(j,b,"mousedown",function(a){if(a.button==
0){q(a);a.preventDefault()}},true),true);b.addEventListener("touchstart",u(j,b,"touchstart",function(a){q(a.touches[0],true);a.preventDefault();a.target.addEventListener("touchmove",u(j,a.target,"touchmove",g.touchMoveHandler));a.target.addEventListener("touchend",u(j,a.target,"touchend",g.touchEndHandler))},true),true)}if(typeof j.draggableItems===c)j.draggableItems=[];for(var r=false,n=0;n<j.draggableItems.length;n++)if(j.draggableItems[n]==g){r=true;break}if(!r){var v=function(a,b){if(!(typeof j.draggingItem===
c||j.draggingItem!=g||j.dragType!="Start"&&j.dragType!="StartOnly"&&j.dragType!="Finish"&&j.dragType!="CompletedFinish")){var d=a.clientX-j.draggingInitialX;kc(a.clientX,j);delete j.draggingItem;j.draggingInitialStartPosition+d<0&&(d=-j.draggingInitialStartPosition);if(j.dragType=="Start"||j.dragType=="StartOnly"){var e,m;j.dragType!="StartOnly"&&(e=N(g.start,g.finish,o,D(g)));m=N(g.start,g.completedFinish,o,D(g));d=P(pa(Ia(j.draggingInitialStartPosition+d,o),o),o,true,g.isMilestone,D(g));if(j.dragType==
"StartOnly"&&d>g.finish)d=g.finish;g.start=d;g.preferredStart=g.start;A(g,"start",true,false);if(j.dragType!="StartOnly"){if(g.isMilestone){g.finish=g.start;A(g,"finish",false,false);g.completedFinish=g.start}else{g.finish=Q(g.start,e,o,D(g));A(g,"finish",false,false);g.completedFinish=Q(g.start,m,o,D(g))}A(g,"completedFinish",false,false);if(DlhSoft.Controls.ToolTip&&o.useUpdatingToolTips&&!b){t=j.toolTip;t.setContent(o.dateTimeFormatter(x(g.start))+" \u2013 "+o.dateTimeFormatter(x(g.finish)));t.setHorizontalPosition(t.originalX+
(I(g.start,o)-j.draggingInitialStartPosition))}}else{if(g.finish<g.start){g.finish=g.start;A(g,"finish",false,false)}if(g.completedFinish<g.start||m<=0){g.completedFinish=g.start;A(g,"completedFinish",false,false)}if(DlhSoft.Controls.ToolTip&&o.useUpdatingToolTips&&!b){t=j.toolTip;t.setContent(o.dateTimeFormatter(x(g.start))+" \u2013");t.setHorizontalPosition(t.originalX+(I(g.start,o)-j.draggingInitialStartPosition))}}Xa(g,l,j.chartContent,o)}else if(j.dragType=="Finish"){e=P(pa(Ia(j.draggingInitialFinishPosition+
d,o),o),o,g.isMilestone,true,D(g));if(e<g.start)e=g.start;if(e.valueOf()!=g.finish.valueOf()){g.finish=e;A(g,"finish",true,false)}if(g.completedFinish>e){g.completedFinish=e;A(g,"completedFinish",false,false)}if(DlhSoft.Controls.ToolTip&&o.useUpdatingToolTips&&!b){t=j.toolTip;t.setContent("\u2013 "+o.dateTimeFormatter(x(g.finish)));t.setHorizontalPosition(t.originalX+(I(g.finish,o)-j.draggingInitialFinishPosition))}Xa(g,l,j.chartContent,o)}else if(j.dragType=="CompletedFinish"){e=P(pa(Ia(j.draggingInitialCompletedFinishPosition+
d,o),o),o,g.isMilestone,true,D(g));if(e<g.start)e=g.start;if(e>g.finish)e=g.finish;if(e.valueOf()!=g.completedFinish.valueOf()){g.completedFinish=e;A(g,"completedFinish",true,false)}if(DlhSoft.Controls.ToolTip&&o.useUpdatingToolTips&&!b){t=j.toolTip;e=gb(g.start,g.completedFinish,g.finish,o,D(g));if(!isNaN(e)){t.setContent(Math.round(e*10000)/100+"%");t.setHorizontalPosition(t.originalX+(I(g.completedFinish,o)-j.draggingInitialCompletedFinishPosition))}}Xa(g,l,j.chartContent,o)}j.draggingItem=g;j.draggingPerformed=
true}};j.addEventListener("mousemove",u(j,j,"mousemove",function(a){v(a)},true),true);j.addEventListener("touchmove",u(j,j,"touchmove",function(a){v(a.touches[0],true)},true),true);g.touchMoveHandler=function(a){v(a.touches[0],true)};var s=function(){if(!(typeof j.draggingItem===c||j.draggingItem!=g||j.dragType!="Start"&&j.dragType!="StartOnly"&&j.dragType!="Finish"&&j.dragType!="CompletedFinish")){delete j.isDuringTimeDragOperation;var a=j.draggingItem;j.style.cursor="default";if(j.draggingPerformed){if(j.dragType==
"Start"||j.dragType=="StartOnly"){A(a,"start",true,true);A(a,"finish",false,true);A(a,"completedFinish",false,true)}else if(j.dragType=="Finish"){A(a,"finish",true,true);A(a,"completedFinish",false,true)}else j.dragType=="CompletedFinish"&&A(a,"completedFinish",true,true);delete j.draggingPerformed}delete j.draggingItem}};document.addEventListener("mouseup",u(j,document,"mouseup",function(a){a.button==0&&s()},true),true);document.addEventListener("touchend",u(j,document,"touchend",function(){s()},
true),true);g.touchEndHandler=function(){s()};j.draggableItems.push(g)}},fb=function(a,e,d,b,g,f,h,m,l,j){function o(d,e){delete l.cancelDrag;l.draggingItem=b;l.dragType="Dependency";l.dragDependencyType="Finish";l.style.cursor=a.style.cursor;l.draggingInitialX=d.clientX;l.draggingInitialY=d.clientY;l.draggingInitialRightPosition=f;l.draggingInitialTopPosition=g;l.draggingInitialFinishPosition=f;l.draggingInitialThumbPosition=g;if(DlhSoft.Controls.ToolTip&&j.useUpdatingToolTips&&!e){(toolTip=DlhSoft.Controls.ToolTip.get(a))||
(toolTip=DlhSoft.Controls.ToolTip.initialize(void 0,a,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+j.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));toolTip.setContent(b.content+
" \u2013");toolTip.show();toolTip.setPosition(toolTip.x+16,toolTip.y-8);toolTip.originalX=toolTip.x;toolTip.originalY=toolTip.y;l.toolTip=toolTip}}var w=b.ganttChartView.ownerDocument;a.addEventListener("mousedown",u(l,a,"mousedown",function(a){if(a.button==0){o(a);a.preventDefault()}},true),true);a.addEventListener("touchstart",u(l,a,"touchstart",function(a){o(a.touches[0],true);a.preventDefault()},true),true);if(e!=null){var t=function(d,c){delete l.cancelDrag;l.draggingItem=b;l.dragType="Dependency";
l.dragDependencyType="Start";l.style.cursor=a.style.cursor;l.draggingInitialX=d.clientX;l.draggingInitialY=d.clientY;l.draggingInitialRightPosition=h;l.draggingInitialTopPosition=g;l.draggingInitialFinishPosition=h;l.draggingInitialThumbPosition=g;d.preventDefault();if(DlhSoft.Controls.ToolTip&&j.useUpdatingToolTips&&!c){(toolTip=DlhSoft.Controls.ToolTip.get(e))||(toolTip=DlhSoft.Controls.ToolTip.initialize(void 0,e,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+
j.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));toolTip.setContent(b.content+" \u2013");toolTip.show();toolTip.setPosition(toolTip.x+16,toolTip.y-8);toolTip.originalX=toolTip.x;toolTip.originalY=toolTip.y;l.toolTip=toolTip}};e.addEventListener("mousedown",u(l,e,"mousedown",function(a){if(a.button==
0){t(a);a.preventDefault()}},true),true);e.addEventListener("touchstart",u(l,e,"touchstart",function(a){t(a.touches[0],true);a.preventDefault()},true),true)}a.addEventListener("mouseover",u(l,a,"mouseover",function(){if(typeof l.temporaryHoveringThumb!==c){var b=l.temporaryHoveringThumb;delete l.temporaryHoveringThumb;if(typeof b.originalStyle===c)return;b.setAttribute("style",b.originalStyle);delete b.originalStyle}if(typeof l.temporaryDependencyLine===c){a.mouseOver=true;l.temporaryHoveringThumb=
a;a.originalStyle=a.getAttribute("style");typeof j.dependencyPointerClass!==c&&a.setAttribute("class",j.dependencyPointerClass);typeof j.dependencyPointerStyle!==c&&a.setAttribute("style",j.dependencyPointerStyle);a.style.cursor="pointer"}},true),true);e!=null&&e.addEventListener("mouseover",u(l,e,"mouseover",function(){if(typeof l.temporaryHoveringThumb!==c){var a=l.temporaryHoveringThumb;delete l.temporaryHoveringThumb;if(typeof a.originalStyle===c)return;a.setAttribute("style",a.originalStyle);
delete a.originalStyle}if(typeof l.temporaryDependencyLine===c){e.mouseOver=true;l.temporaryHoveringThumb=e;e.originalStyle=e.getAttribute("style");typeof j.dependencyPointerClass!==c&&e.setAttribute("class",j.dependencyPointerClass);typeof j.dependencyPointerStyle!==c&&e.setAttribute("style",j.dependencyPointerStyle);e.style.cursor="pointer"}},true),true);a.addEventListener("mouseout",u(l,a,"mouseout",function(){delete a.mouseOver;setTimeout(function(){if(!(typeof a.originalStyle===c||a.mouseOver)){a.setAttribute("style",
a.originalStyle);delete a.originalStyle}},250)},true),true);e!=null&&e.addEventListener("mouseout",u(l,e,"mouseout",function(){delete e.mouseOver;setTimeout(function(){if(!(typeof e.originalStyle===c||e.mouseOver)){e.setAttribute("style",e.originalStyle);delete e.originalStyle}},250)},true),true);if(typeof l.draggableDependencyItems===c)l.draggableDependencyItems=[];for(var y=false,k=0;k<l.draggableDependencyItems.length;k++)if(l.draggableDependencyItems[k]==b){y=true;break}if(!y){var q=function(a,
e){if(!(typeof l.draggingItem===c||l.draggingItem!=b||l.dragType!="Dependency")){var f=a.clientX-l.draggingInitialX,g=a.clientY-l.draggingInitialY;kc(a.clientX,l);lc(a.clientY,l);delete l.draggingItem;l.draggingInitialFinishPosition+f<0&&(f=-l.draggingInitialFinishPosition);if(typeof l.temporaryDependencyLine!==c){try{d.removeChild(l.temporaryDependencyLine)}catch(o){}delete l.temporaryDependencyLine}if(l.cancelDrag){delete l.cancelDrag;delete l.draggingItem;l.style.cursor="default"}else{var h=w.createElementNS("http://www.w3.org/2000/svg",
"line");h.setAttribute("x1",l.draggingInitialRightPosition);h.setAttribute("y1",l.draggingInitialTopPosition);h.setAttribute("x2",l.draggingInitialFinishPosition+f);h.setAttribute("y2",l.draggingInitialThumbPosition+g);typeof j.temporaryDependencyLineClass!==c&&h.setAttribute("class",j.temporaryDependencyLineClass);typeof j.temporaryDependencyLineStyle!==c&&h.setAttribute("style",j.temporaryDependencyLineStyle);l.temporaryDependencyLine=h;d.appendChild(h);l.draggingItem=b;if(DlhSoft.Controls.ToolTip&&
j.useUpdatingToolTips&&!e){toolTip=l.toolTip;for(var t=Math.floor((b.itemTop+l.draggingInitialThumbPosition+g)/j.itemHeight),h=null,q=0,y=0;y<m.length;y++){var k=m[y];if(k.isVisible&&!(typeof k.isHidden!==c&&k.isHidden)&&typeof k.displayRowIndex===c){if(q==t){h=k;break}q++}}t="Start";if(h!=null){q=l.draggingInitialFinishPosition+f;y=I(h.start,j);k=I(h.finish,j);if(h.isMilestone||h.hasChildren&&(typeof h.isSummaryEnabled===c||h.isSummaryEnabled)){y=y-j.itemHeight/2;k=k+j.itemHeight/2}k<y+4&&(k=y+4);
if(q<y||q>k||qb(h,b)||Ba(h,b)||Ba(b,h))h=null;if(h!=null&&(typeof j.allowCreatingToFinishDependencies===c||j.allowCreatingToFinishDependencies)&&!h.isMilestone&&q>y+(k-y)*3/4)t="Finish"}toolTip.setContent(b.content+" \u2013"+(h!=null?" "+h.content+(t!="Finish"?"":" \u2022"):""));toolTip.setPosition(toolTip.originalX+f,toolTip.originalY+g)}}}};l.addEventListener("mousemove",u(l,l,"mousemove",function(a){q(a)},true),true);l.addEventListener("touchmove",u(l,l,"touchmove",function(a){q(a.touches[0],true)},
true),true);var r=function(a){if(!(typeof l.draggingItem===c||l.draggingItem!=b||l.dragType!="Dependency")){if(typeof l.temporaryDependencyLine!==c){try{d.removeChild(l.temporaryDependencyLine)}catch(e){}delete l.temporaryDependencyLine}for(var f=Math.floor((b.itemTop+l.draggingInitialThumbPosition+(a.clientY-l.draggingInitialY))/j.itemHeight),g=null,o=0,h=0;h<m.length;h++){var w=m[h];if(w.isVisible&&!(typeof w.isHidden!==c&&w.isHidden)&&typeof w.displayRowIndex===c){if(o==f){g=w;break}o++}}if(g!=
null){a=l.draggingInitialFinishPosition+(a.clientX-l.draggingInitialX);f=I(g.start,j);o=I(g.finish,j);if(g.isMilestone||g.hasChildren&&(typeof g.isSummaryEnabled===c||g.isSummaryEnabled)){f=f-j.itemHeight/2;o=o+j.itemHeight/2}o<f+4&&(o=f+4);if(a>=f&&a<=o){a=g==null||typeof j.allowCreatingToFinishDependencies!==c&&!j.allowCreatingToFinishDependencies||g.isMilestone||a<=f+(o-f)*3/4?"Start":"Finish";if(!qb(g,b)&&!Ba(g,b)&&!Ba(b,g)&&(!j.alwaysHandleInvalidDependencies||!Fa(b,g))){delete b.successors;
if(typeof g.predecessors===c)g.predecessors=[];f={item:b};if(l.dragDependencyType!="Start"){if(a=="Finish")f.dependencyType="FF"}else f.dependencyType=a!="Finish"?"SS":"SF";g.predecessors.push(f);A(g,"predecessors",true,true);if(g.start<b.finish&&!j.areTaskDependencyConstraintsEnabled&&!j.areTaskDependencyConstraintsDisabledWhenDropping){var t,q;if(!g.isMilestone&&(!g.hasChildren||!(typeof g.isSummaryEnabled===c||g.isSummaryEnabled))){t=N(g.start,g.finish,j,D(g));q=N(g.start,g.completedFinish,j,D(g))}if((!g.hasChildren||
!(typeof g.isSummaryEnabled===c||g.isSummaryEnabled))&&a=="Start"){g.start=P(pa(l.dragDependencyType!="Start"?b.finish:b.start,j),j,true,g.isMilestone,D(b));A(g,"start",false,true);if(g.isMilestone){g.finish=g.start;A(g,"finish",false,true);g.completedFinish=g.start}else{g.finish=Q(g.start,t,j,D(g));A(g,"finish",false,true);g.completedFinish=Q(g.start,q,j,D(g))}A(g,"completedFinish",false,true)}}Xa(g,m,l.chartContent,j);Xa(b,m,l.chartContent,j)}else if(j.invalidPredecessorDetectionHandler){f={item:b};
if(l.dragDependencyType!="Start"){if(a=="Finish")f.dependencyType="FF"}else f.dependencyType=a!="Finish"?"SS":"SF";j.invalidPredecessorDetectionHandler(f,g,b)}}}delete l.draggingItem;l.style.cursor="default"}};w.addEventListener("mouseup",u(l,w,"mouseup",function(a){a.button==0&&r(a)},true),true);w.addEventListener("touchend",u(l,w,"touchend",function(a){r(a.changedTouches[0])},true),true);l.draggableDependencyItems.push(b)}},kc=function(a,e){if(typeof e.draggingItem!==c){var d=new Date;if(!e.lastXDraggingTime||
!(d>e.lastXDraggingTime&&d-e.lastXDraggingTime<200)){e.lastXDraggingTime=d;var d=e,b=0;if(d.offsetParent){do{b=b+d.offsetLeft;d=d.offsetParent}while(d)}a=a-b;if(a<e.gridContentContainer.offsetWidth+24){d=e.chartContentContainer.scrollLeft;e.chartContentContainer.scrollLeft=e.chartContentContainer.scrollLeft-20;d=d-e.chartContentContainer.scrollLeft;if(typeof e.draggingInitialStartPosition!==c)e.draggingInitialStartPosition=e.draggingInitialStartPosition-d;if(typeof e.draggingInitialFinishPosition!==
c)e.draggingInitialFinishPosition=e.draggingInitialFinishPosition-d;if(typeof e.draggingInitialCompletedFinishPosition!==c)e.draggingInitialCompletedFinishPosition=e.draggingInitialCompletedFinishPosition-d}else if(a>=e.gridContentContainer.offsetWidth+e.chartContentContainer.clientWidth-24){d=e.chartContentContainer.scrollLeft;e.chartContentContainer.scrollLeft=e.chartContentContainer.scrollLeft+20;d=e.chartContentContainer.scrollLeft-d;if(typeof e.draggingInitialStartPosition!==c)e.draggingInitialStartPosition=
e.draggingInitialStartPosition+d;if(typeof e.draggingInitialFinishPosition!==c)e.draggingInitialFinishPosition=e.draggingInitialFinishPosition+d;if(typeof e.draggingInitialCompletedFinishPosition!==c)e.draggingInitialCompletedFinishPosition=e.draggingInitialCompletedFinishPosition+d}}}},Wc=function(a){var e=0;if(a.offsetParent){do{e=e+a.offsetTop;a=a.offsetParent}while(a)}return e},lc=function(a,e){if(typeof e.draggingItem!==c){var d=new Date;if(!e.lastYDraggingTime||!(d>e.lastYDraggingTime&&d-e.lastYDraggingTime<
200)){e.lastYDraggingTime=d;var a=a-Wc(e),b,g;if(a<e.chartHeaderContainer.clientHeight+24){b=e.chartContentContainer.scrollTop;e.chartContentContainer.scrollTop=e.chartContentContainer.scrollTop-20;if(typeof e.isDuringVerticalScrolling===c){e.isDuringVerticalScrolling=true;setTimeout(function(){g=b-e.chartContentContainer.scrollTop;e.draggingInitialThumbPosition=e.draggingInitialThumbPosition-g;delete e.isDuringVerticalScrolling},0)}}else if(a>=e.chartHeaderContainer.clientHeight+e.chartContentContainer.clientHeight-
24){b=e.chartContentContainer.scrollTop;e.chartContentContainer.scrollTop=e.chartContentContainer.scrollTop+20;if(typeof e.isDuringVerticalScrolling===c){e.isDuringVerticalScrolling=true;setTimeout(function(){g=e.chartContentContainer.scrollTop-b;e.draggingInitialThumbPosition=e.draggingInitialThumbPosition+g;delete e.isDuringVerticalScrolling},0)}}}}},Xa=function(a,e,d,b){fa(a.chartItem,a,b);qa(e,a);setTimeout(function(){if(typeof a.gridItem!==c){if(typeof a.completedInput!==c){var g=a.completedInput;
typeof g.changeEventListener!==c&&g.removeEventListener("change",g.changeEventListener,true);delete a.completedInput}Da(a.gridItem,a,e,b.columns,d,b.toggleButtonAreaWidth,b)}for(g=a.parent;g!=null;){cb(g,false);a=g;fa(a.chartItem,a,b);qa(e,a);typeof a.gridItem!==c&&Da(a.gridItem,a,e,b.columns,d,b.toggleButtonAreaWidth,b);g=a.parent}},0)},mc=function(a){var e=a.itemTop-a.ganttChartView.chartContentContainer.scrollTop;if(e<0)a.ganttChartView.chartContentContainer.scrollTop=a.itemTop;else if(e>a.ganttChartView.chartContentContainer.clientHeight-
a.ganttChartView.settings.itemHeight)a.ganttChartView.chartContentContainer.scrollTop=a.itemTop-(a.ganttChartView.chartContentContainer.clientHeight-a.ganttChartView.settings.itemHeight)},Jc=function(a,e,d,b,g,f,h,m,l,j,o,w,t,y){var k,q;e.addEventListener("scroll",u(a,e,"scroll",function(){if(h.scrollTop!=e.scrollTop&&!q){k=true;setTimeout(function(){h.scrollTop=e.scrollTop;setTimeout(function(){k=false},100)},200)}if(b.scrollLeft!=e.scrollLeft)b.scrollLeft=e.scrollLeft},true),true);hb(e,d,g,y);typeof a.updateGridHeaderTimer!==
c&&clearInterval(a.updateGridHeaderTimer);a.updateGridHeaderTimer=setInterval(function(){try{hb(e,d,g,y)}catch(b){try{clearInterval(a.updateGridHeaderTimer)}catch(c){}}},100);h.addEventListener("scroll",u(a,h,"scroll",function(){if(e.scrollTop!=h.scrollTop&&!k){q=true;setTimeout(function(){e.scrollTop=h.scrollTop;setTimeout(function(){q=false},100)},200)}if(m.scrollLeft!=h.scrollLeft)m.scrollLeft=h.scrollLeft;wa(t,h,y);Ra(t,o,y);y.displayedTime=Ia(h.scrollLeft,y);(typeof a.isDuringScrollToDateTime===
c||!a.isDuringScrollToDateTime)&&typeof y.displayedTimeChangeHandler!==c&&setTimeout(function(){y.displayedTimeChangeHandler(y.displayedTime)},0);typeof a.isDuringScrollToDateTime!==c&&delete a.isDuringScrollToDateTime},true),true);setTimeout(function(){if(m.scrollLeft!=h.scrollLeft)m.scrollLeft=h.scrollLeft;wa(t,h,y)},1);hb(h,l,j,y);typeof a.updateChartHeaderTimer!==c&&clearInterval(a.updateChartHeaderTimer);a.updateChartHeaderTimer=setInterval(function(){try{hb(h,l,j,y)}catch(b){try{clearInterval(a.updateChartHeaderTimer)}catch(d){}}},
100);window.addEventListener("mousewheel",u(a,window,"mousewheel",function(){try{a.cancelDrag=true}catch(b){}},true),true)},hb=function(a,e,d,b){setTimeout(function(){try{var c=e.clientWidth-a.clientWidth;c<0&&(c=0);var f=c+"px";if(d.style.width!=f){d.style.width=f;if(c>0){d.style.boxSizing="border-box";d.style.MozBoxSizing="border-box";d.style.border="solid 1px "+b.border;d.style.borderTop="none";d.style.borderRight="none"}else{d.style.border="";d.style.borderTop="";d.style.borderRight="";d.style.boxSizing=
"";d.style.MozBoxSizing=""}}}catch(h){}},0)},Ha=function(a,e,d){if(d.isSplitterEnabled){a.style.height=e.clientHeight+"px";a.style.left=Math.max(0,e.offsetWidth-1)+"px"}},wa=function(a,e,d){if(!(typeof e.isInitializing!==c&&e.isInitializing)&&d.isVirtualizing)for(var b=e.scrollTop-d.itemHeight,e=b+e.clientHeight+2*d.itemHeight,g=0;g<a.length;g++){var f=a[g];if(!f.isPart)if(f.scheduleChartItem&&f.scheduleChartItem!=f){if(f.itemTop!=f.scheduleChartItem.itemTop||f.isVirtuallyVisible!=f.scheduleChartItem.isVirtuallyVisible){f.itemTop=
f.scheduleChartItem.itemTop;f.isVirtuallyVisible=f.scheduleChartItem.isVirtuallyVisible;if(f.isVirtuallyVisible){fa(f.chartItem,f,d);f.chartItem.setAttribute("transform","translate(0, "+f.itemTop+")");Ea(f,f.itemTop)}}}else if(typeof f.isVirtuallyVisible===c&&(typeof f.isVisible===c||f.isVisible)&&!(typeof f.isHidden!==c&&f.isHidden)&&typeof f.itemTop!==c&&f.itemTop>=b&&f.itemTop<e){f.isVirtuallyVisible=true;A(f,"isVirtuallyVisible",false,true);typeof f.gridItem!==c&&Da(f.gridItem,f,a,d.columns,f.ganttChartView.chartContent,
d.toggleButtonAreaWidth,d);fa(f.chartItem,f,d);f.chartItem.setAttribute("transform","translate(0, "+f.itemTop+")");Ea(f,f.itemTop)}else typeof f.isVirtuallyVisible!==c&&((typeof f.isVisible===c||f.isVisible)&&!(typeof f.isHidden!==c&&f.isHidden)&&typeof f.itemTop!==c&&(f.itemTop<b||f.itemTop>=e))&&delete f.isVirtuallyVisible}},Gc=function(a,e){for(var d=a.childNodes.length;d-- >0;)a.removeChild(a.childNodes[d]);a.appendChild(e)},Ab=function(a,e,d,b){var g=b.indexOf(a);if(!(g<0||e<0||e==g||e>=b.length)){b.splice(g,
1);b.splice(e,0,a);nc(b);L(d);typeof d.settings.itemMoveHandler!==c&&d.settings.itemMoveHandler(a,g,e)}},ib=function(a,e,d,b,g){if(!(a<0||d<0||d==a||d>g.length-e)){var f=[],h;for(h=a;h<a+e;h++)f.push(g[h]);g.splice(a,e);for(h=0;h<f.length;h++)g.splice(d+h,0,f[h]);nc(g);L(b);if(typeof b.settings.itemMoveHandler!==c)for(h=0;h<f.length;h++)b.settings.itemMoveHandler(f[h],a+h,d+h)}},nc=function(a){for(var e=0,d=0;d<a.length;d++){var b=a[d];if(b.indentation>e){b.indentation=e;A(b,"indentation",false,true)}e=
b.indentation+1}},Xc=function(a,e,d,b,g,f,h,m,l,j){function o(d){delete b.cancelDrag;b.draggingItem=e;b.dragType="Ordering";b.style.cursor=a.style.cursor;b.draggingInitialY=d.clientY;b.draggingInitialThumbPosition=0;b.resetChartAreaDefinitions()}a.addEventListener("mousedown",u(b,a,"mousedown",function(a){if(a.button==0){o(a);a.preventDefault()}},true),true);a.addEventListener("touchstart",u(b,a,"touchstart",function(a){o(a.touches[0]);a.preventDefault()},true),true);if(typeof b.draggableOrderingItems===
c)b.draggableOrderingItems=[];for(var w=false,t=0;t<b.draggableOrderingItems.length;t++)if(b.draggableOrderingItems[t]==e){w=true;break}if(!w){var y=function(a){if(!(typeof b.draggingItem===c||b.draggingItem!=e||b.dragType!="Ordering")){if(typeof b.temporaryHoveredGridItemSelectionContainer!==c){b.temporaryHoveredGridItemSelectionContainer.setAttribute("class",b.temporaryHoveredGridItemClass);b.temporaryHoveredGridItemSelectionContainer.setAttribute("style",b.temporaryHoveredGridItemStyle);delete b.temporaryHoveredGridItemSelectionContainer;
delete b.temporaryHoveredGridItemClass;delete b.temporaryHoveredGridItemStyle}var o=a.clientY-b.draggingInitialY;lc(a.clientY,b);delete b.draggingItem;if(b.cancelDrag){z(e,g);delete b.cancelDrag;delete b.draggingItem;b.style.cursor="default"}else{for(var a=Math.floor((e.itemTop+b.draggingInitialThumbPosition+o)/g.itemHeight),o=null,w=0,t=0;t<d.length;t++){var k=d[t];if(k.isVisible&&!(typeof k.isHidden!==c&&k.isHidden)&&typeof k.displayRowIndex===c){if(w==a){o=k;break}w++}}if(o!=null&&o!=e&&o.gridItemSelectionContainer!=
null){b.temporaryHoveredGridItemSelectionContainer=o.gridItemSelectionContainer;b.temporaryHoveredGridItemClass=o.gridItemSelectionContainer.getAttribute("class");b.temporaryHoveredGridItemStyle=o.gridItemSelectionContainer.getAttribute("style");typeof f===c||f(a,o)?typeof h!==c?o.gridItemSelectionContainer.setAttribute("class",h):typeof m!==c&&o.gridItemSelectionContainer.setAttribute("style",m):typeof l!==c?o.gridItemSelectionContainer.setAttribute("class",l):typeof j!==c&&o.gridItemSelectionContainer.setAttribute("style",
j)}b.draggingItem=e}}};b.addEventListener("mousemove",u(b,b,"mousemove",function(a){y(a)},true),true);b.addEventListener("touchmove",u(b,b,"touchmove",function(a){y(a.touches[0])},true),true);var k=function(a){if(!(typeof b.draggingItem===c||b.draggingItem!=e||b.dragType!="Ordering")){if(typeof b.temporaryHoveredGridItemSelectionContainer!==c){b.temporaryHoveredGridItemSelectionContainer.setAttribute("class",b.temporaryHoveredGridItemClass);b.temporaryHoveredGridItemSelectionContainer.setAttribute("style",
b.temporaryHoveredGridItemStyle);delete b.temporaryHoveredGridItemSelectionContainer;delete b.temporaryHoveredGridItemClass;delete b.temporaryHoveredGridItemStyle}for(var a=Math.floor((e.itemTop+b.draggingInitialThumbPosition+(a.clientY-b.draggingInitialY))/g.itemHeight),m=null,l=0,j=0;j<d.length;j++){var o=d[j];if(o.isVisible&&!(typeof o.isHidden!==c&&o.isHidden)&&typeof o.displayRowIndex===c){if(l==a){m=o;break}l++}}m!=null&&(typeof f===c||f(a,m))&&b.moveItemHierarchy(b.draggingItem,m.index);setTimeout(function(){z(e,
g);mc(e)},0);b.resetChartAreaDefinitions();delete b.draggingItem;b.style.cursor="default"}};document.addEventListener("mouseup",u(b,document,"mouseup",function(a){a.button==0&&k(a)},true),true);document.addEventListener("touchend",u(b,document,"touchend",function(a){k(a.changedTouches[0])},true),true);b.draggableOrderingItems.push(e)}},Yc=function(a,e){for(var d in e)d.indexOf("custom")!=0&&d.indexOf("description")!=0||typeof a[d]===c&&(a[d]=e[d])},oc=function(a,e,d,b,g,f,h,m,l,j,o,w,t,k,r,q){var n,
v=[],s;if(typeof b!==c)for(n=0;n<b.length;n++){s=q.columns[b[n]];v.push({isTreeView:s.isTreeView,header:s.header,width:s.width,headerClass:s.headerClass,headerStyle:s.headerStyle,cellClass:s.cellClass,cellStyle:s.cellStyle,cellTemplate:typeof s.exportCellTemplate!==c?s.exportCellTemplate:s.cellTemplate})}else for(n=0;n<q.columns.length;n++){s=q.columns[n];s.isSelection||v.push({isTreeView:s.isTreeView,header:s.header,width:s.width,headerClass:s.headerClass,headerStyle:s.headerStyle,cellClass:s.cellClass,
cellStyle:s.cellStyle,cellTemplate:typeof s.exportCellTemplate!==c?s.exportCellTemplate:s.cellTemplate})}if(typeof d===c)d=q.isGridVisible;n=d?lb(v)+1:0;if(typeof g!==c){if(typeof h===c||!h)g=new Date(g.valueOf()-g.getTimezoneOffset()*60000)}else g=q.timelineStart;if(typeof f!==c){if(typeof h===c||!h)f=new Date(f.valueOf()-f.getTimezoneOffset()*60000)}else f=q.timelineFinish;g={isExport:true,isReadOnly:true,selectionMode:"None",isVirtualizing:false,isGridVisible:d,isSplitterEnabled:false,gridWidth:n+
"px",columns:v,allowUserToResizeColumns:false,isGridRowClickTimeScrollingEnabled:false,isMouseWheelZoomEnabled:false,timelineStart:g,timelineFinish:f,hourWidth:typeof m!==c?m:q.hourWidth,displayedTime:typeof g!==c?g:q.timelineStart,currentTime:q.currentTime,isTaskToolTipVisible:false,isDependencyToolTipVisible:false,containerClass:q.containerClass,containerStyle:q.containerStyle,border:q.border,theme:q.theme,headerBackground:q.headerBackground,headerHeight:q.headerHeight,itemHeight:q.itemHeight,itemClass:q.itemClass,
itemStyle:q.itemStyle,standardItemClass:q.standardItemClass,summaryItemClass:q.summaryItemClass,milestoneItemClass:q.milestoneItemClass,standardItemStyle:q.standardItemStyle,summaryItemStyle:q.summaryItemStyle,milestoneItemStyle:q.milestoneItemStyle,indentationLevelWidth:q.indentationLevelWidth,toggleButtonClass:q.toggleButtonClass,toggleButtonStyle:q.toggleButtonStyle,scales:[],visibleWeekStart:q.visibleWeekStart,visibleWeekFinish:q.visibleWeekFinish,workingWeekStart:q.workingWeekStart,workingWeekFinish:q.workingWeekFinish,
visibleDayStart:q.visibleDayStart,visibleDayFinish:q.visibleDayFinish,specialNonworkingDays:q.specialNonworkingDays,barMargin:q.barMargin,barHeight:q.barHeight,barCornerRadius:q.barCornerRadius,completedBarMargin:q.completedBarMargin,completedBarHeight:q.completedBarHeight,completedBarCornerRadius:q.completedBarCornerRadius,standardBarClass:q.standardBarClass,summaryBarClass:q.summaryBarClass,milestoneBarClass:q.milestoneBarClass,standardBarStyle:q.standardBarStyle,summaryBarStyle:q.summaryBarStyle,
milestoneBarStyle:q.milestoneBarStyle,standardCompletedBarClass:q.standardCompletedBarClass,standardCompletedBarStyle:q.standardCompletedBarStyle,summaryCompletedBarClass:q.summaryCompletedBarClass,summaryCompletedBarStyle:q.summaryCompletedBarStyle,dependencyLineClass:q.dependencyLineClass,dependencyLineStyle:q.dependencyLineStyle,assignmentsClass:q.assignmentsClass,assignmentsStyle:q.assignmentsStyle,areTaskAssignmentsVisible:q.areTaskAssignmentsVisible,isTaskCompletedEffortVisible:q.isTaskCompletedEffortVisible,
areTaskDependenciesVisible:q.areTaskDependenciesVisible,areDependencyConstraintsAppliedOnStartedTasks:q.areDependencyConstraintsAppliedOnMilestones,areDependencyConstraintsAppliedOnMilestones:q.areDependencyConstraintsAppliedOnMilestones,isBaselineVisible:q.isBaselineVisible,areStandardTaskLabelsVisible:q.areStandardTaskLabelsVisible,areSummaryTaskLabelsVisible:q.areSummaryTaskLabelsVisible,areMilestoneTaskLabelsVisible:q.areMilestoneTaskLabelsVisible,areResourceImagesVisibleAsAssignments:q.areResourceImagesVisibleAsAssignments,
resourceImageUrls:q.resourceImageUrls,standardLabelColor:q.standardLabelColor,summaryLabelColor:q.summaryLabelColor,milestoneLabelColor:q.milestoneLabelColor,standardLabelClass:q.standardLabelClass,standardLabelStyle:q.standardLabelStyle,summaryLabelClass:q.summaryLabelClass,summaryLabelStyle:q.summaryLabelStyle,milestoneLabelClass:q.milestoneLabelClass,milestoneLabelStyle:q.milestoneLabelStyle,arrowSize:q.arrowSize,arrowFill:q.arrowFill,alternativeItemClass:q.alternativeItemClass,alternativeChartItemClass:q.alternativeChartItemClass,
alternativeItemStyle:q.alternativeItemStyle,alternativeChartItemStyle:q.alternativeChartItemStyle,gridLines:q.gridLines,horizontalGridLines:q.horizontalGridLines,verticalGridLines:q.verticalGridLines,horizontalChartLines:q.horizontalChartLines,isIndividualItemNonworkingTimeHighlighted:q.isIndividualItemNonworkingTimeHighlighted,areTaskInterruptionsHighlighted:q.areTaskInterruptionsHighlighted,isBaselineVisible:q.isBaselineVisible,taskInitiationCost:q.taskInitiationCost,defaultResourceUsageCost:q.defaultResourceUsageCost,
specificResourceUsageCosts:q.specificResourceUsageCosts,defaultResourceHourCost:q.defaultResourceHourCost,specificResourceHourCosts:q.specificResourceHourCosts,target:q.target,months:q.months,daysOfWeek:q.daysOfWeek,weekStartDay:q.weekStartDay,dateFormatter:q.dateFormatter,dateTimeFormatter:q.dateTimeFormatter,isRelativeToTimezone:q.isRelativeToTimezone,standardTaskTemplate:q.standardTaskTemplate,summaryTaskTemplate:q.summaryTaskTemplate,milestoneTaskTemplate:q.milestoneTaskTemplate,assignmentsTemplate:q.assignmentsTemplate,
dependencyLineTemplate:q.dependencyLineTemplate,styleDefinitionTemplate:q.styleDefinitionTemplate};g.timelineStart=xa(g.timelineStart,g.weekStartDay);g.timelineFinish=nb(g.timelineFinish,g.weekStartDay);f=I(g.timelineFinish,g);g.chartWidth=f+"px";var p=n+f+2+(d?1:0);for(n=0;n<q.scales.length;n++){d=q.scales[n];g.scales.push({scaleType:d.scaleType,isHeaderVisible:d.isHeaderVisible,headerHeight:d.headerHeight,headerTextFormat:d.headerTextFormat,headerClass:d.headerClass,headerStyle:d.headerStyle,isHighlightingVisible:d.isHighlightingVisible,
highlightingClass:d.highlightingClass,highlightingStyle:d.highlightingStyle,isSeparatorVisible:d.isSeparatorVisible,separatorClass:d.separatorClass,separatorStyle:d.separatorStyle,intervals:d.intervals})}var x,F,z=false;if(o!=null&&typeof o.createElement!==c)x=o;else{if(o!=null&&typeof o.focus!==c)F=o;else{F=window.open("",o!=null?o:"_blank",typeof w!==c&&w&&(typeof k===c||k)?"width=800,height=480,location=no,menubar=no,toolbar=no,status=no,scrollbars=yes":"");z=true}x=F.document;try{var A=document.head.getElementsByTagName("link");
for(n=0;n<A.length;n++){var u=A[n],E=x.adoptNode(u.cloneNode(true));E.href=u.href;x.head.appendChild(E)}}catch(B){}}x.title=typeof a!==c?a:"Exported chart"+(typeof w!==c&&w?" (printable)":"");typeof l===c&&(l=0);typeof j===c&&(j=r.length-1);a=[];for(n=A=0;n<r.length;n++){o=r[n];if(!(typeof o.displayRowIndex!==c&&(o.displayRowIndex<l||o.displayRowIndex>j)||typeof o.displayRowIndex===c&&(A++<l||A>j+1))){q={content:o.content,label:o.label,indentation:o.indentation,start:o.start,finish:o.finish,completedFinish:o.completedFinish,
isMilestone:o.isMilestone,schedule:D(o),assignmentsContent:o.assignmentsContent,baselineStart:o.baselineStart,baselineFinish:o.baselineFinish,isBarVisible:o.isBarVisible,isRelativeToTimezone:o.isRelativeToTimezone,"class":o["class"],style:o.style,barClass:o.barClass,standardBarClass:o.standardBarClass,standardCompletedBarClass:o.standardCompletedBarClass,summaryBarClass:o.summaryBarClass,milestoneBarClass:o.milestoneBarClass,baselineBarClass:o.baselineBarClass,barStyle:o.barStyle,standardBarStyle:o.standardBarStyle,
standardCompletedBarStyle:o.standardCompletedBarStyle,summaryBarStyle:o.summaryBarStyle,milestoneBarStyle:o.milestoneBarStyle,baselineBarStyle:o.baselineBarStyle,labelColor:o.labelColor,labelClass:o.labelClass,labelStyle:o.labelStyle,isSummaryEnabled:o.isSummaryEnabled,isParentSummarizationEnabled:o.isParentSummarizationEnabled,isHidden:o.isHidden,isExported:true,tag:o};if(typeof o.displayRowIndex!==c)q.displayRowIndex=o.displayRowIndex-l;Yc(q,o);a.push(q);o.exportItem=q}}for(n=0;n<r.length;n++){o=
r[n];if(!(typeof o.displayRowIndex!==c&&(o.displayRowIndex<l||o.displayRowIndex>j))){q=o.exportItem;if(typeof o.predecessors!==c){q.predecessors=[];for(A=0;A<o.predecessors.length;A++){u=o.predecessors[A];typeof u.item.displayRowIndex!==c&&(u.item.displayRowIndex<l||u.item.displayRowIndex>j)||q.predecessors.push({item:u.item.exportItem,dependencyType:u.dependencyType,lag:u.lag,dependencyLineClass:u.dependencyLineClass,dependencyLineStyle:u.dependencyLineStyle})}}}}var C=x.createElement("p");C.innerHTML=
typeof e!==c?e:"";x.body.appendChild(C);var G=x.createElement("div");G.setAttribute("style","width: "+p+"px");try{DlhSoft.Controls.GanttChartView.initialize(G,a,g,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")}catch(S){}setTimeout(function(){z&&x.body.setAttribute("style","margin: 0px");var a=x.createElement("div");a.appendChild(G);x.body.replaceChild(a,C);if(t){a.setAttribute("style","width: "+G.offsetHeight+
"px; height: "+p+"px; overflow: hidden");a=Math.round((G.offsetWidth-G.offsetHeight)/2);G.setAttribute("style","width: "+p+"px; transform: rotate(90deg) translateX("+a+"px) translateY("+a+"px); -webkit-transform: rotate(90deg) translateX("+a+"px) translateY("+a+"px)")}x.close();if(typeof F!==void 0){F.focus();typeof w!==c&&w&&setTimeout(function(){F.print();(typeof k===c||k)&&setTimeout(function(){F.close()})})}},0)},pc=function(a){var e=ka;if(typeof a===c)return e;for(var d=0;d<a.length;d++){var b=
a[d];if((!b.hasChildren||!(typeof b.isSummaryEnabled===c||b.isSummaryEnabled))&&b.start<e)e=b.start}return new Date(e.valueOf())},Bb=function(a){var e=O;if(typeof a===c)return e;for(var d=0;d<a.length;d++){var b=a[d];if(!b.hasChildren||!(typeof b.isSummaryEnabled===c||b.isSummaryEnabled))if(typeof b.isMilestone===c||!b.isMilestone){if(b.finish>e)e=b.finish}else if(b.start>e)e=b.start}return new Date(e.valueOf())},qc=function(a,e){for(var d=0,b=0;b<a.length;b++){var c=a[b];c.parent==null&&(d=d+ga(c,
e))}return d},rc=function(a,e){for(var d=0,b=0;b<a.length;b++){var c=a[b];c.parent==null&&(d=d+za(c,e))}return d},sc=function(a,e){for(var d=[],b=0;b<e.length;b++){var g=e[b];if(!(g==a||typeof g.predecessors===c||g.predecessors.length==0))for(var f=0;f<g.predecessors.length;f++)if(g.predecessors[f].item==a){d.push(g);break}}return d},jb=function(a,e){for(var d=[],b=sc(a,e),g=0;g<b.length;g++){var f=b[g];if(!(typeof f.predecessors===c||f.predecessors.length==0))for(var h=0;h<f.predecessors.length;h++)f.predecessors[h].item==
a&&d.push({successor:f,predecessor:f.predecessors[h]})}return d},kb=function(a,e,d,b,g){typeof e===c&&(e=0);g=g?g:Bb(d);if(a.finish>=g)return true;var f;if(!a.hasChildren||!(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)){var h=a.successorPredecessors?a.successorPredecessors:jb(a,d);for(f=0;f<h.length;f++){var m=h[f].successor;if(!b.areTaskDependencyConstraintsEnabled){for(var l=a,j=true;l;){if(Ba(l,m)){j=false;break}l=l.parent}if(!j)continue}l=h[f].predecessor;if(((typeof l.dependencyType===
c||l.dependencyType==""||l.dependencyType=="FinishStart"||l.dependencyType=="FS")&&N(a.finish,m.start,b,D(a))<=(l.lag?l.lag:0)+e||(l.dependencyType=="StartStart"||l.dependencyType=="SS")&&N(a.start,m.start,b,D(a))<=(l.lag?l.lag:0)+e)&&kb(m,e,d,b,g))return true}}else{a=a.children;for(f=0;f<a.length;f++)if(kb(a[f],e,d,b,g))return true}return false},Zc=function(a,e,d,b){if(typeof e!==c){e=a.getNetworkDiagramItems(b,void 0,void 0,e);a=a.ownerDocument.createElement("div");DlhSoft.Controls.Pert.NetworkDiagramView.initialize(a,
e,void 0,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");return a.getCriticalItems().filter(function(a){return a.tag}).map(function(a){return a.tag})}},Cb=function(a,e,d){for(var b=0;b<a.length;b++){var g=a[b];(!g.hasChildren||!(typeof g.isSummaryEnabled===c||g.isSummaryEnabled))&&(typeof g.predecessors!==c&&g.predecessors!=null&&g.predecessors.length>0)&&Aa(g,a,e,d)}},tc=function(a,e,d,b){var e=new Date(e.valueOf()-
e.getTimezoneOffset()*60000),e=sa(e,b,D(a)),d=ga(a,b),c=za(a,b);Db(a,e);ab(a,d,b);bb(a,c,b);$(a)},uc=function(a,e){for(var d=0,b=ha(a),g=0;g<b.length;g++){var f=b[g],h=f.key,m;typeof e.specificResourceUsageCosts!==c&&(m=aa(e.specificResourceUsageCosts,h))>=0?d=d+e.specificResourceUsageCosts[m].value*f.value:typeof e.defaultResourceUsageCost!==c&&(d=d+e.defaultResourceUsageCost*f.value);if(!a.hasChildren||!(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)){var l=ga(a,e)/3600000;typeof e.specificResourceHourCosts!==
c&&(m=aa(e.specificResourceHourCosts,h))>=0?d=d+e.specificResourceHourCosts[m].value*l*f.value:typeof e.defaultResourceHourCost!==c&&(d=d+e.defaultResourceHourCost*l*f.value)}}return d},Fb=function(a,e){var d=typeof e.taskInitiationCost!==c?e.taskInitiationCost:0,d=d+uc(a,e);if(a.hasChildren&&(typeof a.isSummaryEnabled===c||a.isSummaryEnabled))for(var b=0;b<a.children.length;b++)d=d+Eb(a.children[b],e);return d},Eb=function(a,e){return(typeof a.executionCost!==c?a.executionCost:0)+Fb(a,e)},vc=function(a,
e,d,b,g,f,h){if(typeof d!==c){typeof a===c&&(a=false);typeof e===c&&(e=new Date);typeof f===c&&(f=false);typeof h===c&&(h=false);Cb(d,b,g);var g=[],m=[],l,j,o,w=[];for(j=0;j<d.length;j++){l=d[j];if(!l.hasChildren||!(typeof l.isSummaryEnabled===c||l.isSummaryEnabled)){if(h){o=false;for(var t=l;t!=null;){if(typeof t.predecessors!==c&&t.predecessors.length>0){o=true;break}t=t.parent}if(!o)continue}g.push({key:l,value:$c(l)});var t=!f?ha(l):[],k=[];for(o=0;o<t.length;o++){var r=t[o];r.value>0&&k.push(r)}m.push({key:l,
value:k});w.push(l)}}d=[];for(f=g.length;f>0;){h=[];for(j=0;j<g.length;j++){l=g[j].key;o=true;t=g[j].value;for(k=0;k<t.length;k++){r=t[k];if(aa(g,r)>=0&&h.indexOf(r)<0){o=false;break}}if(o){k=l;o=e;t=b;if(typeof k.minStart!==c&&o<k.minStart)o=k.minStart;if(a||!La(k))for(;k!=null;){if(typeof k.predecessors!==c)for(r=0;r<k.predecessors.length;r++){var q=k.predecessors[r];if(typeof q!==c){var n=q.dependencyType;typeof n===c&&(n="FinishStart");switch(n){case "":case "FinishStart":case "FS":q=Q(q.item.finish,
typeof q.lag===c?0:q.lag,t,D(q.item));q>o&&(o=q);break;case "StartStart":case "SS":q=Q(q.item.start,typeof q.lag===c?0:q.lag,t,D(q.item));q>o&&(o=q)}}}for(k=k.parent;k!=null&&typeof k.isSummaryEnabled!==c&&!k.isSummaryEnabled;)k=k.parent}t=o;o=aa(m,l);var k=m[o].value,s;for(o=0;o<k.length;o++){s=k[o].key;r=k[o].value;n=aa(d,s);if(n>=0){q=1;if(typeof b.resourceQuantities!==c){var v=aa(b.resourceQuantities,s);if(v>=0)q=b.resourceQuantities[v].value}previousAllocations=d[n].value;for(n=0;n<previousAllocations.length;n++){s=
previousAllocations[n].key;if(!(s+r<=q)){v=previousAllocations[n].value;v>t&&(t=v)}}}}if((a||!La(l))&&(t=sa(t,b,D(l)))!=l.start){o=ga(l,b);r=za(l,b);Db(l,t);ab(l,o,b);bb(l,r,b)}q=l.finish;for(o=0;o<k.length;o++){s=k[o].key;r=k[o].value;n=aa(d,s);if(n<0){v=[];d.push({key:s,value:v})}else v=d[n].value;for(var x=[{key:r,value:q}],p,F,z,n=0;n<v.length;n++){s=v[n].key;var u=v[n].value;if(u>t){F=s+r;z=u<q?u:q;p=aa(x,F);if(p<0)x.push({key:F,value:z});else if(z>x[F])x[p].value=z;u<q?x.push({key:s+r,value:u}):
x.push({key:s+r,value:q})}}for(r=0;r<x.length;r++){F=x[r].key;z=x[r].value;p=aa(v,F);if(p<0)v.push({key:F,value:z});else if(z>v[p].value)v[p].value=z}}h.push(l)}}for(j=0;j<h.length;j++)g.splice(aa(g,h[j]),1);if(g.length==f)break;f=g.length}for(j=0;j<w.length;j++){l=w[j];A(l,"start",true,true);A(l,"finish",true,true);A(l,"completedFinish",true,true);$(l)}}},$c=function(a){for(var e=[],a=xb(a),d=0;d<a.length;d++)wc(a[d],e);return e},wc=function(a,e){if(!a.hasChildren||!(typeof a.isSummaryEnabled===
c||a.isSummaryEnabled))e.indexOf(a)<0&&e.push(a);else for(var d=0;d<a.children.length;d++)wc(a.children[d],e)},La=function(a){return!a.isMilestone&&a.completedFinish>a.start},ga=function(a,e){if(a.hasChildren&&(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)){for(var d=0,b=a.children,g=0;g<b.length;g++)d=d+ga(b[g],e);return d}return N(a.start,a.finish,e,D(a))},za=function(a,e){if(a.hasChildren&&(typeof a.isSummaryEnabled===c||a.isSummaryEnabled)){for(var d=0,b=a.children,g=0;g<b.length;g++)d=d+
za(b[g],e);return d}return N(a.start,a.completedFinish,e,D(a))},ab=function(a,e,d){e=Q(a.start,e,d,D(a));a.finish=e;A(a,"finish",false,false);xc(a,false)},bb=function(a,e,d){a.completedFinish=Q(a.start,e,d,D(a));A(a,"completedFinish",false,false)},Db=function(a,e){a.start=e;a.preferredStart=e;A(a,"start",false,false);xc(a,false)},xc=function(a,e){for(var d=a.parent;d!=null;){cb(d,e);a=d;d=a.parent}},yc=function(a,e,d){typeof d===c&&(d=false);var b=a.parent,g=a.index;if(b==null){for(b=0;g-- >0;){a=
e[g];a.indentation==0&&b++}return b+(!d?1:0)}return yc(b,e)+"."+(b.children.indexOf(a)+(!d?1:0))},ha=function(a){var e;a=a.assignmentsContent;if(typeof a===c)e=[];else{for(var a=a.split(","),d=[],b=0;b<a.length;b++){var g=Ya(a[b]),f=1,h=g.indexOf("["),m=g.lastIndexOf("]");if(h>=0&&m>=0){m=Ya(g.substr(h+1,m-h-1));g=Ya(g.substr(0,h));h=m.indexOf("%");h>=0&&(m=Ya(m.substr(0,h)));try{e=parseFloat(m);f=e/100}catch(l){f=1}}if(!(g.length<=0)){h=aa(d,g);h<0?d.push({key:g,value:f}):d[h].value=d[h].value+f}}e=
d}return e},zc=function(a){for(var e=[],a=ha(a),d=0;d<a.length;d++)e.push(a[d].key);return e},Ma=function(a,e){if(typeof e===c)return[];for(var d=[],b=0;b<e.length;b++){var g=e[b];if(!g.hasChildren||!(typeof g.isSummaryEnabled===c||g.isSummaryEnabled))for(var f=ha(g),h=0;h<f.length;h++){var m=f[h];if(m.key==a){d.push({key:g,value:m.value});break}}}return d},Oa=function(a){if(typeof a===c)return[];for(var e=[],d=0;d<a.length;d++){var b=a[d];if(!b.hasChildren||!(typeof b.isSummaryEnabled===c||b.isSummaryEnabled))for(var b=
zc(b),g=0;g<b.length;g++){var f=b[g];e.indexOf(f)<0&&e.push(f)}}return e},Ac=function(a,e){for(var d=[],b=Ma(a,e),g=0;g<b.length;g++){var f=b[g],h=f.key;if(!h.hasChildren||!(typeof h.isSummaryEnabled===c||h.isSummaryEnabled))for(h=[{start:h.start,finish:h.finish}];h.length>0;){var m;m=h[0];h.splice(0,1);if(!(m.finish<=m.start))if(d.length==0)d.push({key:m,value:f.value});else{pc(e);for(var l=false,j=0;j<d.length;j++){var o=d[j].key,w=d[j].value;if(!(m.start>=o.finish))if(m.finish<=o.start){for(l=
0;l<=j;l++)if(d[l].key.start>=m.start){d.splice(l,0,{key:m,value:f.value});break}l=true;break}else if(m.start<=o.start&&m.finish>=o.finish){d[j].value=w+f.value;m.start<o.start&&h.push({start:m.start,finish:o.start});m.finish>o.finish&&h.push({start:o.finish,finish:m.finish});l=true;break}else if(m.start>=o.start&&m.finish<=o.finish){d.splice(j,1);m.start>o.start&&d.splice(j++,0,{key:{start:o.start,finish:m.start},value:w});d.splice(j++,0,{key:m,value:w+f.value});m.finish<o.finish&&d.splice(j++,0,
{key:{start:m.finish,finish:o.finish},value:w});l=true;break}else if(m.start>=o.start&&m.finish>=o.finish){d.splice(j,1);m.start>o.start&&d.splice(j++,0,{key:{start:o.start,finish:m.start},value:w});d.splice(j++,0,{key:{start:m.start,finish:o.finish},value:w+f.value});m.finish>o.finish&&h.push({start:o.finish,finish:m.finish});l=true;break}else if(m.start<=o.start&&m.finish<=o.finish){d.splice(j,1);m.start<o.start&&h.push({start:m.start,finish:o.start});d.splice(j++,0,{key:{start:o.start,finish:m.finish},
value:w+f.value});m.finish<o.finish&&d.splice(j++,0,{key:{start:m.finish,finish:o.finish},value:w});l=true;break}}l||d.push({key:m,value:f.value})}}}return d},Gb=function(a,e,d){for(var b=0;b<a.length;b++){var c=a[b];if(c.key==e){e=c.value;if(e.indexOf(d)>=0)return true;for(b=0;b<e.length;b++)if(Gb(a,e[b],d))return true;break}}return false},Ga=function(a){var e=a.content;return a.parent==null?e:e+" ("+Ga(a.parent)+")"},Za=function(a,e){return a==e?true:a.parent==null?false:Za(a.parent,e)},Ya=function(a){return a.replace(/^\s*/,
"").replace(/\s*$/,"")},aa=function(a,e){for(var d=0;d<a.length;d++)if(a[d].key==e)return d;return-1},Bc=function(a){return typeof a!==c?new Date(a.valueOf()+a.getTimezoneOffset()*60000):a},Cc=function(a){return typeof a!==c?new Date(a.valueOf()-a.getTimezoneOffset()*60000):a},Dc=function(a,e,d){var b;for(b=0;b<e.length;b++)e[b].ganttChartView=a;for(b=0;b<e.length;b++){var g=e[b];if(typeof g.parts!==c){if(typeof g.isGroup===c){g.isGroup=true;g.isSummaryEnabled=false}H(g.parts,d);if(g.isGroup||typeof g.isBarVisible===
c)g.isBarVisible=false;for(var f=0;f<g.parts.length;f++){var h=g.parts[f];h.ganttChartView=g.ganttChartView;h.ganttChartItem=g;h.isPart=true;h.isVirtuallyVisible=true;if(g.isGroup||typeof h.indentation===c)h.indentation=0;if(g.isGroup||typeof h.displayRowIndex===c)h.displayRowIndex=-1;h.isInternallyHidden=true;e.indexOf(h)>=0||e.splice(e.length,0,h)}}}a.items=e;a.settings=d;a.refresh=function(){L(a)};a.refreshItems=function(){Ta(e)};a.refreshGridItems=function(){for(var a=0;a<e.length;a++)Sa(e[a])};
a.refreshChartItems=function(){for(var a=0;a<e.length;a++)oa(e[a])};a.refreshGridItem=Sa;a.refreshChartItem=oa;a.refreshItem=na;a.refreshPredecessorItems=ra;a.refreshItemGraph=Ka;a.refreshItemPath=$;a.refreshItemNeighbourhood=function(b){Ua(b,e,a,d)};a.refreshCurrentTimeLine=function(){var b=a.chartHeader,c=a.chartContent,f=c.chartArea,g,h=[];for(g=f.childNodes.length;g-- >1;){var k=f.childNodes[g];k.tag!="Scale-Highlighting-CurrentTime"&&k.tag!="Scale-Separator-CurrentTime"&&h.push(k);f.removeChild(k)}mb(b,
f,d.scales,d,true);for(g=h.length;g-- >0;)f.appendChild(h[g]);ua(c,va(e,d))};a.setCurrentTime=function(b){d.currentTime=b;a.refreshCurrentTimeLine()};a.updateCurrentTime=function(){var b=new Date,b=new Date(b.valueOf()-b.getTimezoneOffset()*60000);a.setCurrentTime(b)};a.getCurrentItem=function(){return a.currentItem};a.getSelectedItem=function(){return a.selectedItem};a.getSelectedItems=function(){return a.selectedItems};a.selectItem=function(a){v(a,true,d.selectionMode)};a.unselectItem=function(a){v(a,
false,d.selectionMode)};a.expandItem=function(a){ja(a,true,true)};a.collapseItem=function(a){ja(a,false,true)};a.scrollToItem=mc;a.scrollToBottom=function(){a.chartContentContainer.scrollTop=a.chartContent.clientHeight};a.scrollToDateTime=function(b){a.isDuringScrollToDateTime=true;a.chartContentContainer.scrollLeft=I(b,a.settings)};a.increaseTimelinePage=function(b){d.timelineStart=new Date(d.timelineStart.valueOf()+b);d.timelineFinish=new Date(d.timelineFinish.valueOf()+b);L(a)};a.decreaseTimelinePage=
function(b){d.timelineStart=new Date(d.timelineStart.valueOf()-b);d.timelineFinish=new Date(d.timelineFinish.valueOf()-b);L(a)};a.setSplitterPosition=function(b){var e=a.gridContainer,f=a.chartContainer,g=a.splitter,b=Math.ceil(b*1000000/a.offsetWidth)/10000;typeof e.percent!==c&&delete e.percent;e.style.width=b+"%";f.style.width=100-b+"%";Ha(g,e,d)};a.getChartPosition=function(a){return I(a,d)};a.getChartWidth=function(){return I(d.timelineFinish,d)};a.getDateTime=function(a){return Ia(a,d)};a.getWorkingTime=
function(a){return ic(a,d)};a.getStartWorkingTime=function(a){return sa(a,d)};a.getFinishWorkingTime=function(a){return P(a,d,false,true,void 0)};a.getEffort=function(a,b){return N(a,b,d)};a.getFinish=function(a,b){return Q(a,b,d)};a.getStart=function(a,b){return Va(a,b,d)};a.getCompletion=function(a,b,e){return gb(a,b,e,d)};a.getCompletedFinish=function(a,b,e){return jc(a,b,e,d)};a.getItemsHeight=function(){return va(e,d)};a.getItemTop=function(a){return Ca(a,e,d)};a.onItemPropertyChanged=A;a.initializeTaskDraggingThumbs=
function(b,d,e,c,f,g,h,k){vb(b,d,e,c,f,g,h,k,a.items,a,a.settings)};a.initializeDependencyDraggingThumbs=function(b,d,e,c,f,g,h){fb(b,d,e,c,f,g,h,a.items,a,a.settings)};a.insertItem=function(b,c){dc(b,c,a,e,d)};a.addItem=function(b){a.insertItem(e.length,b)};a.insertItems=function(b,d){for(var e=0;e<d.length;e++)a.insertItem(b++,d[e])};a.addItems=function(b){for(var d=0;d<b.length;d++)a.addItem(b[d])};a.removeItem=function(b){ec(b,a,e,d)};a.removeItems=function(b){for(var d=0;d<b.length;d++)a.removeItem(b[d])};
a.increaseItemIndentation=function(b){var f=b.index>0?a.items[b.index-1]:null;if(!(f==null||b.indentation>f.indentation)){ja(b,true,false,true);b.indentation++;A(b,"indentation",true,true);if(b.predecessors&&b.predecessors.length>0){for(var g=false,o=0;o<b.predecessors.length;o++)if(b.predecessors[o].item==f&&b.indentation>f.indentation){b.predecessors.splice(o--,1);g=true}g&&A(b,"predecessors",false,true)}for(g=0;g<e.length;g++){o=e[g];if(!(o!=f||typeof o.predecessors===c||o.predecessors.length==
0))for(var h=0;h<o.predecessors.length;h++)if(o.predecessors[h].item==b&&f.indentation>o.predecessors[h].item.indentation){o.predecessors.splice(h--,1);A(o,"predecessors",false,true);na(o);ra(o)}}eb(e,d)&&Ta(e);for(Ua(b,e,a,d);b!=null;){b.isExpanded||ja(b,true,false);b=b.parent}}};a.decreaseItemIndentation=function(b){var f=b.index<a.items.length-1?a.items[b.index+1]:null;if(!(b.indentation<=0||f!=null&&b.indentation<f.indentation)){b.indentation--;A(b,"indentation",true,true);if(f&&b.predecessors&&
b.predecessors.length>0){for(var g=false,o=0;o<b.predecessors.length;o++)if(b.predecessors[o].item==f&&b.indentation<f.indentation){b.predecessors.splice(o--,1);g=true}g&&A(b,"predecessors",false,true)}for(g=0;g<e.length;g++){o=e[g];if(!(o!=f||typeof o.predecessors===c||o.predecessors.length==0))for(var h=0;h<o.predecessors.length;h++)if(o.predecessors[h].item==b&&f.indentation<o.predecessors[h].item.indentation){o.predecessors.splice(h--,1);A(o,"predecessors",false,true);na(o);ra(o)}}eb(e,d)&&Ta(e);
for(Ua(b,e,a,d);b!=null;){b.isExpanded||ja(b,true,false);b=b.parent}}};a.setItemContent=function(a,b){a.content=b;A(a,"content",true,true)};a.setItemStart=function(a,b){a.start=sa(b,d,D(a));a.preferredStart=a.start;A(a,"start",true,true);if(a.completedFinish<a.start){a.completedFinish=a.start;A(a,"completedFinish",false,true)}};a.setItemFinish=function(a,b){var e;e=D(a);e=P(b,d,false,true,e);a.finish=e;A(a,"finish",true,true);if(a.completedFinish>a.finish){a.completedFinish=a.finish;A(a,"completedFinish",
false,true)}};a.setItemIsMilestone=function(a,b){a.isMilestone=b;A(a,"isMilestone",true,true)};a.getItemEffort=function(a){return ga(a,d)};a.setItemEffort=function(a,b){a.finish=Q(a.start,b,d,D(a));A(a,"finish",true,true);if(a.completedFinish>a.finish){a.completedFinish=a.finish;A(a,"completedFinish",false,true)}};a.getItemTotalEffort=function(a){return yb(a)};a.setItemTotalEffort=function(a,b){a.ganttChartView.setItemEffort(a,b/Wa(a))};a.setItemHasFixedEffort=function(a,b){a.hasFixedEffort=b;if(!a.hasChildren&&
a.hasFixedEffort){a.fixedEffort=ga(a,d);a.fixedEffortAssignments=ha(a)}};a.getItemDuration=function(a){return N(a.start,a.finish,d,D(a))};a.setItemDuration=a.setItemEffort;a.getItemCompletedEffort=function(a){return za(a,d)};a.setItemCompletedEffort=function(a,b){a.completedFinish=Q(a.start,b,d,D(a));if(a.completedFinish>a.finish)a.completedFinish=a.finish;A(a,"completedFinish",true,true)};a.getItemTotalCompletedEffort=function(a){return zb(a)};a.setItemTotalCompletedEffort=function(a,b){a.ganttChartView.setItemCompletedEffort(a,
b/Wa(a))};a.getItemCompletion=function(b){return a.getItemCompletedEffort(b)/a.getItemEffort(b)};a.setItemCompletion=function(b,d){a.setItemCompletedEffort(b,d*a.getItemEffort(b))};a.isItemCompleted=function(b){return a.getItemCompletion(b)>=1||(b.isMilestone||b.finish.valueOf()<=b.start.valueOf())&&typeof b.isSetAsCompleted!==c&&b.isSetAsCompleted};a.setItemAsCompleted=function(b){if(b.isMilestone||b.finish.valueOf()<=b.start.valueOf())b.isSetAsCompleted=true;a.setItemCompletion(b,1)};a.hasItemStarted=
function(a){return La(a)};a.setItemAsNotStarted=function(b){if(b.isMilestone||b.finish.valueOf()<=b.start.valueOf())b.isSetAsCompleted=false;a.setItemCompletion(b,0)};a.isItemOnSchedule=function(a){var b=new Date,b=new Date(b.valueOf()-b.getTimezoneOffset()*60000);return a.completedFinish>=b};a.setItemAssignmentsContent=function(a,b){a.assignmentsContent=b;A(a,"assignmentsContent",true,true)};a.getItemPredecessorsString=function(a,b){var d=b;typeof d===c&&(d=false);var f="";if(!(typeof a.predecessors===
c||a.predecessors.length==0))for(var g=0;g<a.predecessors.length;g++){var h=a.predecessors[g],k=e.indexOf(h.item);if(!(k<0)){f.length>0&&(f=f+", ");f=f+(k+(!d?1:0));if(typeof h.dependencyType!==c&&h.dependencyType!=""&&h.dependencyType!="FinishStart"&&h.dependencyType!="FS")if(h.dependencyType=="StartStart"||h.dependencyType=="SS")f=f+"SS";else if(h.dependencyType=="FinishFinish"||h.dependencyType=="FF")f=f+"FF";else if(h.dependencyType=="StartFinish"||h.dependencyType=="SF")f=f+"SF";if(typeof h.lag!==
c&&h.lag!=0){h.lag>0&&(f=f+"+");f=f+h.lag/3600000}}}return f};a.setItemPredecessorsString=function(a,b,d){typeof d===c&&(d=false);var f=[];a.predecessors=f;for(var b=b.split(","),g=0;g<b.length;g++){var h=Ya(b[g]);if(!(h.length<=0)){for(var k=0;k<h.length&&h.charCodeAt(k)>=48&&h.charCodeAt(k)<=57;)k++;var r=h.substr(0,k),r=parseInt(r)-(!d?1:0);if(!isNaN(r)&&!(r<0||r>=e.length)){r=e[r];if(!qb(a,r)&&!Ba(a,r)&&!Ba(r,a)){var h=h.substr(k),k=h.indexOf("+"),q=h.indexOf("-"),n=k>=0?k:q>=0?q:-1,q=0;if(n>=
0){var s=parseFloat(h.substr(n+1));isNaN(s)||(q=s*(k>=0?1:-1)*3600000)}h=(n<0?h:h.substr(0,n)).toUpperCase();f.push({item:r,dependencyType:h,lag:q})}}}}for(d=0;d<e.length;d++)delete e[d].successors;A(a,"predecessors",true,true)};a.getItemIndexString=function(a,b){typeof b===c&&(b=false);return typeof a.index!==c?(a.index+(!b?1:0)).toString():""};a.getItemWbsIndexString=function(a,b){return yc(a,e,b).toString()};a.moveRange=function(b,d,c){ib(b,d,c,a,e)};a.moveItem=function(b,d){Ab(b,d,a,e)};a.moveItemUp=
function(b){var d=e.indexOf(b);d<=0||Ab(b,d-1,a,e)};a.moveItemDown=function(b){var d=e.indexOf(b);d<0||d>=e.length-1||Ab(b,d+1,a,e)};a.moveItemHierarchy=function(b,d){for(var c=e.indexOf(b),f=c+1;f<e.length;f++)if(e[f].indentation<=b.indentation)break;ib(c,f-c,d,a,e)};a.moveItemHierarchyUp=function(b){for(var d=e.indexOf(b),c=d+1;c<e.length;c++)if(e[c].indentation<=b.indentation)break;for(var f=d;f-- >0;){if(e[f].indentation<b.indentation)return;if(e[f].indentation==b.indentation)break}ib(d,c-d,f,
a,e)};a.moveItemHierarchyDown=function(b){for(var d=e.indexOf(b),c=d+1;c<e.length;c++)if(e[c].indentation<=b.indentation)break;for(var c=c-d,f=d+c;f++<e.length-1;)if(e[f].indentation<=b.indentation)break;e[f-1].indentation<b.indentation||ib(d,c,f-c,a,e)};a.exportContent=function(a,b){typeof a===c&&(a={});oc(a.title,a.preparingMessage,a.isGridVisible,a.columnIndexes,a.timelineStart,a.timelineFinish,a.isRelativeToTimezone,a.hourWidth,a.startRowIndex,a.endRowIndex,b,false,a.rotate,false,e,d)};a.print=
function(a){typeof a===c&&(a={});oc(a.title,a.preparingMessage,a.isGridVisible,a.columnIndexes,a.timelineStart,a.timelineFinish,a.isRelativeToTimezone,a.hourWidth,a.startRowIndex,a.endRowIndex,null,true,a.rotate,a.autoClose,e,d)};a.getRootItems=function(){for(var a=[],b=0;b<e.length;b++){var d=e[b];d.parent==null&&a.push(d)}return a};a.getLeafItems=function(){for(var a=[],b=0;b<e.length;b++){var d=e[b];d.parent!=null&&a.push(d)}return a};a.getSummaryItems=function(){for(var a=[],b=0;b<e.length;b++){var d=
e[b];d.hasChildren&&a.push(d)}return a};a.getProjectStart=function(){return pc(e)};a.getProjectFinish=function(){return Bb(e)};a.getProjectEffort=function(){return qc(e,d)};a.getProjectTotalEffort=function(){for(var a=0,b=0;b<e.length;b++){var d=e[b];d.parent==null&&(a=a+yb(d))}return a};a.getProjectCompletedEffort=function(){return rc(e,d)};a.getProjectTotalCompletedEffort=function(){for(var a=0,b=0;b<e.length;b++){var d=e[b];d.parent==null&&(a=a+zb(d))}return a};a.getProjectCompletion=function(){return rc(e,
d)/qc(e,d)};a.isItemCritical=function(a,b){return kb(a,b,e,d)};a.getCriticalItems=function(a,b){var f;f=a;var g=b?b:e;typeof f===c&&(f=0);if(typeof g===c)f=void 0;else{for(var h=Bb(g),k=0;k<g.length;k++){var r=g[k];r.successorPredecessors=jb(r,g)}for(var n=[],k=0;k<g.length;k++){r=g[k];(!r.hasChildren||!(typeof r.isSummaryEnabled===c||r.isSummaryEnabled))&&kb(r,f,g,d,h)&&n.push(r)}for(k=0;k<g.length;k++){r=g[k];delete r.successorPredecessors}f=n}return f};a.getPertCriticalItems=function(b,c){return Zc(a,
c?c:e,d,b)};a.ensureDependencyConstraints=function(){Cb(e,d,a)};a.setupBaseline=function(){for(var a=0;a<e.length;a++){var b=e[a];if(!b.hasChildren||!(typeof b.isSummaryEnabled===c||b.isSummaryEnabled)){b.baselineStart=b.start;b.isMilestone?delete b.baselineFinish:b.baselineFinish=b.finish}else{delete b.baselineFinish;delete b.baselineStart}na(b)}};a.rescheduleItemToStart=function(a,b){tc(a,b,e,d)};a.rescheduleItemToFinish=function(a,b){var e=b,e=new Date(e.valueOf()-e.getTimezoneOffset()*60000),
c=ga(a,d),f=za(a,d),e=Va(c,e,d,D(a)),e=sa(e,d,D(a));Db(a,e);ab(a,c,d);bb(a,f,d);$(a)};a.splitRemainingWork=function(b,f,g){if(typeof e===c||b.hasChildren||b.isMilestone||!La(b)||!b.isMilestone&&b.completedFinish>=b.finish)b=null;else{var h=e.indexOf(b);if(h<0)b=null;else{f={content:typeof f===c?b.content:b.content+f,indentation:b.indentation,isExpanded:b.isExpanded,start:b.completedFinish,finish:b.finish,assignmentsContent:b.assignmentsContent,isReadOnly:b.isReadOnly,isHidden:b.isHidden,isBarVisible:b.isBarVisible,
isBarReadOnly:b.isBarReadOnly,isSummaryEnabled:b.isSummaryEnabled,isParentSummarizationEnabled:b.isParentSummarizationEnabled,displayRowIndex:b.displayRowIndex,"class":b["class"],style:b.style,barClass:b.barClass,standardBarClass:b.standardBarClass,summaryBarClass:b.summaryBarClass,milestoneBarClass:b.milestoneBarClass,baselineBarClass:b.baselineBarClass,barStyle:b.barStyle,standardBarStyle:b.standardBarStyle,summaryBarStyle:b.summaryBarStyle,milestoneBarStyle:b.milestoneBarStyle,baselineBarStyle:b.baselineBarStyle,
taskTemplate:b.taskTemplate,template:b.template,tag:b.tag};if(typeof g!==c)b.content=b.content+g;b.finish=b.completedFinish;dc(h+1,f,a,e,d);g=jb(b,e);for(h=0;h<g.length;h++){var k=g[h].predecessor;if(typeof k.dependencyType===c||k.dependencyType==""||k.dependencyType=="FinishStart"||k.dependencyType=="FS"||k.dependencyType=="FinishFinish"||k.dependencyType=="FF")k.item=f}f.predecessors=[{item:b}];ra(b);ra(f);b=f}}return b};a.optimizeWork=function(b,f,g,h){var k;typeof b===c&&(b=false);typeof f===
c&&(f=false);typeof g===c&&(g=new Date);if(h)vc(f,g,e,d,a,true,b);else{g=new Date(g.valueOf()+g.getTimezoneOffset()*60000);k=[];for(h=0;h<e.length;h++){var r=e[h];if(!r.hasChildren||!(typeof r.isSummaryEnabled===c||r.isSummaryEnabled))if(!(r.start<=g||!f&&La(r))){if(b){for(var n=false,s=r;s!=null;){if(typeof s.predecessors!==c&&s.predecessors.length>0){n=true;break}s=s.parent}if(!n)continue}tc(r,g,e,d);k.push(r)}}Cb(e,d,a);for(h=0;h<k.length;h++){b=k[h];A(b,"start",true,true);A(b,"finish",true,true);
A(b,"completedFinish",true,true);$(b)}k=void 0}return k};a.levelAllocations=function(b){if(!b)b=a.items;b.length||(b=[b]);for(var d=0;d<b.length;d++){var e=b[d],c,f="",g=ha(e);if(g&&g.length>0){var h=0;for(c=0;c<g.length;c++)h=h+g[c].value;if(h>0){for(c=0;c<g.length;c++){f.length>0&&(f=f+", ");f=f+(g[c].key+(g.length>1?" ["+Math.round(g[c].value/h*10000)/100+"%]":""))}e.assignmentsContent=f;A(e,"assignmentsContent",false,true);$(e)}}}};a.levelResources=function(b,c){return vc(b,c,e,d,a)};a.getItemSuccessors=
function(a){return sc(a,e)};a.getItemSuccessorPredecessorItems=function(a){return jb(a,e)};a.getItemAllocationUnits=Wa;a.getItemAssignments=ha;a.getItemAssignedResources=zc;a.getResourceAssignments=function(a){return Ma(a,e)};a.getResourceAssignedItems=function(a){for(var b=[],a=Ma(a,e),d=0;d<a.length;d++)b.push(a[d].key);return b};a.getAssignedResources=function(){return Oa(e)};a.getItemAssignmentsCost=function(a){return uc(a,d)};a.getItemExtraCost=function(a){return Fb(a,d)};a.getItemCost=function(a){return Eb(a,
d)};a.setItemCost=function(a,b){a.executionCost=b-Fb(a,d);A(a,"executionCost",true,true)};a.getResourceCost=function(a){for(var b=0,a=Ma(a,e),f=0;f<a.length;f++){var g=a[f],h;typeof d.specificResourceUsageCosts!==c&&(h=aa(d.specificResourceUsageCosts,resource))>=0?b=b+d.specificResourceUsageCosts[h].value*g.value:typeof d.defaultResourceUsageCost!==c&&(b=b+d.defaultResourceUsageCost*g.value);var k=g.key;if(!k.hasChildren||!(typeof k.isSummaryEnabled===c||k.isSummaryEnabled)){k=ga(k,d)/3600000;typeof d.specificResourceHourCosts!==
c&&(h=aa(d.specificResourceHourCosts,resource))>=0?b=b+d.specificResourceHourCosts[h].value*k*g.value:typeof d.defaultResourceHourCost!==c&&(b=b+d.defaultResourceHourCost*k*g.value)}}return b};a.getProjectCost=function(){for(var a=0,b=0;b<e.length;b++){var c=e[b];c.parent==null&&(a=a+Eb(c,d))}return a};a.getScheduleChartItems=function(a){var b=[],a=typeof a!==c?typeof a==="array"?a:[a]:typeof d.assignableResources!==c?d.assignableResources:[],f,g=Oa(e),h;for(h=0;h<g.length;h++){f=g[h];a.indexOf(f)<
0&&a.push(f)}for(h=0;h<a.length;h++){f=a[h];g={tag:f,content:f,ganttChartItems:[]};f=Ma(f,e);for(var k=0;k<f.length;k++){var r=f[k],n=r.key,r={tag:n,content:n.content,start:n.start,finish:n.finish,completedFinish:n.completedFinish,isMilestone:n.isMilestone,schedule:D(n),assignmentsContent:r.value!=1?Math.round(r.value*10000)/100+"%":"",minStart:n.minStart,maxStart:n.maxStart,minFinish:n.minFinish,maxFinish:n.maxFinish,isHidden:n.isHidden,isBarVisible:n.isBarVisible,isBarReadOnly:n.isBarReadOnly,isReadOnly:n.isReadOnly,
isRelativeToTimezone:n.isRelativeToTimezone};g.ganttChartItems.push(r)}b.push(g)}return b};a.getAllocations=function(a){return Ac(a,e)};a.getLoadChartItems=function(a){var b=[];typeof a===c?a=Oa(e):typeof a!=="array"&&(a=[a]);for(var f=0;f<a.length;f++){for(var g=a[f],h={tag:g,content:g,ganttChartItems:[]},k=Ac(g,e),r=0;r<k.length;r++){var n=k[r],q=1;if(typeof d.resourceQuantities!==c){var s=aa(d.resourceQuantities,g);if(s>=0)q=d.resourceQuantities[s].value}s=d.maxLoadChartDisplayedResourceQuantity;
typeof s===c&&(s=100);q>s&&(q=s);h.ganttChartItems.push({start:n.key.start,finish:n.key.finish,units:n.value/q,content:Math.round(n.value*10000)/100+"%",isRelativeToTimezone:false})}b.push(h)}return b};a.getFilteredGanttChartItems=function(a){for(var a=[a],b=[],d=0;d<a.length;d++){var f=a[d],g=[];if(typeof a===c)a=Oa(e);else if(typeof a!=="array")var h=Ma(f,e);for(f=0;f<h.length;f++){var k=h[f].key;if((!k.hasChildren||!(typeof k.isSummaryEnabled===c||k.isSummaryEnabled))&&!(b.indexOf(k)>=0)){g.push({tag:k,
content:k.content,start:k.start,finish:k.finish,completedFinish:k.completedFinish,isMilestone:k.isMilestone,assignmentsContent:a.length>1?k.assignmentsContent:h[f].value!=1?Math.round(h[f].value*10000)/100+"%":"",minStart:k.minStart,maxStart:k.maxStart,minFinish:k.minFinish,maxFinish:k.maxFinish,isHidden:k.isHidden,isBarVisible:k.isBarVisible,isBarReadOnly:k.isBarReadOnly,isReadOnly:true,isRelativeToTimezone:k.isRelativeToTimezone});b.push(k)}}}return g};a.copyCommonSettings=function(a){if(typeof a!==
c){a.target=d.target;a.theme=d.theme;a.border=d.border;a.containerClass=d.containerClass;a.containerStyle=d.containerStyle;a.isGridVisible=d.isGridVisible;a.gridWidth=d.gridWidth;a.chartWidth=d.chartWidth;a.isSplitterEnabled=d.isSplitterEnabled;a.splitterWidth=d.splitterWidth;a.splitterBackground=d.splitterBackground;a.minGridWidth=d.minGridWidth;a.minChartWidth=d.minChartWidth;a.headerBackground=d.headerBackground;a.headerHeight=d.headerHeight;a.indentationLevelWidth=d.indentationLevelWidth;a.gridLines=
d.gridLines;a.horizontalGridLines=d.horizontalGridLines;a.verticalGridLines=d.verticalGridLines;a.horizontalChartLines=d.horizontalChartLines;a.displayedTime=d.displayedTime;a.currentTime=d.currentTime;a.timelineStart=d.timelineStart;a.timelineFinish=d.timelineFinish;a.scales=d.scales;a.updateScale=d.updateScale;a.hourWidth=d.hourWidth;a.workingWeekStart=d.workingWeekStart;a.workingWeekFinish=d.workingWeekFinish;a.visibleDayStart=d.visibleDayStart;a.visibleDayFinish=d.visibleDayFinish;a.visibleWeekStart=
d.visibleWeekStart;a.visibleWeekFinish=d.visibleWeekFinish;a.specialNonworkingDays=d.specialNonworkingDays;a.months=d.months;a.daysOfWeek=d.daysOfWeek;a.weekStartDay=d.weekStartDay;a.dateFormatter=d.dateFormatter;a.dateTimeFormatter=d.dateTimeFormatter;a.dateTimeParser=d.dateTimeParser;a.isRelativeToTimezone=d.isRelativeToTimezone}};a.getPertChartItems=function(a,b,f,g,h,k,r){var n=a,q=b,a=f,s=h,h=k,v=r?r:e;if(typeof n===c||n<0)n=Number.MAX_VALUE;typeof q===c&&(q="Start");typeof a===c&&(a="Finish");
typeof s===c&&(s=" completed");typeof h===c&&(h=" starting");for(var x=new Date((new Date(10000,0,1)).valueOf()-1),r=[],p,F,z,A,k=[],b=0;b<v.length;b++){f=v[b];f.indentation<=n&&(!f.hasChildren||!(typeof f.isSummaryEnabled===c||f.isSummaryEnabled||typeof f.isBarVisible!==c&&!f.isBarVisible)||f.indentation==n)&&k.push({key:f,value:[]})}for(b=0;b<k.length;b++){var f=k[b].key,u=[f];if(f.indentation==n&&f.hasChildren&&(typeof f.isSummaryEnabled===c||f.isSummaryEnabled||typeof f.isBarVisible!==c&&!f.isBarVisible))for(p=
0;p<v.length;p++){F=v[p];Za(F,f)&&u.push(F)}var E=k[b].value;for(p=0;p<u.length;p++)for(var B=u[p];B!=null;){if(typeof B.predecessors!==c)for(z=0;z<B.predecessors.length;z++)if(!(typeof B.predecessors[z].item===c||typeof B.predecessors[z].dependencyType!==c&&B.predecessors[z].dependencyType!=""&&B.predecessors[z].dependencyType!="FinishStart"&&B.predecessors[z].dependencyType!="FS")){for(var C=A=B.predecessors[z].item;C!=null&&aa(k,C)<0;)C=C.parent;if(C!=f){var G=[];if(C!=null)G.push(C);else for(C=
0;C<k.length;C++){F=k[C].key;Za(F,A)&&G.push(F)}for(C=0;C<G.length;C++){A=G[C];E.indexOf(A)<0&&(n<Number.MAX_VALUE&&Gb(k,A,f)||E.push(A))}}}B=B.parent}}C=0;z=p=null;for(b=0;b<v.length;b++){f=v[b];if(p==null||f.start<p)p=f.start;if(z==null||f.finish>z)z=f.finish}p==null&&(p=x);q={content:q,displayedText:(C++).toString(),displayedRowIndex:0,displayedColumnIndex:0};r.push(q);v=[q];n=[];for(b=0;b<k.length;b++)k[b].value.length==0&&n.push(k[b].key);if(n.length>0){v=[];for(b=0;b<n.length;b++){f=n[b];z=
q;x=(C++).toString();if(f.start>p){z={content:f.content!=null?f.content.toString()+h:null,displayedText:x,predecessors:[]};r.push(z);z.predecessors.push({item:q,content:g,isEffortVirtual:true})}x={content:f.content+s,displayedText:x+(z!=q?"'":""),predecessors:[],tag:f};v.push(x);r.push(x);x.predecessors.push({item:z,content:Ga(f),displayedText:f.content!=null?f.content.toString():null,effort:N(f.start,f.finish,d,D(f)),tag:f})}do{u=[];for(b=0;b<v.length;b++)u.push(v[b]);f=false;for(b=0;b<v.length;b++){n=
v[b];x=n.tag;E=[];for(p=0;p<k.length;p++)k[p].value.indexOf(x)>=0&&E.push(k[p].key);if(E.length>0){u.splice(u.indexOf(n),1);for(p=0;p<E.length;p++){f=E[p];x=null;for(z=0;z<r.length;z++)if(r[z].tag==f){x=r[z];break}if(x==null){x={content:f.content+s,displayedText:(C++).toString(),predecessors:[],tag:f};u.push(x);r.push(x)}x.predecessors.push({item:n,content:Ga(f),displayedText:f.content!=null?f.content.toString():null,effort:N(f.start,f.finish,d,D(f)),tag:f})}f=true}}v=u}while(f)}f={content:a,displayedText:(C++).toString(),
predecessors:[],displayedRowIndex:0};r.push(f);f=f.predecessors;for(b=0;b<v.length;b++)f.push({item:v[b]});for(p=0;p<k.length;p++){f=k[p].key;n=null;for(z=0;z<r.length;z++)if(r[z].tag==f){n=r[z];break}if(n!=null){b=[];if(typeof n.predecessors!==c)for(z=0;z<n.predecessors.length;z++)n.predecessors[z].tag==f&&b.push(n.predecessors[z]);if(b.length>1){s={content:f.content!=null?f.content.toString()+h:null,displayedText:n.displayedText,predecessors:[]};r.splice(r.indexOf(n),0,s);C=s.predecessors;for(z=
0;z<b.length;z++){a=b[z];n.predecessors.splice(n.predecessors.indexOf(a),1);C.push({item:a.item,content:g,isEffortVirtual:true})}n.predecessors.push({item:s,content:Ga(f),displayedText:f.content!=null?f.content.toString():null,effort:N(f.start,f.finish,d,D(f)),tag:f});n.displayedText=n.displayedText+"'"}else if(b.length==1){a=b[0];b=a.item.tag;if(b!=null&&f.start>sa(b.finish,d)){z={content:f.content!=null?f.content.toString()+h:null,displayedText:n.displayedText,predecessors:[]};r.splice(r.indexOf(n),
0,z);z.predecessors.push({item:a.item,content:g,isEffortVirtual:true});n.predecessors.splice(0,n.predecessors.length);n.predecessors.push({item:z,content:Ga(f),displayedText:f.content!=null?f.content.toString():null,effort:N(f.start,f.finish,d,D(f)),tag:f});n.displayedText=n.displayedText+"'"}}}}for(b=0;b<k.length;b++)if(k[b].key.isMilestone){f=k[b].key;n=null;for(z=0;z<r.length;z++)if(r[z].tag==f){n=r[z];break}if(n!=null&&typeof n.predecessors!==c&&n.predecessors.length==1){a=n.predecessors[0];if(a.item!=
q&&a.tag==f){n.predecessors.splice(0,1);x=a.item;for(z=0;z<x.predecessors.length;z++){g=x.predecessors[z];a.item.predecessors.splice(a.item.predecessors.indexOf(g),1);n.predecessors.push(g)}for(z=0;z<r.length;z++){g=r[z];if(g.predecessors)for(C=0;C<g.predecessors.length;C++){h=g.predecessors[C];if(h.item==x)h.item=n}}n.content=f.content!=null?f.content.toString():null;n.displayedText=n.displayedText.replace("'","");r.splice(r.indexOf(x),1)}}}return r};a.getNetworkDiagramItems=function(a,b,f,g){var h=
a,k=b,n=f,r=g?g:e;if(typeof h===c||h<0)h=Number.MAX_VALUE;typeof k===c&&(k="Start");typeof n===c&&(n="Finish");for(var g=new Date(1900,0,1),f=new Date((new Date(10000,0,1)).valueOf()-1),b=[],q,s,v,p,x,z,F=[],a=0;a<r.length;a++){q=r[a];q.indentation<=h&&(!q.hasChildren||!(typeof q.isSummaryEnabled===c||q.isSummaryEnabled||typeof q.isBarVisible!==c&&!q.isBarVisible)||q.indentation==h)&&F.push({key:q,value:[]})}for(a=0;a<F.length;a++){q=F[a].key;x=[q];if(q.indentation==h&&q.hasChildren&&(typeof q.isSummaryEnabled===
c||q.isSummaryEnabled||typeof q.isBarVisible!==c&&!q.isBarVisible))for(s=0;s<r.length;s++){v=r[s];Za(v,q)&&x.push(v)}var A=F[a].value;for(s=0;s<x.length;s++)for(var u=x[s];u!=null;){if(typeof u.predecessors!==c)for(p=0;p<u.predecessors.length;p++)if(!(typeof u.predecessors[p].item===c||typeof u.predecessors[p].dependencyType!==c&&u.predecessors[p].dependencyType!=""&&u.predecessors[p].dependencyType!="FinishStart"&&u.predecessors[p].dependencyType!="FS")){for(v=z=u.predecessors[p].item;v!=null&&aa(F,
v)<0;)v=v.parent;if(v!=q){var E=[];if(v!=null)E.push(v);else for(var B=0;B<F.length;B++){v=F[B].key;Za(v,z)&&E.push(v)}for(z=0;z<E.length;z++){v=E[z];A.indexOf(v)<0&&(h<Number.MAX_VALUE&&Gb(F,v,q)||A.push(v))}}}u=u.parent}}z=s=null;for(a=0;a<r.length;a++){q=r[a];if(s==null||q.start<s)s=q.start;if(z==null||q.finish>z)z=q.finish}s==null&&(s=f);z==null&&(z=g);k={content:k,displayedText:k,earlyStart:s,earlyFinish:s,lateStart:f,lateFinish:f,isMilestone:true,effort:0,displayedRowIndex:0,displayedColumnIndex:0};
b.push(k);h=[k];s=[];for(a=0;a<F.length;a++)F[a].value.length==0&&s.push(F[a].key);if(s.length>0){h=[];for(a=0;a<s.length;a++){q=s[a];p={content:Ga(q),displayedText:q.content,earlyStart:g,earlyFinish:g,lateStart:f,lateFinish:f,effort:N(q.start,q.finish,d,D(q)),isMilestone:q.isMilestone,predecessors:[],tag:q};h.push(p);b.push(p);p.earlyStart=sa(k.earlyFinish,d);p.earlyFinish=Q(p.earlyStart,p.effort,d);p.predecessors.push({item:k,tag:q})}do{A=[];for(a=0;a<h.length;a++)A.push(h[a]);p=false;for(a=0;a<
h.length;a++){r=h[a];q=r.tag;u=[];for(s=0;s<F.length;s++)F[s].value.indexOf(q)>=0&&u.push(F[s].key);if(u.length>0){A.splice(A.indexOf(r),1);for(s=0;s<u.length;s++){q=u[s];x=null;for(p=0;p<b.length;p++)if(b[p].tag==q){x=b[p];break}if(x==null){x={content:Ga(q),displayedText:q.content,earlyStart:g,earlyFinish:g,lateStart:f,lateFinish:f,effort:N(q.start,q.finish,d,D(q)),isMilestone:q.isMilestone,predecessors:[],tag:q};A.push(x);b.push(x)}p=sa(r.earlyFinish,d);if(p>x.earlyStart){x.earlyStart=p;x.earlyFinish=
Q(x.earlyStart,x.effort,d)}x.predecessors.push({item:r,tag:q})}p=true}}h=A}while(p)}n={content:n,displayedText:n,earlyStart:g,earlyFinish:g,lateStart:z,lateFinish:z,isMilestone:true,effort:0,predecessors:[],displayedRowIndex:0};b.push(n);s=n.predecessors;for(a=0;a<h.length;a++){F=h[a];p=F.earlyFinish;if(p>n.earlyStart){n.earlyStart=p;n.earlyFinish=n.earlyStart}s.push({item:F})}for(h=[n];h.length>0;){F=[];for(a=0;a<h.length;a++){r=h[a];if(typeof r.predecessors!==c)for(s=0;s<r.predecessors.length;s++){z=
r.predecessors[s];x=z.item;q=false;for(p=0;p<F.length;p++)if(F[p]==x){q=true;break}q||F.push(x);q=r.lateStart;if(q<x.lateFinish){x.lateFinish=x.effort>0?P(q,d,false,true,void 0):q;x.lateStart=Va(x.effort,x.lateFinish,d)}}}h=F}if(b.length>2)for(a=0;a<b.length;a++){q=b[a];q.slack=N(q.earlyStart,q.lateStart,d)}else{k.earlyStart=g;k.earlyFinish=g;k.lateStart=g;k.lateFinish=g;n.earlyStart=f;n.earlyFinish=f;n.lateStart=f;n.lateFinish=f}for(a=0;a<b.length;a++)b[a].isRelativeToTimezone=false;return b};a.getOutputDate=
Bc;a.getInputDate=Cc;a.itemDependsOf=function(a,b){return Fa(a,b)}};return{initialize:ba,initializeItems:H,refresh:L,getDefaultColumns:p,getDefaultCollapsedToggleButtonTemplate:Hb,getDefaultExpandedToggleButtonTemplate:Ib,getDefaultScales:Jb,getDefaultStyleDefinitionTemplate:Kb,getDefaultStandardTaskTemplate:Lb,getDefaultSummaryTaskTemplate:Mb,getDefaultMilestoneTaskTemplate:Nb,getDefaultItemTemplate:Ob,getDefaultAssignmentsTemplate:Pb,getDefaultDependencyLineTemplate:Qb,getDefaultPredecessorItemTemplate:Rb,
initializeTaskDraggingThumbs:function(a,e,d,b,c,f,h,m){c.ganttChartView.initializeTaskDraggingThumbs(a,e,d,b,c,f,h,m)},initializeDependencyDraggingThumb:function(a,e,d,b,c){d.ganttChartView.initializeDependencyDraggingThumb(a,e,d,b,c)},getWorkingTime:ic,getEffort:N,getFinish:Q,getStart:Va,getCompletion:gb,getCompletedFinish:jc,getWeekStart:function(a,e){return xa(a,e)},getWeekFinish:nb,defaultDateTimeFormatter:function(a){return ta(x(a))},defaultDateFormatter:function(a){return da(x(a))},defaultDateTimeParser:function(a){return k(r(a))},
textColumnTemplateBase:function(a,e,d){e=e();if(typeof e===c||typeof d!==c&&!d())e="";return a.createTextNode(e)},textInputColumnTemplateBase:function(a,e,d,b,g,f,h){var m=a.createElement("input");m.setAttribute("type","text");a=d();typeof a===c&&(a="");m.setAttribute("value",a);a="";typeof f!==c&&!f()&&(a="; display: none");f="";typeof h!==c&&h()&&(f="; font-weight: bold");m.setAttribute("style","background-color: Transparent; width: "+e+"px; border-width: 0px; padding: 0px"+a+f);typeof g!==c&&!g()&&
m.setAttribute("disabled","true");m.addEventListener("change",function(){b(m.value)},true);m.addEventListener("keypress",function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();b(m.value)}},true);m.addEventListener("focus",function(){m.style.backgroundColor="White"},true);m.addEventListener("blur",function(){m.style.backgroundColor="Transparent"},true);return m},optionSelectColumnTemplateBase:function(a,e,d,b,g,f,h,m){var l=a.createElement("select"),j=function(b,d){var e=a.createElement("option");
e.appendChild(a.createTextNode(b));b==d&&e.setAttribute("selected",true);l.appendChild(e)},b=b();typeof b===c&&(b="");j("",b);for(var d=d(),k=0;k<d.length;k++)j(d[k],b);j="";typeof h!==c&&!h()&&(j="; display: none");h="";typeof m!==c&&m()&&(h="; font-weight: bold");l.setAttribute("style","background-color: Transparent; width: "+e+"px; border-width: 0px; padding: 0px"+j+h);typeof f!==c&&!f()&&l.setAttribute("disabled","true");l.addEventListener("change",function(){g(l.value)},true);l.addEventListener("keypress",
function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();g(l.value)}},true);l.addEventListener("focus",function(){l.style.backgroundColor="White"},true);l.addEventListener("blur",function(){l.style.backgroundColor="Transparent"},true);return l},numberInputColumnTemplateBase:function(a,e,d,b,c,f,h){return DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase(a,e,function(){var a=d();return!isNaN(a)?a:""},function(a){a=parseFloat(a);isNaN(a)&&(a=0);b(a)},c,f,h)},percentInputColumnTemplateBase:function(a,
e,d,b,c,f,h){return DlhSoft.Controls.GanttChartView.numberInputColumnTemplateBase(a,e,d,function(a){a<0&&(a=0);a>100&&(a=100);b(a)},c,f,h)},timeSpanInputColumnTemplateBase:function(a,e,d,b,g,f,h,k){typeof g===c&&(g=1);return DlhSoft.Controls.GanttChartView.numberInputColumnTemplateBase(a,e,function(){var a=d()/(3600000*g);return Math.round(a*100)/100},function(a){a=parseFloat(a);a<0&&(a=0);b(a*3600000*g)},f,h,k)},datePickerInputColumnTemplateBase:function(a,e,d,b,g,f,h,k,l,j,o,n,r,s){o||(o=["Su",
"Mo","Tu","We","Th","Fr","Sa"]);var p=n,q=r;if(!n)n=DlhSoft.Controls.GanttChartView.defaultDateTimeFormatter;if(!r)r=DlhSoft.Controls.GanttChartView.defaultDateTimeParser;var v=a.createElement("input");v.setAttribute("type","text");d=d();typeof d===c?d="":d!=null&&(d=n(d));v.setAttribute("value",d);DlhSoft.Controls.DatePicker&&v.addEventListener("focus",function(){var b=DlhSoft.Controls.DatePicker.get(v);if(!b||!b.isOpen){var d=0,e=0;try{d=v.selectionStart;e=v.selectionEnd}catch(c){}b=DlhSoft.Controls.DatePicker.initialize(v,
void 0,{inputStyle:null,defaultTimeOfDay:k,isDropDownButtonVisible:false,popupStyle:"margin-top: 1px; background-color: White; border: 1px solid #e0e0e0",calendarSelectorLevels:l,months:j,daysOfWeek:$a(o),weekStart:s,dateTimeFormatter:p,dateTimeParser:q},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");b.openDropDown();setTimeout(function(){try{v.selectionStart=d;v.selectionEnd=e}catch(a){}},100);navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)==
null?setTimeout(function(){try{v.focus()}catch(a){}},100):a.createEvent&&setTimeout(function(){var b=a.createEvent("MouseEvents");b.initEvent("blur",true,false);v.dispatchEvent(b)})}},true);n="";typeof f!==c&&!f()&&(n="; display: none");f="";typeof h!==c&&h()&&(f="; font-weight: bold");v.setAttribute("style","background-color: Transparent; width: "+e+"px; border-width: 0px; padding: 0px"+n+f);typeof g!==c&&!g()&&v.setAttribute("disabled","true");var x=function(){var a=v.value,a=a!=""?r(a):null;b(a)};
v.addEventListener("change",function(){x()},true);v.addEventListener("keypress",function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();x()}},true);v.addEventListener("focus",function(){v.style.backgroundColor="White"},true);v.addEventListener("blur",function(){v.style.backgroundColor="Transparent"},true);return v},dateTimePickerInputColumnTemplateBase:function(a,e,d,b,g,f,h,k,l,j,o,n,r,s){o||(o=["Su","Mo","Tu","We","Th","Fr","Sa"]);var v=n,q=r;if(!n)n=DlhSoft.Controls.GanttChartView.defaultDateTimeFormatter;
if(!r)r=DlhSoft.Controls.GanttChartView.defaultDateTimeParser;var p=a.createElement("input");p.setAttribute("type","text");d=d();typeof d===c?d="":d!=null&&(d=n(d));p.setAttribute("value",d);(DlhSoft.Controls.DateTimePicker||DlhSoft.Controls.DatePicker)&&p.addEventListener("focus",function(){var b=(DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).get(p);if(!b||!b.isOpen){var d=0,e=0;try{d=p.selectionStart;e=p.selectionEnd}catch(c){}b=(DlhSoft.Controls.DateTimePicker?
DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).initialize(p,void 0,{inputStyle:null,defaultTimeOfDay:k,isDropDownButtonVisible:false,popupStyle:"margin-top: 1px; background-color: White; border: 1px solid #e0e0e0",calendarSelectorLevels:l,months:j,daysOfWeek:$a(o),weekStart:s,dateTimeFormatter:v,dateTimeParser:q},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");b.openDropDown();setTimeout(function(){try{p.selectionStart=
d;p.selectionEnd=e}catch(a){}},100);navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)==null?setTimeout(function(){try{p.focus()}catch(a){}},100):a.createEvent&&setTimeout(function(){var b=a.createEvent("MouseEvents");b.initEvent("blur",true,false);p.dispatchEvent(b)})}},true);n="";typeof f!==c&&!f()&&(n="; display: none");f="";typeof h!==c&&h()&&(f="; font-weight: bold");p.setAttribute("style","background-color: Transparent; width: "+e+"px; border-width: 0px; padding: 0px"+n+f);typeof g!==c&&
!g()&&p.setAttribute("disabled","true");var x=function(){var a=p.value,a=a!=""?r(a):null;b(a)};p.addEventListener("change",function(){x()},true);p.addEventListener("keypress",function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();x()}},true);p.addEventListener("focus",function(){p.style.backgroundColor="White"},true);p.addEventListener("blur",function(){p.style.backgroundColor="Transparent"},true);return p},multiSelectorComboBoxInputColumnTemplateBase:function(a,e,d,b,g,f,h,k){var l=
a.createElement("input");l.setAttribute("type","text");b=b();typeof b===c&&(b="");l.setAttribute("value",b);DlhSoft.Controls.MultiSelectorComboBox&&l.addEventListener("focus",function(){var b=DlhSoft.Controls.MultiSelectorComboBox.get(l);if(!b||!b.isOpen&&b.availableChoices.length>0){var b=d(),e=0,c=0;try{e=l.selectionStart;c=l.selectionEnd}catch(f){}b=DlhSoft.Controls.MultiSelectorComboBox.initialize(l,b,void 0,{inputStyle:null,autoAppendAvailableChoices:false,isDropDownButtonVisible:false,popupStyle:"margin-top: 1px; background-color: White; border: 1px solid #e0e0e0; color: Black; font-size: small; max-height: 188px; overflow-y: auto"},
"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");b.openDropDown();setTimeout(function(){try{l.selectionStart=e;l.selectionEnd=c}catch(a){}},100);navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)==null?setTimeout(function(){try{l.focus()}catch(a){}},100):a.createEvent&&setTimeout(function(){var b=a.createEvent("MouseEvents");b.initEvent("blur",true,false);l.dispatchEvent(b)})}},true);b="";typeof h!==c&&
!h()&&(b="; display: none");h="";typeof k!==c&&k()&&(h="; font-weight: bold");l.setAttribute("style","background-color: Transparent; width: "+e+"px; border-width: 0px; padding: 0px"+b+h);typeof f!==c&&!f()&&l.setAttribute("disabled","true");l.addEventListener("change",function(){g(l.value)},true);l.addEventListener("keypress",function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();g(l.value)}},true);l.addEventListener("focus",function(){l.style.backgroundColor="White"},true);l.addEventListener("blur",
function(){l.style.backgroundColor="Transparent"},true);return l},dateTimeInputColumnTemplateBase:function(a,e,d,b,c,f,h){return DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase(a,e,function(){var a=d();return a!=null?DlhSoft.Controls.GanttChartView.defaultDateTimeFormatter(a):""},function(a){a=a!=""?DlhSoft.Controls.GanttChartView.defaultDateTimeParser(a):null;b(a)},c,f,h)},getIndexColumnTemplate:function(){return function(a){var e=a.ganttChartView;return DlhSoft.Controls.GanttChartView.textColumnTemplateBase(e.ownerDocument,
function(){return e.getItemIndexString(a)})}},getWbsColumnTemplate:function(a){return function(e){var d=e.ganttChartView;return DlhSoft.Controls.GanttChartView.textColumnTemplateBase(d.ownerDocument,function(){return d.getItemWbsIndexString(e,a)})}},getEffortColumnTemplate:function(a,e,d){typeof e===c&&(e=1);return function(b){var g=b.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(g.ownerDocument,a,function(){return g.getItemEffort(b)},function(a){g.setItemEffort(b,
a);g.refreshItemPath(b)},e,function(){return!(b.isReadOnly||d||typeof b.ganttChartView!==c&&typeof b.ganttChartView.settings!==c&&(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))&&!(b.hasChildren&&(typeof b.isSummaryEnabled===c||b.isSummaryEnabled))},function(){return!(b.isMilestone||typeof b.isBarVisible!==c&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled===c||b.isSummaryEnabled)})}},getDurationColumnTemplate:function(a,e,d){typeof e===
c&&(e=1);return function(b){var g=b.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(g.ownerDocument,a,function(){return g.getItemDuration(b)},function(a){g.setItemDuration(b,a);g.refreshItemPath(b)},e,function(){return!(b.isReadOnly||d||typeof b.ganttChartView!==c&&typeof b.ganttChartView.settings!==c&&(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))&&!(b.hasChildren&&(typeof b.isSummaryEnabled===c||b.isSummaryEnabled))},function(){return!(b.isMilestone||
typeof b.isBarVisible!==c&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled===c||b.isSummaryEnabled)})}},getTotalEffortColumnTemplate:function(a,e,d){typeof e===c&&(e=1);return function(b){var g=b.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(g.ownerDocument,a,function(){return g.getItemTotalEffort(b)},function(a){g.setItemTotalEffort(b,a);g.refreshItemPath(b)},e,function(){return!(b.isReadOnly||d||typeof b.ganttChartView!==c&&typeof b.ganttChartView.settings!==
c&&(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))&&!(b.hasChildren&&(typeof b.isSummaryEnabled===c||b.isSummaryEnabled))},function(){return!(b.isMilestone||typeof b.isBarVisible!==c&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled===c||b.isSummaryEnabled)})}},getCompletedEffortColumnTemplate:function(a,e,d){typeof e===c&&(e=1);return function(b){var g=b.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(g.ownerDocument,
a,function(){return g.getItemCompletedEffort(b)},function(a){g.setItemCompletedEffort(b,a);g.refreshItemPath(b)},e,function(){return!(b.isReadOnly||d||typeof b.ganttChartView!==c&&typeof b.ganttChartView.settings!==c&&(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))&&!(b.hasChildren&&(typeof b.isSummaryEnabled===c||b.isSummaryEnabled))},function(){return!(b.isMilestone||typeof b.isBarVisible!==c&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled===
c||b.isSummaryEnabled)})}},getTotalCompletedEffortColumnTemplate:function(a,e,d){typeof e===c&&(e=1);return function(b){var g=b.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(g.ownerDocument,a,function(){return g.getItemTotalCompletedEffort(b)},function(a){g.setItemTotalCompletedEffort(b,a);g.refreshItemPath(b)},e,function(){return!(b.isReadOnly||d||typeof b.ganttChartView!==c&&typeof b.ganttChartView.settings!==c&&(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))&&
!(b.hasChildren&&(typeof b.isSummaryEnabled===c||b.isSummaryEnabled))},function(){return!(b.isMilestone||typeof b.isBarVisible!==c&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled===c||b.isSummaryEnabled)})}},getCompletionColumnTemplate:function(a,e){return function(d){var b=d.ganttChartView;return DlhSoft.Controls.GanttChartView.percentInputColumnTemplateBase(b.ownerDocument,a,function(){var a=b.getItemCompletion(d)*100;return Math.round(a*100)/100},function(a){if(typeof d.gridItem!==
c&&typeof d.completedInput!==c){var e=d.completedInput;typeof e.changeEventListener!==c&&e.removeEventListener("change",e.changeEventListener,true);delete d.completedInput}a=parseFloat(a)/100;b.setItemCompletion(d,a);b.refreshItemPath(d)},function(){return!(d.isReadOnly||e||typeof d.ganttChartView!==c&&typeof d.ganttChartView.settings!==c&&(d.ganttChartView.settings.isReadOnly||d.ganttChartView.settings.isGridReadOnly))&&!(d.hasChildren&&(typeof d.isSummaryEnabled===c||d.isSummaryEnabled))},function(){return!(d.isMilestone||
typeof d.isBarVisible!==c&&!d.isBarVisible)},function(){return d.hasChildren&&(typeof d.isSummaryEnabled===c||d.isSummaryEnabled)})}},getCostColumnTemplate:function(a,e){return function(d){var b=d.ganttChartView;return DlhSoft.Controls.GanttChartView.numberInputColumnTemplateBase(b.ownerDocument,a,function(){return b.getItemCost(d)},function(a){b.setItemCost(d,a);b.refreshItemPath(d)},function(){return!(d.isReadOnly||e||typeof d.ganttChartView!==c&&typeof d.ganttChartView.settings!==c&&(d.ganttChartView.settings.isReadOnly||
d.ganttChartView.settings.isGridReadOnly))},void 0,function(){return d.hasChildren&&(typeof d.isSummaryEnabled===c||d.isSummaryEnabled)})}},getPredecessorsColumnTemplate:function(a,e,d){return function(b){var g=b.ganttChartView;return DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase(g.ownerDocument,a,function(){return g.getItemPredecessorsString(b,d)},function(a){g.setItemPredecessorsString(b,a,d);g.refreshItemGraph(b)},function(){return!(b.isReadOnly||e||typeof b.ganttChartView!==c&&typeof b.ganttChartView.settings!==
c&&(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))},function(){return!(typeof b.isBarVisible!==c&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled===c||b.isSummaryEnabled)})}},getAssignmentSelectorColumnTemplate:function(a,e,d){return function(b){var g=b.ganttChartView;return DlhSoft.Controls.GanttChartView.optionSelectColumnTemplateBase(g.ownerDocument,a,function(){return typeof e==="array"?e:e(b)},function(){return b.assignmentsContent},
function(a){b.assignmentsContent=a;g.onItemPropertyChanged(b,"assignmentsContent",true,true);g.refreshItem(b)},function(){return!(b.isReadOnly||d||typeof b.ganttChartView!==c&&typeof b.ganttChartView.settings!==c&&(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))},function(){return!(typeof b.isBarVisible!==c&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled===c||b.isSummaryEnabled)})}},getBaselineStartColumnTemplate:function(a,e,d,b,g,f,
h,m,l){typeof e===c&&(e=true);typeof d===c&&(d=true);return function(j){var o=j.ganttChartView;return(e?d?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(o.ownerDocument,a,function(){return j.baselineStart!=null?x(j.baselineStart):void 0},function(a){a!=null?j.baselineStart=k(a):delete j.baselineStart;o.onItemPropertyChanged(j,"baselineStart",true,
true);o.refreshItem(j)},function(){return!(j.isReadOnly||m||typeof j.ganttChartView!==c&&typeof j.ganttChartView.settings!==c&&(j.ganttChartView.settings.isReadOnly||j.ganttChartView.settings.isGridReadOnly))},function(){return!(typeof j.isBarVisible!==c&&!j.isBarVisible)},function(){return j.hasChildren&&(typeof j.isSummaryEnabled===c||j.isSummaryEnabled)},b,g,f,h,function(a){return a==null?"":o.settings.dateTimeFormatter(a)},function(a){return a==""?null:o.settings.dateTimeParser(a)},l)}},getBaselineFinishColumnTemplate:function(a,
e,d,b,g,f,h,m,l){typeof e===c&&(e=true);typeof d===c&&(d=true);return function(j){var o=j.ganttChartView;return(e?d?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(o.ownerDocument,a,function(){return j.baselineFinish!=null?x(j.baselineFinish):void 0},function(a){a!=null?j.baselineFinish=k(a):delete j.baselineFinish;o.onItemPropertyChanged(j,"baselineFinish",
true,true);o.refreshItem(j)},function(){return!(j.isReadOnly||m||typeof j.ganttChartView!==c&&typeof j.ganttChartView.settings!==c&&(j.ganttChartView.settings.isReadOnly||j.ganttChartView.settings.isGridReadOnly))},function(){return!(j.isMilestone||typeof j.isBarVisible!==c&&!j.isBarVisible)},function(){return j.hasChildren&&(typeof j.isSummaryEnabled===c||j.isSummaryEnabled)},b?b:86400000,g,f,h,function(a){return a==null?"":o.settings.dateTimeFormatter(a)},function(a){return a==""?null:o.settings.dateTimeParser(a)},
l)}},getMinStartColumnTemplate:function(a,e,d,b,g,f,h,m,l){typeof e===c&&(e=true);typeof d===c&&(d=true);return function(j){var o=j.ganttChartView;return(e?d?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(o.ownerDocument,a,function(){return j.minStart!=null?x(j.minStart):void 0},function(a){a!=null?j.minStart=k(a):delete j.minStart;o.onItemPropertyChanged(j,
"minStart",true,true);o.refreshItem(j)},function(){return!(j.isReadOnly||m||typeof j.ganttChartView!==c&&typeof j.ganttChartView.settings!==c&&(j.ganttChartView.settings.isReadOnly||j.ganttChartView.settings.isGridReadOnly))&&!(j.hasChildren&&(typeof j.isSummaryEnabled===c||j.isSummaryEnabled))},function(){return!(typeof j.isBarVisible!==c&&!j.isBarVisible)},function(){return j.hasChildren&&(typeof j.isSummaryEnabled===c||j.isSummaryEnabled)},b,g,f,h,function(a){return a==null?"":o.settings.dateTimeFormatter(a)},
function(a){return a==""?null:o.settings.dateTimeParser(a)},l)}},getMaxStartColumnTemplate:function(a,e,d,b,g,f,h,m,l){typeof e===c&&(e=true);typeof d===c&&(d=true);return function(j){var o=j.ganttChartView;return(e?d?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(o.ownerDocument,a,function(){return j.maxStart!=null?x(j.maxStart):void 0},function(a){a!=
null?j.maxStart=k(a):delete j.maxStart;o.onItemPropertyChanged(j,"maxStart",true,true);o.refreshItem(j)},function(){return!(j.isReadOnly||m||typeof j.ganttChartView!==c&&typeof j.ganttChartView.settings!==c&&(j.ganttChartView.settings.isReadOnly||j.ganttChartView.settings.isGridReadOnly))&&!(j.hasChildren&&(typeof j.isSummaryEnabled===c||j.isSummaryEnabled))},function(){return!(typeof j.isBarVisible!==c&&!j.isBarVisible)},function(){return j.hasChildren&&(typeof j.isSummaryEnabled===c||j.isSummaryEnabled)},
b?b:86400000,g,f,h,function(a){return a==null?"":o.settings.dateTimeFormatter(a)},function(a){return a==""?null:o.settings.dateTimeParser(a)},l)}},getMinFinishColumnTemplate:function(a,e,d,b,g,f,h,m,l){typeof e===c&&(e=true);typeof d===c&&(d=true);return function(j){var o=j.ganttChartView;return(e?d?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(o.ownerDocument,
a,function(){return j.minFinish!=null?x(j.minFinish):void 0},function(a){a!=null?j.minFinish=k(a):delete j.minFinish;o.onItemPropertyChanged(j,"minFinish",true,true);o.refreshItem(j)},function(){return!(j.isReadOnly||m||typeof j.ganttChartView!==c&&typeof j.ganttChartView.settings!==c&&(j.ganttChartView.settings.isReadOnly||j.ganttChartView.settings.isGridReadOnly))&&!(j.hasChildren&&(typeof j.isSummaryEnabled===c||j.isSummaryEnabled))},function(){return!(j.isMilestone||typeof j.isBarVisible!==c&&
!j.isBarVisible)},function(){return j.hasChildren&&(typeof j.isSummaryEnabled===c||j.isSummaryEnabled)},b,g,f,h,function(a){return a==null?"":o.settings.dateTimeFormatter(a)},function(a){return a==""?null:o.settings.dateTimeParser(a)},l)}},getMaxFinishColumnTemplate:function(a,e,d,b,g,f,h,m,l){typeof e===c&&(e=true);typeof d===c&&(d=true);return function(j){var o=j.ganttChartView;return(e?d?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:
DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(o.ownerDocument,a,function(){return j.maxFinish!=null?x(j.maxFinish):void 0},function(a){a!=null?j.maxFinish=k(a):delete j.maxFinish;o.onItemPropertyChanged(j,"maxFinish",true,true);o.refreshItem(j)},function(){return!(j.isReadOnly||m||typeof j.ganttChartView!==c&&typeof j.ganttChartView.settings!==c&&(j.ganttChartView.settings.isReadOnly||j.ganttChartView.settings.isGridReadOnly))&&!(j.hasChildren&&(typeof j.isSummaryEnabled===c||j.isSummaryEnabled))},
function(){return!(j.isMilestone||typeof j.isBarVisible!==c&&!j.isBarVisible)},function(){return j.hasChildren&&(typeof j.isSummaryEnabled===c||j.isSummaryEnabled)},b?b:86400000,g,f,h,function(a){return a==null?"":o.settings.dateTimeFormatter(a)},function(a){return a==""?null:o.settings.dateTimeParser(a)},l)}},getIconColumnTemplate:function(a,e,d,b,g,f,h,k,l){if(typeof a==="string")var j=a,a=function(){return j};typeof b===c||b==false?b=function(){return false}:b==true&&(b=function(){return true});
return function(j){var n=j.ganttChartView,r=n.ownerDocument.createElement("img");r.setAttribute("src",a(j));typeof e!==c&&r.setAttribute("class",e);typeof d!==c&&r.setAttribute("style",d);if(!n.settings.isReadOnly&&!n.settings.isGridReadOnly&&b(j)){r.style.cursor="move";Xc(r,j,n.items,n,n.settings,g,f,h,k,l)}return r}},getOutputDate:Bc,getInputDate:Cc}}());
void 0==DlhSoft.Controls.ScheduleChartView&&(DlhSoft.Controls.ScheduleChartView=function(){var c=function(c,k,n,p,s){c.internalEventListeners&&c.internalEventListeners.push({object:k,event:n,handler:p,useCapture:s});return p},U=function(c,k,n,p){var s=["DlhSoft.Controls","ScheduleChartView","DlhSoft.ProjectData.GanttChart.HTML.Controls","5","validate","Licensing"];DlhSoft[s[5]][s[4]](c,s[0],s[1],s[2],s[3],p,n);c.isScheduleChartInitializing=true;for(var p=k,k=[],F=s=0,v=0;v<p.length;v++){var z=p[v];
if(!(typeof z.scheduleChartItem!=="undefined"&&z.scheduleChartItem!=z)){z.scheduleChartIndex=s++;if(!z.isHidden)z.scheduleChartVisibilityIndex=F++;z.isBarVisible=false;k.push(z);if(typeof z.ganttChartItems!=="undefined")for(var u=0;u<z.ganttChartItems.length;u++){var B=z.ganttChartItems[u];B.scheduleChartItem=z;if(z.isHidden)B.isHidden=true;B.displayRowIndex=z.scheduleChartVisibilityIndex;B.indentation=(z.indentation?z.indentation:0)+1;k.push(B)}}}typeof n!=="object"&&(n={});DlhSoft.Controls.GanttChartView.initializeItems(k,
n);s=n;F=k;Y(s);if(typeof s.gridWidth==="undefined")s.gridWidth="15%";if(typeof s.chartWidth==="undefined")s.chartWidth=s.isGridVisible?"85%":"100%";if(typeof s.columns==="undefined")s.columns=O(F,s);if(typeof s.areTaskDependenciesVisible==="undefined")s.areTaskDependenciesVisible=false;if(typeof s.isBaselineVisible==="undefined")s.isBaselineVisible=false;if(typeof s.areStandardTaskLabelsVisible==="undefined")s.areStandardTaskLabelsVisible=false;if(typeof s.areMilestoneTaskLabelsVisible==="undefined")s.areMilestoneTaskLabelsVisible=
false;if(typeof s.areAssignmentsReadOnly==="undefined")s.areAssignmentsReadOnly=false;if(typeof s.assignmentThumbStyle==="undefined")switch(s.theme){default:s.assignmentThumbStyle="fill: none; stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2, 2";break;case "Aero":s.assignmentThumbStyle="fill: none; stroke: Blue; stroke-dasharray: 2, 2"}if(typeof s.temporaryAssignmentThumbStyle==="undefined")switch(s.theme){default:s.temporaryAssignmentThumbStyle="fill: none; stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2, 2";
break;case "Aero":s.temporaryAssignmentThumbStyle="fill: none; stroke: Blue; stroke-width: 0.65px; stroke-dasharray: 2, 2"}if(typeof s.assignmentThumbTemplate==="undefined")s.assignmentThumbTemplate=H(F,c,s);s.internalExtraTaskTemplate=s.assignmentThumbTemplate;ta(c,k,p,n);DlhSoft.Controls.GanttChartView.initialize(c,k,n,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");x(c,k);c.isScheduleChartInitializing=false;
c.isScheduleChartInitialized=true;return c},R=function(c){U(c,c.scheduleChartItems,c.settings,c.license)},Y=function(c){if(typeof c.useUpdatingToolTips==="undefined")c.useUpdatingToolTips=true;if(typeof c.target==="undefined")c.target="Standard";if(typeof c.theme==="undefined")c.theme="Modern";if(typeof c.isGridVisible==="undefined")switch(c.target){default:c.isGridVisible=true;break;case "Phone":c.isGridVisible=false}if(typeof c.interaction==="undefined")c.interaction=c.target!="Phone"?"Standard":
"TouchEnabled";if(typeof c.isReadOnly==="undefined")c.isReadOnly=false;if(typeof c.isGridReadOnly==="undefined")c.isGridReadOnly=false;if(typeof c.isContentReadOnly==="undefined")c.isContentReadOnly=false;if(typeof c.selectionMode==="undefined")c.selectionMode="Focus";if(typeof c.isVirtualizing==="undefined")c.isVirtualizing=true;if(c.target=="Phone"&&typeof c.areTaskAssignmentsVisible==="undefined")c.areTaskAssignmentsVisible=false},O=function(c,k){typeof k!=="object"&&(k={});Y(k);var n=[{header:"",
width:32,isSelection:true},{header:"Resource",width:120,isTreeView:true}];n[0].cellTemplate=ka(k,n[0],c);n[1].cellTemplate=W(k,n[1],c);n[1].exportCellTemplate=W(k,n[1],c,false);k.selectionMode!="Single"&&(k.selectionMode!="Extended"&&k.selectionMode!="ExtendedFocus")&&n.splice(0,1);return n},ka=function(c,k){return function(c){return!k.isReadOnly?u(c):getBooleanNode(c.ganttChartView.ownerDocument,c.isSelected)}},u=function(r){var k=r.ganttChartView.ownerDocument,n;if(typeof r.selectionInput==="undefined"){n=
k.createElement("input");r.selectionInput=n;n.type="checkbox";n.setAttribute("style","margin: 0px")}else n=r.selectionInput;if(r.isSelected){n.setAttribute("checked","checked");if(!n.checked)n.checked=true}else if(n.checked)n.checked=false;var p=function(){n.checked?ba(r):typeof r.scheduleChartView!=="undefined"&&r.scheduleChartView.unselectItem(r)};typeof n.changeEventListener!=="undefined"&&n.removeEventListener("change",n.changeEventListener,true);n.addEventListener("change",c(r.ganttChartView,
n,"change",p,true),true);n.changeEventListener=p;k=function(c){if(c.keyCode==13){c.preventDefault();c.stopPropagation();p(c)}};typeof n.keyPressEventListener!=="undefined"&&n.removeEventListener("keypress",n.keyPressEventListener,true);n.addEventListener("keypress",c(r.ganttChartView,n,"keypress",k,true),true);n.keyPressEventListener=k;return n},ba=function(c){typeof c.scheduleChartView!=="undefined"&&c.scheduleChartView.selectItem(c)},L=function(c,k){if(typeof c.scheduleChartView!=="undefined")c.scheduleChartView.currentItem=
c;(k.selectionMode=="Focus"||k.selectionMode=="ExtendedFocus")&&!c.isSelected&&ba(c)},W=function(c,k,n,p){var s=function(c){var k=c.content,c=c.ganttChartView.ownerDocument.createElement("span");c.innerHTML=k;return c};return(typeof p==="undefined"||p)&&!c.isReadOnly&&!c.isGridReadOnly&&!c.isContentReadOnly?function(n){return!k.isReadOnly&&(typeof n.isReadOnly==="undefined"||!n.isReadOnly)?Z(n,Math.max(0,k.width-n.indentation*n.ganttChartView.settings.indentationLevelWidth-n.ganttChartView.settings.toggleButtonAreaWidth-
16),c):s(n)}:s},Z=function(r,k,n){var p=r.ganttChartView.ownerDocument,s;if(typeof r.contentInput==="undefined"){s=p.createElement("input");r.contentInput=s;s.type="text";s.addEventListener("focus",c(r.ganttChartView,s,"focus",function(){L(r,n)}));var x=function(){r.content=s.value;r.scheduleChartView.onItemPropertyChanged(r,"content",true,true);r.scheduleChartView.refreshItem(r)};typeof s.changeEventListener!=="undefined"&&s.removeEventListener("change",s.changeEventListener,true);s.addEventListener("change",
c(r.ganttChartView,s,"change",x,true),true);s.changeEventListener=x;p=function(c){if(c.keyCode==13){c.preventDefault();c.stopPropagation();x(c)}};typeof s.keyPressEventListener!=="undefined"&&s.removeEventListener("keypress",s.keyPressEventListener,true);s.addEventListener("keypress",c(r.ganttChartView,s,"keypress",p,true),true);s.keyPressEventListener=p;s.addEventListener("focus",c(r.ganttChartView,s,"focus",function(){s.style.backgroundColor="White"}));s.addEventListener("blur",c(r.ganttChartView,
s,"blur",function(){s.style.backgroundColor="Transparent"}))}else s=r.contentInput;s.value=r.content;p="";if(r.hasChildren&&(typeof r.isSummaryEnabled==="undefined"||r.isSummaryEnabled))p="; font-weight: bold";s.setAttribute("style","background-color: Transparent; width: "+k+"px; border-width: 0px; padding: 0px"+p);return s},H=function(r,k,n){return function(p){var s=p.ganttChartView.ownerDocument,x=s.createElementNS("http://www.w3.org/2000/svg","g");if(!n.isReadOnly&&!n.isChartReadOnly&&(typeof p.isReadOnly===
"undefined"||!p.isReadOnly)&&!n.areAssignmentsReadOnly){var v=k.getChartPosition(p.start,n),z=Math.max(k.getChartPosition(p.finish,n),v+4),u=s.createElementNS("http://www.w3.org/2000/svg","line");u.setAttribute("x1",v);u.setAttribute("y1",n.barMargin+n.barHeight+2);u.setAttribute("x2",z-1);u.setAttribute("y2",n.barMargin+n.barHeight+2);var B=n.assignmentThumbClass;typeof B!=="undefined"&&u.setAttribute("class",B);u.setAttribute("style",n.assignmentThumbStyle);u.style.visibility="hidden";x.appendChild(u);
s=s.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("x",v);s.setAttribute("y",n.barMargin+n.barHeight-2);s.setAttribute("width",Math.max(0,z-v-1));s.setAttribute("height",7);s.setAttribute("style","fill: White; fill-opacity: 0; cursor: move");s.addEventListener("mouseover",c(k,s,"mouseover",function(){if(typeof k.draggingItem==="undefined")u.style.visibility="visible"},true),true);s.addEventListener("mouseout",c(k,s,"mouseout",function(){u.style.visibility="hidden"},true),true);
x.appendChild(s);J(s,x,p,v,z,r,k,n)}return x}},K=function(c){var k=c.scheduleChartView;c.itemTop=c.scheduleChartVisibilityIndex*k.settings.itemHeight;k.refreshGridItem(c);if(typeof c.ganttChartItems!=="undefined")for(var n=0;n<c.ganttChartItems.length;n++){var p=c.ganttChartItems[n];p.itemTop=c.itemTop;k.refreshChartItem(p)}},J=function(r,k,n,p,s,x,v,z){function u(c,x){delete v.cancelDrag;v.draggingItem=n;v.dragType="Assignment";v.style.cursor=r.style.cursor;v.draggingInitialY=c.clientY;v.draggingInitialThumbPosition=
z.barMargin;k.itemLeft=p;k.itemRight=s;n.assignmentThumb=k;if(DlhSoft.Controls.ToolTip&&z.useUpdatingToolTips&&!x){(toolTip=DlhSoft.Controls.ToolTip.get(r))||(toolTip=DlhSoft.Controls.ToolTip.initialize(void 0,r,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+z.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));
toolTip.setContent(n.content+" \u2013");toolTip.show();toolTip.setPosition(toolTip.x+(s-p)+4,toolTip.y-z.itemHeight-1);toolTip.originalY=toolTip.y;v.toolTip=toolTip}}var B=n.ganttChartView.ownerDocument;r.addEventListener("mousedown",c(v,r,"mousedown",function(c){if(c.button==0){u(c);c.preventDefault()}},true),true);r.addEventListener("touchstart",c(v,r,"touchstart",function(c){u(c.touches[0],true);c.preventDefault()},true),true);if(typeof v.draggableAssignmentItems==="undefined")v.draggableAssignmentItems=
[];for(var H=false,K=0;K<v.draggableAssignmentItems.length;K++)if(v.draggableAssignmentItems[K]==n){H=true;break}if(!H){var J=function(c,r){if(!(typeof v.draggingItem==="undefined"||v.draggingItem!=n||v.dragType!="Assignment")){var u=Math.ceil((c.clientY-v.draggingInitialY)/z.itemHeight)*z.itemHeight;ia(c.clientY,v);delete v.draggingItem;k=n.assignmentThumb;p=k.itemLeft;s=k.itemRight;if(typeof v.temporaryAssignmentThumb!=="undefined"){try{k.removeChild(v.temporaryAssignmentThumb)}catch(E){}delete v.temporaryAssignmentThumb}if(v.cancelDrag){delete v.cancelDrag;
delete v.draggingItem;v.style.cursor="default"}else{var G;if(z.temporaryAssignmentThumbTemplate)G=z.temporaryAssignmentThumbTemplate(v,p,v.draggingInitialThumbPosition+u,Math.max(4,s-p-1),z.barHeight);else{G=B.createElementNS("http://www.w3.org/2000/svg","rect");G.setAttribute("x",p);G.setAttribute("y",v.draggingInitialThumbPosition+u);G.setAttribute("width",Math.max(4,s-p-1));G.setAttribute("height",z.barHeight);typeof z.temporaryAssignmentThumbClass!=="undefined"&&G.setAttribute("class",z.temporaryAssignmentThumbClass);
G.setAttribute("style",z.temporaryAssignmentThumbStyle)}v.temporaryAssignmentThumb=G;k.appendChild(G);v.draggingItem=n;if(DlhSoft.Controls.ToolTip&&z.useUpdatingToolTips&&!r){toolTip=v.toolTip;G=Math.floor((n.itemTop+v.draggingInitialThumbPosition+u)/z.itemHeight);var H=null,K=0,L;for(L=0;L<x.length;L++){var J=x[L];if(J.isVisible&&!(typeof J.isHidden!=="undefined"&&J.isHidden)&&typeof J.displayRowIndex==="undefined"){if(K==G){J.hasChildren||(H=J);break}K++}}toolTip.setContent(n.content+" \u2013"+
(H!=null?" "+H.content:""));toolTip.setVerticalPosition(Math.max(T(v)+v.chartHeaderContainer.clientHeight,toolTip.originalY+u));if(typeof toolTip.originalX==="undefined")toolTip.originalX=toolTip.x;toolTip.setHorizontalPosition(toolTip.originalX)}}}};v.addEventListener("mousemove",c(v,v,"mousemove",function(c){J(c)},true),true);v.addEventListener("touchmove",c(v,v,"touchmove",function(c){J(c.touches[0],true)},true),true);var R=function(c){if(!(typeof v.draggingItem==="undefined"||v.draggingItem!=
n||v.dragType!="Assignment")){k=n.assignmentThumb;if(typeof v.temporaryAssignmentThumb!=="undefined"){try{k.removeChild(v.temporaryAssignmentThumb)}catch(r){}delete v.temporaryAssignmentThumb}var c=Math.ceil((c.clientY-v.draggingInitialY)/z.itemHeight)*z.itemHeight,c=Math.floor((n.itemTop+v.draggingInitialThumbPosition+c)/z.itemHeight),s=null,p=0,u;for(u=0;u<x.length;u++){var B=x[u];if(B.isVisible&&!(typeof B.isHidden!=="undefined"&&B.isHidden)&&typeof B.displayRowIndex==="undefined"){if(p==c){B.hasChildren||
(s=B);break}p++}}if(s!=null){var p=n.scheduleChartItem,B=p.ganttChartItems,E=[];for(u=0;u<B.length;u++)B[u]!=n&&E.push(B[u]);p.ganttChartItems=E;v.onItemPropertyChanged(p,"ganttChartItems",true,true);if(typeof s.ganttChartItems==="undefined")s.ganttChartItems=[];s.ganttChartItems.push(n);v.onItemPropertyChanged(s,"ganttChartItems",true,true);n.scheduleChartItem=s;v.onItemPropertyChanged(n,"scheduleChartItem",true,true);n.displayRowIndex=c;n.isVirtuallyVisible=true;v.refreshChartItem(n);L(s,z)}delete v.draggingItem;
v.style.cursor="default"}};B.addEventListener("mouseup",c(v,B,"mouseup",function(c){c.button==0&&R(c)},true),true);B.addEventListener("touchend",c(v,B,"touchend",function(c){R(c.changedTouches[0])},true),true);v.draggableAssignmentItems.push(n)}},T=function(c){var k=0;if(c.offsetParent){do{k=k+c.offsetTop;c=c.offsetParent}while(c)}return k},ia=function(c,k){if(typeof k.draggingItem!=="undefined"){var n=new Date;if(!k.lastDraggingTime||!(n>k.lastDraggingTime&&n-k.lastDraggingTime<200)){k.lastDraggingTime=
n;var c=c-T(k),p,s;if(c<k.chartHeaderContainer.clientHeight+24){p=k.chartContentContainer.scrollTop;k.chartContentContainer.scrollTop=k.chartContentContainer.scrollTop-20;if(typeof k.isDuringVerticalScrolling==="undefined"){k.isDuringVerticalScrolling=true;setTimeout(function(){s=p-k.chartContentContainer.scrollTop;k.draggingInitialThumbPosition=k.draggingInitialThumbPosition-s;delete k.isDuringVerticalScrolling},0)}}else if(c>=k.chartHeaderContainer.clientHeight+k.chartContentContainer.clientHeight-
24){p=k.chartContentContainer.scrollTop;k.chartContentContainer.scrollTop=k.chartContentContainer.scrollTop+20;if(typeof k.isDuringVerticalScrolling==="undefined"){k.isDuringVerticalScrolling=true;setTimeout(function(){s=k.chartContentContainer.scrollTop-p;k.draggingInitialThumbPosition=k.draggingInitialThumbPosition+s;delete k.isDuringVerticalScrolling},0)}}}}},da=function(c,k,n,p){var s=p.indexOf(c);if(!(s<0||k<0||k==s||k>=p.length)){p.splice(s,1);p.splice(k,0,c);R(n);typeof n.settings.itemMoveHandler!==
"undefined"&&n.settings.itemMoveHandler(c,s,k)}},ta=function(c,k,n,p){for(var s=0;s<k.length;s++)k[s].scheduleChartView=c;c.scheduleChartItems=n;c.settings=p;c.refreshScheduleChartItem=K;c.initializeAssignmentDraggingThumb=function(k,n,s,p,x){J(k,n,s,p,x,c.items,c,c.settings)};c.insertScheduleChartItem=function(s,p){var x=s;p.scheduleChartView=c;p.isVirtuallyVisible=true;p.scheduleChartIndex=x;var u=0,B;for(B=0;B<x;B++)n[B].isHidden||u++;p.scheduleChartVisibilityIndex=u;p.isBarVisible=false;x=x<n.length?
n[x].index:k.length;n.splice(p.scheduleChartIndex,0,p);c.insertItem(x++,p);if(typeof p.ganttChartItems!=="undefined")for(B=0;B<p.ganttChartItems.length;B++){u=p.ganttChartItems[B];u.scheduleChartView=c;u.scheduleChartItem=p;u.isHidden=p.isHidden;u.displayRowIndex=p.scheduleChartVisibilityIndex;u.indentation=p.indentation;c.insertItem(x++,u)}for(B=p.scheduleChartIndex+1;B<n.length;B++){x=n[B];x.scheduleChartIndex=B;typeof x.scheduleChartVisibilityIndex!=="undefined"&&x.scheduleChartVisibilityIndex++;
if(typeof x.ganttChartItems!=="undefined")for(u=0;u<x.ganttChartItems.length;u++)x.ganttChartItems[u].displayRowIndex=x.scheduleChartVisibilityIndex;K(x)}};c.addScheduleChartItem=function(k){c.insertScheduleChartItem(n.length,k)};c.insertScheduleChartItems=function(k,n){for(var p=0;p<n.length;p++)c.insertScheduleChartItem(k++,n[p])};c.addScheduleChartItems=function(k){for(var n=0;n<k.length;n++)c.addScheduleChartItem(k[n])};c.removeScheduleChartItem=function(k){if(typeof k.ganttChartItems!=="undefined")for(var p=
0;p<k.ganttChartItems.length;p++)c.removeItem(k.ganttChartItems[p]);n.splice(k.scheduleChartIndex,1);for(p=k.scheduleChartIndex;p<n.length;p++){var s=n[p];s.scheduleChartIndex=p;typeof s.scheduleChartVisibilityIndex!=="undefined"&&s.scheduleChartVisibilityIndex--;if(typeof s.ganttChartItems!=="undefined")for(var x=0;x<s.ganttChartItems.length;x++)s.ganttChartItems[x].displayRowIndex=s.scheduleChartVisibilityIndex;K(s)}c.removeItem(k)};c.removeScheduleChartItems=function(k){for(var n=0;n<k.length;n++)c.removeScheduleChartItem(k[n])};
c.moveScheduleChartRange=function(k,p,s){if(!(k<0||s<0||s==k||s>n.length-p)){var x=[],u;for(u=k;u<k+p;u++)x.push(n[u]);n.splice(k,p);for(u=0;u<x.length;u++)n.splice(s+u,0,x[u]);R(c);if(typeof c.settings.itemMoveHandler!=="undefined")for(u=0;u<x.length;u++)c.settings.itemMoveHandler(x[u],k+u,s+u)}};c.moveScheduleChartItem=function(k,p){da(k,p,c,n)};c.moveScheduleChartItemUp=function(k){var p=n.indexOf(k);p<=0||da(k,p-1,c,n)};c.moveScheduleChartItemDown=function(k){var p=n.indexOf(k);p<0||p>=n.length-
1||da(k,p+1,c,n)}},x=function(c,k){c.items=k;c.refresh=function(){R(c)}};return{initialize:U,refresh:R,getDefaultColumns:O,getDefaultScales:DlhSoft.Controls.GanttChartView.getDefaultScales,getDefaultStyleDefinitionTemplate:DlhSoft.Controls.GanttChartView.getDefaultStyleDefinitionTemplate,getDefaultStandardTaskTemplate:DlhSoft.Controls.GanttChartView.getDefaultStandardTaskTemplate,getDefaultMilestoneTaskTemplate:DlhSoft.Controls.GanttChartView.getDefaultMilestoneTaskTemplate,getDefaultItemTemplate:DlhSoft.Controls.GanttChartView.getDefaultItemTemplate,
getDefaultAssignmentsTemplate:DlhSoft.Controls.GanttChartView.getDefaultAssignmentsTemplate,initializeTaskDraggingThumbs:DlhSoft.Controls.GanttChartView.initializeTaskDraggingThumbs,initializeDependencyDraggingThumb:DlhSoft.Controls.GanttChartView.initializeDependencyDraggingThumb,initializeAssignmentDraggingThumb:function(c,k,n,p,s){n.scheduleChartView.initializeAssignmentDraggingThumb(c,k,n,p,s)},getWorkingTime:DlhSoft.Controls.GanttChartView.getWorkingTime,getEffort:DlhSoft.Controls.GanttChartView.getEffort,
getFinish:DlhSoft.Controls.GanttChartView.getFinish,getStart:DlhSoft.Controls.GanttChartView.getStart,getCompletion:DlhSoft.Controls.GanttChartView.getCompletion,getCompletedFinish:DlhSoft.Controls.GanttChartView.getCompletedFinish,textColumnTemplateBase:DlhSoft.Controls.GanttChartView.textColumnTemplateBase,textInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase,getOutputDate:DlhSoft.Controls.GanttChartView.getOutputDate,getInputDate:DlhSoft.Controls.GanttChartView.getInputDate}}());
void 0==DlhSoft.Controls.LoadChartView&&(DlhSoft.Controls.LoadChartView=function(){var c=function(c,r,k,n,p){c.internalEventListeners&&c.internalEventListeners.push({object:r,event:k,handler:n,useCapture:p});return n},U=function(c,r,k,n){var p=["DlhSoft.Controls","LoadChartView","DlhSoft.ProjectData.GanttChart.HTML.Controls","5","validate","Licensing"];DlhSoft[p[5]][p[4]](c,p[0],p[1],p[2],p[3],n,k);c.isLoadChartInitializing=true;for(var n=r,r=[],s=p=0,u=0;u<n.length;u++){var v=n[u];if(typeof v.isExported!==
"undefined"&&v.isExported)r.push(v);else if(!(typeof v.loadChartItem!=="undefined"&&v.loadChartItem!=v)){v.loadChartIndex=v.scheduleChartIndex=p++;if(!v.isHidden)v.scheduleChartVisibilityIndex=s++;v.isBarVisible=false;r.push(v);if(typeof v.ganttChartItems!=="undefined")for(var z=0;z<v.ganttChartItems.length;z++){var E=v.ganttChartItems[z];E.loadChartItem=E.scheduleChartItem=v;if(v.isHidden)E.isHidden=true;E.displayRowIndex=v.scheduleChartVisibilityIndex;E.indentation=v.indentation+(v.indentation?
v.indentation:0);r.push(E)}}}typeof k!=="object"&&(k={});DlhSoft.Controls.GanttChartView.initializeItems(r,k);p=k;s=r;Y(p);if(typeof p.gridWidth==="undefined")p.gridWidth="15%";if(typeof p.chartWidth==="undefined")p.chartWidth=p.isGridVisible?"85%":"100%";if(typeof p.columns==="undefined")p.columns=O(s,p);if(typeof p.normalAllocationBarStyle==="undefined"&&p.normalAllocationBarClass==null)switch(p.theme){default:p.normalAllocationBarStyle="fill: Blue; fill-opacity: 0.8; stroke: Blue; stroke-width: 0.65px";
break;case "Aero":p.normalAllocationBarStyle="fill: Blue; stroke: Blue"}if(typeof p.underAllocationBarStyle==="undefined"&&p.underAllocationBarClass==null)switch(p.theme){default:p.underAllocationBarStyle="fill: Blue; fill-opacity: 0.8; stroke: Blue; stroke-width: 0.65px";break;case "Aero":p.underAllocationBarStyle="fill: Blue; stroke: Blue"}if(typeof p.overAllocationBarStyle==="undefined"&&p.overAllocationBarClass==null)switch(p.theme){default:p.overAllocationBarStyle="fill: Red; fill-opacity: 0.8; stroke: Red; stroke-width: 0.65px";
break;case "Aero":p.overAllocationBarStyle="fill: Red; stroke: Red"}if(typeof p.maxDisplayedUnits==="undefined")p.maxDisplayedUnits=1.5;if(typeof p.allocationTemplate==="undefined")p.allocationTemplate=K();p.standardTaskTemplate=p.allocationTemplate;p.milestoneTaskTemplate=p.allocationTemplate;p.areTaskDependenciesVisible=false;p.isBaselineVisible=false;p.isTaskCompletedEffortVisible=false;p.areTaskAssignmentsVisible=false;da(c,r,n,k);DlhSoft.Controls.GanttChartView.initialize(c,r,k,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");
ta(c,r,k);c.isLoadChartInitializing=false;c.isLoadChartInitialized=true;return c},R=function(c){U(c,c.loadChartItems,c.settings,c.license)},Y=function(c){if(typeof c.target==="undefined")c.target="Standard";if(typeof c.theme==="undefined")c.theme="Modern";if(typeof c.isGridVisible==="undefined")switch(c.target){default:c.isGridVisible=true;break;case "Phone":c.isGridVisible=false}if(typeof c.isReadOnly==="undefined")c.isReadOnly=true;if(typeof c.selectionMode==="undefined")c.selectionMode="Focus";
if(typeof c.isVirtualizing==="undefined")c.isVirtualizing=true},O=function(c,r){typeof r!=="object"&&(r={});Y(r);var k=[{header:"",width:32,isSelection:true},{header:"Resource",width:120,isTreeView:true}];k[0].cellTemplate=ka(r,k[0],c);k[1].cellTemplate=L(r,k[1]);k[1].exportCellTemplate=L(r,k[1],false);r.selectionMode!="Single"&&(r.selectionMode!="Extended"&&r.selectionMode!="ExtendedFocus")&&k.splice(0,1);return k},ka=function(c,r){return function(c){return!r.isReadOnly?u(c):getBooleanNode(c.ganttChartView.ownerDocument,
c.isSelected)}},u=function(x){var r=x.ganttChartView.ownerDocument,k;if(typeof x.selectionInput==="undefined"){k=r.createElement("input");x.selectionInput=k;k.type="checkbox";k.setAttribute("style","margin: 0px")}else k=x.selectionInput;if(x.isSelected){k.setAttribute("checked","checked");if(!k.checked)k.checked=true}else if(k.checked)k.checked=false;var n=function(){k.checked?ba(x):typeof x.loadChartView!=="undefined"&&x.loadChartView.unselectItem(x)};typeof k.changeEventListener!=="undefined"&&
k.removeEventListener("change",k.changeEventListener,true);k.addEventListener("change",c(x.ganttChartView,k,"change",n,true),true);k.changeEventListener=n;r=function(c){if(c.keyCode==13){c.preventDefault();c.stopPropagation();n(c)}};typeof k.keyPressEventListener!=="undefined"&&k.removeEventListener("keypress",k.keyPressEventListener,true);k.addEventListener("keypress",c(x.ganttChartView,k,"keypress",r,true),true);k.keyPressEventListener=r;return k},ba=function(c){typeof c.loadChartView!=="undefined"&&
c.loadChartView.selectItem(c)},L=function(c,r,k){var n=function(c){var k=c.content,c=c.ganttChartView.ownerDocument.createElement("span");c.innerHTML=k;return c};return(typeof k==="undefined"||k)&&!c.isReadOnly&&!c.isGridReadOnly&&!c.isContentReadOnly?function(k){return!r.isReadOnly&&(typeof k.isReadOnly==="undefined"||!k.isReadOnly)?W(k,Math.max(0,r.width-2),c):n(k)}:n},W=function(x,r,k){var n=x.ganttChartView.ownerDocument,p;if(typeof x.contentInput==="undefined"){p=n.createElement("input");x.contentInput=
p;p.type="text";p.addEventListener("focus",c(x.ganttChartView,p,"focus",function(){if(typeof x.loadChartView!=="undefined")x.loadChartView.currentItem=x;(k.selectionMode=="Focus"||k.selectionMode=="ExtendedFocus")&&!x.isSelected&&ba(x)}));var s=function(){x.content=p.value;x.loadChartView.onItemPropertyChanged(x,"content",true,true);x.loadChartView.refreshItem(x)};typeof p.changeEventListener!=="undefined"&&p.removeEventListener("change",p.changeEventListener,true);p.addEventListener("change",c(x.ganttChartView,
p,"change",s,true),true);p.changeEventListener=s;n=function(c){if(c.keyCode==13){c.preventDefault();c.stopPropagation();s(c)}};typeof p.keyPressEventListener!=="undefined"&&p.removeEventListener("keypress",p.keyPressEventListener,true);p.addEventListener("keypress",c(x.ganttChartView,p,"keypress",n,true),true);p.keyPressEventListener=n;p.addEventListener("focus",c(x.ganttChartView,p,"focus",function(){p.style.backgroundColor="White"}));p.addEventListener("blur",c(x.ganttChartView,p,"blur",function(){p.style.backgroundColor=
"Transparent"}))}else p=x.contentInput;p.value=x.content;p.setAttribute("style","background-color: Transparent; width: "+r+"px; border-width: 0px; padding: 0px");return p},Z=function(c){for(var r=0,k=0;k<c.length;k++)r=r+c[k].width;return r},H=function(c){var r=c.loadChartView;c.itemTop=c.scheduleChartVisibilityIndex*r.settings.itemHeight;r.refreshGridItem(c);if(typeof c.ganttChartItems!=="undefined")for(var k=0;k<c.ganttChartItems.length;k++){var n=c.ganttChartItems[k];n.itemTop=c.itemTop;r.refreshChartItem(n)}},
K=function(c,r,k){return function(c){var p=typeof r!=="undefined"?r:c.loadChartView,s=typeof k!=="undefined"?k:p.settings,x=p.ownerDocument,v;v=p.ownerDocument;if(typeof c.chartItemArea==="undefined")c.chartItemArea=v.createElementNS("http://www.w3.org/2000/svg","g");for(v=c.chartItemArea.childNodes.length;v-- >0;)c.chartItemArea.removeChild(c.chartItemArea.childNodes[v]);v=c.chartItemArea;var u=p.getChartPosition(c.start,s),p=Math.max(p.getChartPosition(c.finish,s),u+4),x=x.createElementNS("http://www.w3.org/2000/svg",
"rect"),E=typeof c.units!=="undefined"?c.units:1,B=Math.min(E,s.maxDisplayedUnits)/s.maxDisplayedUnits*s.barHeight;x.setAttribute("x",u);x.setAttribute("y",s.barMargin+(s.barHeight-B));x.setAttribute("width",Math.max(0,p-u-1));x.setAttribute("height",B);u=E==1?s.normalAllocationBarClass:E<1?s.underAllocationBarClass:s.overAllocationBarClass;if(typeof c.allocationBarClass!=="undefined")u=c.allocationBarClass;if(typeof u!=="undefined")x.setAttribute("class",u);else{s=E==1?s.normalAllocationBarStyle:
E<1?s.underAllocationBarStyle:s.overAllocationBarStyle;if(typeof c.allocationBarStyle!=="undefined")s=c.allocationBarStyle;typeof s!=="undefined"&&x.setAttribute("style",s)}v.appendChild(x);return v}},J=function(c,r,k,n){var p=n.indexOf(c);if(!(p<0||r<0||r==p||r>=n.length)){n.splice(p,1);n.splice(r,0,c);R(k);typeof k.settings.itemMoveHandler!=="undefined"&&k.settings.itemMoveHandler(c,p,r)}},T=function(c,r){for(var k in r)k.indexOf("custom")!=0&&k.indexOf("description")!=0||typeof c[k]==="undefined"&&
(c[k]=r[k])},ia=function(c,r,k,n,p,s,u,v,z,E,B,H,L,K,J,R,C){var S,U=[],G;if(typeof n!=="undefined")for(S=0;S<n.length;S++){G=C.columns[n[S]];U.push({isTreeView:G.isTreeView,header:G.header,width:G.width,headerClass:G.headerClass,headerStyle:G.headerStyle,cellClass:G.cellClass,cellStyle:G.cellStyle,cellTemplate:typeof G.exportCellTemplate!=="undefined"?G.exportCellTemplate:G.cellTemplate})}else for(S=0;S<C.columns.length;S++){G=C.columns[S];G.isSelection||U.push({isTreeView:G.isTreeView,header:G.header,
width:G.width,headerClass:G.headerClass,headerStyle:G.headerStyle,cellClass:G.cellClass,cellStyle:G.cellStyle,cellTemplate:typeof G.exportCellTemplate!=="undefined"?G.exportCellTemplate:G.cellTemplate})}if(typeof k==="undefined")k=C.isGridVisible;S=k?Z(U)+1:0;if(typeof p!=="undefined"){if(typeof u==="undefined"||!u)p=new Date(p.valueOf()-p.getTimezoneOffset()*60000)}else p=C.timelineStart;if(typeof s!=="undefined"){if(typeof u==="undefined"||!u)s=new Date(s.valueOf()-s.getTimezoneOffset()*60000)}else s=
C.timelineFinish;p={isExport:true,isReadOnly:true,selectionMode:"None",isVirtualizing:false,isGridVisible:k,isSplitterEnabled:false,gridWidth:S+"px",columns:U,allowUserToResizeColumns:false,isGridRowClickTimeScrollingEnabled:false,isMouseWheelZoomEnabled:false,timelineStart:p,timelineFinish:s,hourWidth:typeof v!=="undefined"?v:C.hourWidth,displayedTime:typeof p!=="undefined"?p:C.timelineStart,currentTime:C.currentTime,isTaskToolTipVisible:false,isDependencyToolTipVisible:false,areTaskDependenciesVisible:false,
isBaselineVisible:false,isTaskCompletedEffortVisible:false,areTaskAssignmentsVisible:false,containerClass:C.containerClass,containerStyle:C.containerStyle,border:C.border,theme:C.theme,headerBackground:C.headerBackground,headerHeight:C.headerHeight,itemHeight:C.itemHeight,itemClass:C.itemClass,itemStyle:C.itemStyle,indentationLevelWidth:C.indentationLevelWidth,toggleButtonClass:C.toggleButtonClass,toggleButtonStyle:C.toggleButtonStyle,scales:[],visibleWeekStart:C.visibleWeekStart,visibleWeekFinish:C.visibleWeekFinish,
workingWeekStart:C.workingWeekStart,workingWeekFinish:C.workingWeekFinish,visibleDayStart:C.visibleDayStart,visibleDayFinish:C.visibleDayFinish,specialNonworkingDays:C.specialNonworkingDays,barMargin:C.barMargin,barHeight:C.barHeight,normalAllocationBarClass:C.normalAllocationBarClass,underAllocationBarClass:C.underAllocationBarClass,overAllocationBarClass:C.overAllocationBarClass,normalAllocationBarStyle:C.normalAllocationBarStyle,underAllocationBarStyle:C.underAllocationBarStyle,overAllocationBarStyle:C.overAllocationBarStyle,
alternativeItemClass:C.alternativeItemClass,alternativeChartItemClass:C.alternativeChartItemClass,alternativeItemStyle:C.alternativeItemStyle,alternativeChartItemStyle:C.alternativeChartItemStyle,gridLines:C.gridLines,horizontalGridLines:C.horizontalGridLines,verticalGridLines:C.verticalGridLines,horizontalChartLines:C.horizontalChartLines,target:C.target,months:C.months,daysOfWeek:C.daysOfWeek,weekStartDay:C.weekStartDay,dateFormatter:C.dateFormatter,dateTimeFormatter:C.dateTimeFormatter,isRelativeToTimezone:C.isRelativeToTimezone,
allocationTemplate:C.allocationTemplate};p.timelineStart=DlhSoft.Controls.GanttChartView.getWeekStart(p.timelineStart,p.weekStartDay);p.timelineFinish=DlhSoft.Controls.GanttChartView.getWeekFinish(p.timelineFinish,p.weekStartDay);J=(J.getChartPosition(p.timelineFinish)-J.getChartPosition(p.timelineStart))/J.settings.hourWidth*p.hourWidth;p.chartWidth=J+"px";var W=S+J+2+(k?1:0);for(S=0;S<C.scales.length;S++){k=C.scales[S];p.scales.push({scaleType:k.scaleType,isHeaderVisible:k.isHeaderVisible,headerHeight:k.headerHeight,
headerTextFormat:k.headerTextFormat,headerClass:k.headerClass,headerStyle:k.headerStyle,isHighlightingVisible:k.isHighlightingVisible,highlightingClass:k.highlightingClass,highlightingStyle:k.highlightingStyle,isSeparatorVisible:k.isSeparatorVisible,separatorClass:k.separatorClass,separatorStyle:k.separatorStyle,intervals:k.intervals})}var O,Y,da=false;if(B!=null&&typeof B.createElement!=="undefined")O=B;else{if(B!=null&&typeof B.focus!=="undefined")Y=B;else{Y=window.open("",B!=null?B:"_blank",typeof H!==
"undefined"&&H&&(typeof K==="undefined"||K)?"width=800,height=640,location=no,menubar=no,toolbar=no,status=no,scrollbars=yes":"");da=true}O=Y.document;try{var ba=document.head.getElementsByTagName("link");for(S=0;S<ba.length;S++){var ia=ba[S],ka=O.adoptNode(ia.cloneNode(true));ka.href=ia.href;O.head.appendChild(ka)}}catch(ta){}}O.title=typeof c!=="undefined"?c:"Exported chart"+(typeof H!=="undefined"&&H?" (printable)":"");typeof z==="undefined"&&(z=0);typeof E==="undefined"&&(E=R.length-1);c=[];for(S=
ba=0;S<R.length;S++){B=R[S];if(!(typeof B.displayRowIndex!=="undefined"&&(B.displayRowIndex<z||B.displayRowIndex>E)||typeof B.displayRowIndex==="undefined"&&(ba++<z||ba>E+1))){C={content:B.content,indentation:B.indentation,start:B.start,finish:B.finish,units:B.units,isBarVisible:B.isBarVisible,isRelativeToTimezone:B.isRelativeToTimezone,"class":B["class"],style:B.style,barClass:B.barClass,barStyle:B.barStyle,isSummaryEnabled:B.isSummaryEnabled,isParentSummarizationEnabled:B.isParentSummarizationEnabled,
isHidden:B.isHidden,isExported:true,tag:B};if(typeof B.displayRowIndex!=="undefined")C.displayRowIndex=B.displayRowIndex-z;T(C,B);c.push(C);B.exportItem=C}}var Pa=O.createElement("p");Pa.innerHTML=typeof r!=="undefined"?r:"";O.body.appendChild(Pa);var ea=O.createElement("div");ea.setAttribute("style","width: "+W+"px");try{DlhSoft.Controls.LoadChartView.initialize(ea,c,p,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")}catch(Na){}setTimeout(function(){da&&
O.body.setAttribute("style","margin: 0px");var c=O.createElement("div");c.appendChild(ea);O.body.replaceChild(c,Pa);if(L){c.setAttribute("style","width: "+ea.offsetHeight+"px; height: "+W+"px; overflow: hidden");c=Math.round((ea.offsetWidth-ea.offsetHeight)/2);ea.setAttribute("style","width: "+W+"px; transform: rotate(90deg) translateX("+c+"px) translateY("+c+"px); -webkit-transform: rotate(90deg) translateX("+c+"px) translateY("+c+"px)")}O.close();if(typeof Y!==void 0){Y.focus();if(typeof H!=="undefined"&&
H){Y.print();(typeof K==="undefined"||K)&&setTimeout(function(){Y.close()})}}},0)},da=function(c,r,k,n){for(var p=0;p<r.length;p++)r[p].loadChartView=r[p].scheduleChartView=c;c.loadChartItems=c.scheduleChartItems=k;c.settings=n;c.refreshLoadChartItem=H;c.insertLoadChartItem=function(n,p){var v=n;p.loadChartView=p.scheduleChartView=c;p.isVirtuallyVisible=true;p.loadChartIndex=p.scheduleChartIndex=v;var u=0,E;for(E=0;E<v;E++)k[E].isHidden||u++;p.scheduleChartVisibilityIndex=u;p.isBarVisible=false;v=
v<k.length?k[v].index:r.length;k.splice(p.loadChartIndex,0,p);c.insertItem(v++,p);if(typeof p.ganttChartItems!=="undefined")for(E=0;E<p.ganttChartItems.length;E++){u=p.ganttChartItems[E];u.loadChartView=u.scheduleChartView=c;u.loadChartItem=u.scheduleChartItem=p;u.isHidden=p.isHidden;u.displayRowIndex=p.scheduleChartVisibilityIndex;u.indentation=p.indentation;c.insertItem(v++,u)}for(E=p.loadChartIndex+1;E<k.length;E++){v=k[E];v.loadChartIndex=v.scheduleChartIndex=E;typeof v.scheduleChartVisibilityIndex!==
"undefined"&&v.scheduleChartVisibilityIndex++;if(typeof v.ganttChartItems!=="undefined")for(u=0;u<v.ganttChartItems.length;u++)v.ganttChartItems[u].displayRowIndex=v.scheduleChartVisibilityIndex;H(v)}};c.addLoadChartItem=function(n){c.insertLoadChartItem(k.length,n)};c.insertLoadChartItems=function(k,n){for(var p=0;p<n.length;p++)c.insertLoadChartItem(k++,n[p])};c.addLoadChartItems=function(k){for(var n=0;n<k.length;n++)c.addLoadChartItem(k[n])};c.removeLoadChartItem=function(n){if(typeof n.ganttChartItems!==
"undefined")for(var p=0;p<n.ganttChartItems.length;p++)c.removeItem(n.ganttChartItems[p]);c.removeItem(n);k.splice(n.loadChartIndex,1);for(n=n.loadChartIndex;n<k.length;n++){p=k[n];p.loadChartIndex=p.scheduleChartIndex=n;typeof p.scheduleChartVisibilityIndex!=="undefined"&&p.scheduleChartVisibilityIndex--;if(typeof p.ganttChartItems!=="undefined")for(var r=0;r<p.ganttChartItems.length;r++)p.ganttChartItems[r].displayRowIndex=p.scheduleChartVisibilityIndex;H(p)}};c.removeLoadChartItems=function(k){for(var n=
0;n<k.length;n++)c.removeLoadChartItem(k[n])};c.moveLoadChartRange=function(n,p,r){if(!(n<0||r<0||r==n||r>k.length-p)){var u=[],E;for(E=n;E<n+p;E++)u.push(k[E]);k.splice(n,p);for(E=0;E<u.length;E++)k.splice(r+E,0,u[E]);R(c);if(typeof c.settings.itemMoveHandler!=="undefined")for(E=0;E<u.length;E++)c.settings.itemMoveHandler(u[E],n+E,r+E)}};c.moveLoadChartItem=function(n,p){J(n,p,c,k)};c.moveLoadChartItemUp=function(n){var p=k.indexOf(n);p<=0||J(n,p-1,c,k)};c.moveLoadChartItemDown=function(n){var p=
k.indexOf(n);p<0||p>=k.length-1||J(n,p+1,c,k)}},ta=function(c,r,k){c.items=r;c.refresh=function(){R(c)};c.exportContent=function(n,p){typeof n==="undefined"&&(n={});ia(n.title,n.preparingMessage,n.isGridVisible,n.columnIndexes,n.timelineStart,n.timelineFinish,n.isRelativeToTimezone,n.hourWidth,n.startRowIndex,n.endRowIndex,p,false,n.rotate,false,c,r,k)};c.print=function(n){typeof n==="undefined"&&(n={});ia(n.title,n.preparingMessage,n.isGridVisible,n.columnIndexes,n.timelineStart,n.timelineFinish,
n.isRelativeToTimezone,n.hourWidth,n.startRowIndex,n.endRowIndex,null,true,n.rotate,n.autoClose,c,r,k)}};return{initialize:U,refresh:R,getDefaultColumns:O,getDefaultScales:DlhSoft.Controls.GanttChartView.getDefaultScales,getDefaultAllocationTemplate:K,getDefaultItemTemplate:DlhSoft.Controls.GanttChartView.getDefaultItemTemplate,getWorkingTime:DlhSoft.Controls.GanttChartView.getWorkingTime,textColumnTemplateBase:DlhSoft.Controls.GanttChartView.textColumnTemplateBase,textInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase,
getOutputDate:DlhSoft.Controls.GanttChartView.getOutputDate,getInputDate:DlhSoft.Controls.GanttChartView.getInputDate}}());
